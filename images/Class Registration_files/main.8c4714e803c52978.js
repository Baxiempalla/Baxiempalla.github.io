"use strict";(self.webpackChunkps_app=self.webpackChunkps_app||[]).push([[179],{1668:(qe,_e,k)=>{k.d(_e,{A:()=>Y});var C=k(529),D=k(2868),e=k(3071);class H{constructor(){}intercept(L,te){return te.handle(L).pipe((0,D.b)(()=>{},re=>{if(re instanceof C.UA){if(401!==re.status)return;window.location.href=getPortal()}}))}}H.\u0275fac=function(L){return new(L||H)},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac});class W{constructor(){}intercept(L,te){return L=L.clone({setParams:{_:`${(new Date).getTime()}`}}),te.handle(L)}}W.\u0275fac=function(L){return new(L||W)},W.\u0275prov=e.Yz7({token:W,factory:W.\u0275fac});var Q=k(9380);class ee{constructor(L){this.translationService=L,this.MSG_KEY_PREFIX="psx.js.scripts_components_shared_interceptors",L.getPSSTranslations(this.MSG_KEY_PREFIX,`${this.MSG_KEY_PREFIX}.cross_site_script_title`),this.translationService.get(`${this.MSG_KEY_PREFIX}.cross_site_script_title`).subscribe(te=>{this.title=te}),this.translationService.get(`${this.MSG_KEY_PREFIX}.cross_site_script_body`).subscribe(te=>{this.message=te})}intercept(L,te){return te.handle(L).pipe((0,D.b)(()=>{},re=>{if(re instanceof C.UA){if(417!==re.status)return;psDialog({type:"dialogM",resizable:!1,title:this.title,content:`<div><p class='feedback-error'>${this.message}</p></div>`,width:400})}}))}}ee.\u0275fac=function(L){return new(L||ee)(e.LFG(Q.h))},ee.\u0275prov=e.Yz7({token:ee,factory:ee.\u0275fac});const Y=[{provide:C.TP,useClass:H,multi:!0},{provide:C.TP,useClass:W,multi:!0},{provide:C.TP,useClass:ee,multi:!0}]},382:(qe,_e,k)=>{k.d(_e,{B:()=>ve});var C=k(591),D=k(3489);class H{constructor(J,pe){this.predicate=J,this.inclusive=pe}call(J,pe){return pe.subscribe(new W(J,this.predicate,this.inclusive))}}class W extends D.L{constructor(J,pe,ie){super(J),this.predicate=pe,this.inclusive=ie,this.index=0}_next(J){const pe=this.destination;let ie;try{ie=this.predicate(J,this.index++)}catch(Ne){return void pe.error(Ne)}this.nextOrComplete(J,ie)}nextOrComplete(J,pe){const ie=this.destination;Boolean(pe)?ie.next(J):(this.inclusive&&ie.next(J),ie.complete())}}const ee=(()=>{function q(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return q.prototype=Object.create(Error.prototype),q})();var Y=k(2198),K=k(4231),L=k(8896);function te(q){return function(pe){return 0===q?(0,L.c)():pe.lift(new re(q))}}class re{constructor(J){if(this.total=J,this.total<0)throw new K.W}call(J,pe){return pe.subscribe(new ye(J,this.total))}}class ye extends D.L{constructor(J,pe){super(J),this.total=pe,this.ring=new Array,this.count=0}_next(J){const pe=this.ring,ie=this.total,Ne=this.count++;pe.length<ie?pe.push(J):pe[Ne%ie]=J}_complete(){const J=this.destination;let pe=this.count;if(pe>0){const ie=this.count>=this.total?this.total:this.count,Ne=this.ring;for(let ne=0;ne<ie;ne++){const Ve=pe++%ie;J.next(Ne[Ve])}}J.complete()}}function De(q=je){return J=>J.lift(new Pe(q))}class Pe{constructor(J){this.errorFactory=J}call(J,pe){return pe.subscribe(new fe(J,this.errorFactory))}}class fe extends D.L{constructor(J,pe){super(J),this.errorFactory=pe,this.hasValue=!1}_next(J){this.hasValue=!0,this.destination.next(J)}_complete(){if(this.hasValue)return this.destination.complete();{let J;try{J=this.errorFactory()}catch(pe){J=pe}this.destination.error(J)}}}function je(){return new ee}function we(q=null){return J=>J.lift(new Ae(q))}class Ae{constructor(J){this.defaultValue=J}call(J,pe){return pe.subscribe(new Ze(J,this.defaultValue))}}class Ze extends D.L{constructor(J,pe){super(J),this.defaultValue=pe,this.isEmpty=!0}_next(J){this.isEmpty=!1,this.destination.next(J)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var bt=k(5379),Tt=k(3071);class ve{constructor(){this.messageSource=new C.X(void 0),this.getPDSToolkitWhenReady=this.messageSource.pipe(function e(q,J=!1){return pe=>pe.lift(new H(q,J))}(J=>null==J,!0),function Nt(q,J){const pe=arguments.length>=2;return ie=>ie.pipe(q?(0,Y.h)((Ne,ne)=>q(Ne,ne,ie)):bt.y,te(1),pe?we(J):De(()=>new ee))}()),this.waitOnToolkit()}waitOnToolkit(){powerSchoolDesignSystemToolkit?this.messageSource.next(powerSchoolDesignSystemToolkit):setTimeout(()=>{this.waitOnToolkit()})}}ve.\u0275fac=function(J){return new(J||ve)},ve.\u0275prov=Tt.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})},9380:(qe,_e,k)=>{k.d(_e,{h:()=>H});var C=k(4215),D=k(1086),e=k(3071);class H extends C.sK{constructor(Q,ee,Y,K){super(Q,ee,Y,K,null,!0,!1,!1,get_locale()),this.setDefaultLang(get_locale())}getTranslation(Q){return(0,D.of)(Q)}getPSSTranslations(Q,ee){pss_get_texts(Q,ee)}get(Q,ee){const Y=[];return ee&&Object.keys(ee).forEach(K=>{Y.push(ee[K])}),(0,D.of)(pss_text(Q,Y))}translate(Q,ee){const Y=Q.split("."),K=Y.splice(0,Y.length-1).join(".");return pss_get_texts(K,Q),pss_text(Q,ee)}}H.\u0275fac=function(Q){return new(Q||H)(e.LFG(C.gM),e.LFG(C.Zw),e.LFG(C.k2),e.LFG(C.qi))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})},1342:(qe,_e,k)=>{k.d(_e,{h:()=>K});var C=k(9380),D=k(3071),e=k(6895),H=k(4215);function W(L,te){if(1&L){const re=D.EpF();D.TgZ(0,"button",10),D.NdJ("click",function(){const Pe=D.CHM(re).$implicit;return D.KtG(Pe.callback())}),D._uU(1),D.ALo(2,"translate"),D.qZA()}if(2&L){const re=te.$implicit;D.s9C("id",re.id),D.Q6J("disabled",re.disabled),D.xp6(1),D.Oqu(D.lcZ(2,3,re.text))}}function Q(L,te){1&L&&D._UZ(0,"div",11)}const ee=function(L,te){return{inactive:L,expanded:te}};class K{constructor(te){this.showDialog=!1}set updateShowDialog(te){this.open(te)}ngOnInit(){}open(te){te?(this.showDialog=!0,document.getElementsByTagName("body")[0].classList.add("drawerPanelExpanded")):(this.showDialog=!1,document.getElementsByTagName("body")[0].classList.remove("drawerPanelExpanded"))}close(){this.options.closeFunction&&this.options.closeFunction(),this.showDialog=!1,document.getElementsByTagName("body")[0].classList.remove("drawerPanelExpanded")}}K.\u0275fac=function(te){return new(te||K)(D.Y36(C.h))},K.\u0275cmp=D.Xpm({type:K,selectors:[["pss-drawer"]],inputs:{options:"options",updateShowDialog:["showDialog","updateShowDialog"]},ngContentSelectors:["*"],decls:15,vars:9,consts:[[1,"pss-drawer","inactive",3,"ngClass"],[1,"header","pds-app-actions"],["type","button","id","closeDialogBtn","role","button","title","Close Dialog",1,"ui-button","ui-widget","ui-state-default","ui-corner-all","ui-button-icon-only","ui-dialog-titlebar-close",3,"click"],[1,"ui-button-icon-primary","ui-icon","ui-icon-closethick"],[1,"ui-button-text"],[1,"content"],[1,"buttonpane"],[1,"buttonset"],["type","button",3,"id","disabled","click",4,"ngFor","ngForOf"],["class","ui-widget-overlay ui-front",4,"ngIf"],["type","button",3,"id","disabled","click"],[1,"ui-widget-overlay","ui-front"]],template:function(te,re){1&te&&(D.F$t(),D.TgZ(0,"div",0)(1,"div",1)(2,"span"),D._uU(3),D.ALo(4,"translate"),D.qZA(),D.TgZ(5,"button",2),D.NdJ("click",function(){return re.close()}),D._UZ(6,"span",3),D.TgZ(7,"span",4),D._uU(8,"Close Dialog"),D.qZA()()(),D.TgZ(9,"div",5),D.Hsn(10),D.qZA(),D.TgZ(11,"div",6)(12,"div",7),D.YNc(13,W,3,5,"button",8),D.qZA()()(),D.YNc(14,Q,1,0,"div",9)),2&te&&(D.Q6J("ngClass",D.WLB(6,ee,!re.showDialog,re.showDialog)),D.xp6(3),D.Oqu(D.lcZ(4,4,re.options.title)),D.xp6(10),D.Q6J("ngForOf",re.options.buttons),D.xp6(1),D.Q6J("ngIf",re.showDialog))},dependencies:[e.mk,e.sg,e.O5,H.X$],styles:[".pss-drawer[_ngcontent-%COMP%]{inset-inline-end:0;inset-inline-start:auto;bottom:auto;-webkit-border-start:1px solid #666;border-inline-start:1px solid #666;box-shadow:-10px 0 10px #0000;position:fixed;top:0;background:#fff;z-index:98998;height:100%}.pss-drawer.inactive[_ngcontent-%COMP%]{inset-inline-end:-720px;transition:end .75s cubic-bezier(.82,.085,.395,.895)}.pss-drawer.expanded[_ngcontent-%COMP%]{width:700px;transition:end .75s cubic-bezier(.82,.085,.395,.895)}.pss-drawer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-height:calc(100% - 105px);height:auto;overflow-y:auto;width:100%}.pss-drawer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#00427c;color:#fff;border-width:1px 0;border-style:solid;border-color:#444;box-shadow:0 2px 5px #0006;padding:10px;height:28px;font-size:1.5em}.pss-drawer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{float:right;bottom:.4em;position:absolute;inset-block-start:5px;inset-inline:650px;height:27px;width:27px;border-radius:4px;z-index:200}.pss-drawer[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > span.ui-button-icon-primary[_ngcontent-%COMP%]{height:16px}.pss-drawer[_ngcontent-%COMP%]   .buttonpane[_ngcontent-%COMP%]{border-top:1px solid #666;background-color:#e7e7e7;position:absolute;bottom:0;inset-inline-end:0;inset-inline-start:0;box-shadow:0 -2px 5px #0006;height:50px}.pss-drawer[_ngcontent-%COMP%]   .buttonpane[_ngcontent-%COMP%] > .buttonset[_ngcontent-%COMP%]{margin:8px 10px;text-align:end}.pss-drawer[_ngcontent-%COMP%]   .buttonpane[_ngcontent-%COMP%] > .buttonset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:.3em .5em}.ui-widget-overlay.ui-front[_ngcontent-%COMP%]{z-index:98997}"]})},546:(qe,_e,k)=>{k.d(_e,{y:()=>ee});var C=k(4006),D=k(6895),e=k(529),H=k(4215),W=k(9380),Q=k(3071);class ee{}ee.\u0275fac=function(K){return new(K||ee)},ee.\u0275mod=Q.oAB({type:ee}),ee.\u0275inj=Q.cJS({providers:[{provide:H.sK,useClass:W.h}],imports:[C.u5,D.ez,e.JF,H.aw]})},3164:(qe,_e,k)=>{var C={};k.r(C),k.d(C,{VERSION:()=>eu,after:()=>xs,all:()=>Vr,allKeys:()=>Ga,any:()=>Mu,assign:()=>yl,before:()=>p_,bind:()=>Yo,bindAll:()=>xu,chain:()=>wl,chunk:()=>ov,clone:()=>ys,collect:()=>Mo,compact:()=>pi,compose:()=>JC,constant:()=>$a,contains:()=>So,countBy:()=>y_,create:()=>AC,debounce:()=>KC,default:()=>rv,defaults:()=>zp,defer:()=>tw,delay:()=>qC,detect:()=>wo,difference:()=>x_,drop:()=>Il,each:()=>no,escape:()=>RC,every:()=>Vr,extend:()=>Yp,extendOwn:()=>yl,filter:()=>zo,find:()=>wo,findIndex:()=>za,findKey:()=>Ya,findLastIndex:()=>g_,findWhere:()=>Ol,first:()=>El,flatten:()=>b_,foldl:()=>C_,foldr:()=>Pl,forEach:()=>no,functions:()=>Br,get:()=>NC,groupBy:()=>Tu,has:()=>n_,head:()=>El,identity:()=>i_,include:()=>So,includes:()=>So,indexBy:()=>Pu,indexOf:()=>wu,initial:()=>Eu,inject:()=>C_,intersection:()=>tv,invert:()=>vl,invoke:()=>v_,isArguments:()=>yo,isArray:()=>Co,isArrayBuffer:()=>au,isBoolean:()=>Bp,isDataView:()=>_l,isDate:()=>Wx,isElement:()=>SC,isEmpty:()=>DC,isEqual:()=>ew,isError:()=>Vp,isFinite:()=>PC,isFunction:()=>$n,isMap:()=>EC,isMatch:()=>$p,isNaN:()=>gl,isNull:()=>Lp,isNumber:()=>OC,isObject:()=>mo,isRegExp:()=>ja,isSet:()=>IC,isString:()=>ru,isSymbol:()=>su,isTypedArray:()=>jp,isUndefined:()=>Rp,isWeakMap:()=>Qp,isWeakSet:()=>Cl,iteratee:()=>vu,keys:()=>wn,last:()=>ev,lastIndexOf:()=>QC,map:()=>Mo,mapObject:()=>Ei,matcher:()=>bs,matches:()=>bs,max:()=>Hr,memoize:()=>GC,methods:()=>Br,min:()=>ws,mixin:()=>S_,negate:()=>h_,noop:()=>o_,now:()=>Ja,object:()=>M_,omit:()=>XC,once:()=>__,pairs:()=>FC,partial:()=>Qa,partition:()=>Du,pick:()=>ku,pluck:()=>Su,property:()=>bl,propertyOf:()=>r_,random:()=>yu,range:()=>iv,reduce:()=>C_,reduceRight:()=>Pl,reject:()=>iw,rest:()=>Il,restArguments:()=>oi,result:()=>jC,sample:()=>Dl,select:()=>zo,shuffle:()=>kl,size:()=>zC,some:()=>Mu,sortBy:()=>Wa,sortedIndex:()=>Sl,tail:()=>Il,take:()=>El,tap:()=>bo,template:()=>l_,templateSettings:()=>rt,throttle:()=>nw,times:()=>LC,toArray:()=>Ms,toPath:()=>e_,transpose:()=>Iu,unescape:()=>VC,union:()=>w_,uniq:()=>Xa,unique:()=>Xa,uniqueId:()=>UC,unzip:()=>Iu,values:()=>Qo,where:()=>YC,without:()=>ow,wrap:()=>u_,zip:()=>nv});var D=k(1481),e=k(3071),H=k(6895),W=k(529);let Q;try{Q=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Q=!1}let re,Ae,ee=(()=>{class r{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,H.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Q)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.Lbi))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function De(r){return function ye(){if(null==re&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>re=!0}))}finally{re=re||!1}return re}()?r:!!r.capture}function bt(r){if(function Ze(){if(null==Ae){const r=typeof document<"u"?document.head:null;Ae=!(!r||!r.createShadowRoot&&!r.attachShadow)}return Ae}()){const n=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Tt(r){return r.composedPath?r.composedPath()[0]:r.target}let Ui=(()=>{class r{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ac=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Ui]}),r})();function Fn(r){return null!=r&&"false"!=`${r}`}function xr(r,n=0){return function $i(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):n}function Gi(r){return Array.isArray(r)?r:[r]}function Ct(r){return r instanceof e.SBq?r.nativeElement:r}var We=k(8929),bn=k(2866),mi=k(6688),zn=k(3489);class qi extends zn.L{notifyNext(n,t,a,c,u){this.destination.next(t)}notifyError(n,t){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class Zn extends zn.L{constructor(n,t,a){super(),this.parent=n,this.outerValue=t,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ca=k(9249),ci=k(2916);function la(r,n,t,a,c=new Zn(r,t,a)){if(!c.closed)return n instanceof ci.y?n.subscribe(c):(0,ca.s)(n)(c)}var Nc=k(3009);const wr={};class Lc{constructor(n){this.resultSelector=n}call(n,t){return t.subscribe(new Rc(n,this.resultSelector))}}class Rc extends qi{constructor(n,t){super(n),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(wr),this.observables.push(n)}_complete(){const n=this.observables,t=n.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let a=0;a<t;a++)this.add(la(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,t,a){const c=this.values,_=this.toRespond?c[a]===wr?--this.toRespond:this.toRespond:0;c[a]=t,0===_&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(n){let t;try{t=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(t)}}var Mi=k(1221),ua=k(2986);class ld{constructor(n){this.total=n}call(n,t){return t.subscribe(new es(n,this.total))}}class es extends zn.L{constructor(n,t){super(n),this.total=t,this.count=0}_next(n){++this.count>this.total&&this.destination.next(n)}}var ts=k(6686),ha=k(2268);const Ki=new ha.v(ts.o);class Vc{constructor(n,t){this.dueTime=n,this.scheduler=t}call(n,t){return t.subscribe(new Hc(n,this.dueTime,this.scheduler))}}class Hc extends zn.L{constructor(n,t,a){super(n),this.dueTime=t,this.scheduler=a,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_a,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function _a(r){r.debouncedNext()}var Wn=k(4850);function Si(...r){const n=r[r.length-1];return(0,bn.K)(n)?(r.pop(),t=>(0,Mi.z)(r,t,n)):t=>(0,Mi.z)(r,t)}var Ci=k(1177);function Xn(r){return n=>n.lift(new Zc(r))}class Zc{constructor(n){this.notifier=n}call(n,t){const a=new jc(n),c=(0,Ci.ft)(this.notifier,new Ci.IY(a));return c&&!a.seenValue?(a.add(c),t.subscribe(a)):a}}class jc extends Ci.Ds{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const Mr=new Set;let Ji,ns=(()=>{class r{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ei}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Uc(r){if(!Mr.has(r))try{Ji||(Ji=document.createElement("style"),Ji.setAttribute("type","text/css"),document.head.appendChild(Ji)),Ji.sheet&&(Ji.sheet.insertRule(`@media ${r} {body{ }}`,0),Mr.add(r))}catch(n){console.error(n)}}(t),this._matchMedia(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ee))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ei(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let fa=(()=>{class r{constructor(t,a){this._mediaMatcher=t,this._zone=a,this._queries=new Map,this._destroySubject=new We.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return is(Gi(t)).some(c=>this._registerQuery(c).mql.matches)}observe(t){let u=function da(...r){let n,t;return(0,bn.K)(r[r.length-1])&&(t=r.pop()),"function"==typeof r[r.length-1]&&(n=r.pop()),1===r.length&&(0,mi.k)(r[0])&&(r=r[0]),(0,Nc.n)(r,t).lift(new Lc(n))}(is(Gi(t)).map(_=>this._registerQuery(_).observable));return u=(0,Mi.z)(u.pipe((0,ua.q)(1)),u.pipe(function Bc(r){return n=>n.lift(new ld(r))}(1),function Ho(r,n=Ki){return t=>t.lift(new Vc(r,n))}(0))),u.pipe((0,Wn.U)(_=>{const S={matches:!1,breakpoints:{}};return _.forEach(({matches:F,query:j})=>{S.matches=S.matches||F,S.breakpoints[j]=F}),S}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const a=this._mediaMatcher.matchMedia(t),u={observable:new ci.y(_=>{const S=F=>this._zone.run(()=>_.next(F));return a.addListener(S),()=>{a.removeListener(S)}}).pipe(Si(a),(0,Wn.U)(({matches:_})=>({query:t,matches:_})),Xn(this._destroySubject)),mql:a};return this._queries.set(t,u),u}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ns),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function is(r){return r.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}const Nh=new e.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ya(){return null}}),ba=new e.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let _d=0,qc=(()=>{class r{constructor(t,a,c,u){this._ngZone=a,this._defaultOptions=u,this._document=c,this._liveElement=t||this._createLiveElement()}announce(t,...a){const c=this._defaultOptions;let u,_;return 1===a.length&&"number"==typeof a[0]?_=a[0]:[u,_]=a,this.clear(),clearTimeout(this._previousTimeout),u||(u=c&&c.politeness?c.politeness:"polite"),null==_&&c&&(_=c.duration),this._liveElement.setAttribute("aria-live",u),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(S=>this._currentResolve=S)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof _&&(this._previousTimeout=setTimeout(()=>this.clear(),_)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",a=this._document.getElementsByClassName(t),c=this._document.createElement("div");for(let u=0;u<a.length;u++)a[u].remove();return c.classList.add(t),c.classList.add("cdk-visually-hidden"),c.setAttribute("aria-atomic","true"),c.setAttribute("aria-live","polite"),c.id="cdk-live-announcer-"+_d++,this._document.body.appendChild(c),c}_exposeAnnouncerToModals(t){const a=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let c=0;c<a.length;c++){const u=a[c],_=u.getAttribute("aria-owns");_?-1===_.indexOf(t)&&u.setAttribute("aria-owns",_+" "+t):u.setAttribute("aria-owns",t)}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Nh,8),e.LFG(e.R0b),e.LFG(H.K0),e.LFG(ba,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Kc="cdk-high-contrast-black-on-white",m="cdk-high-contrast-white-on-black",M="cdk-high-contrast-active";let b=(()=>{class r{constructor(t,a){this._platform=t,this._document=a,this._breakpointSubscription=(0,e.f3M)(fa).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const a=this._document.defaultView||window,c=a&&a.getComputedStyle?a.getComputedStyle(t):null,u=(c&&c.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(M,Kc,m),this._hasCheckedHighContrastMode=!0;const a=this.getHighContrastMode();1===a?t.add(M,Kc):2===a&&t.add(M,m)}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ee),e.LFG(H.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),P=(()=>{class r{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(b))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Ac]}),r})();var N=k(1086),oe=k(7043);function Be(r,n,t,a){return(0,oe.m)(t)&&(a=t,t=void 0),a?Be(r,n,t).pipe((0,Wn.U)(c=>(0,mi.k)(c)?a(...c):a(c))):new ci.y(c=>{yt(r,n,function u(_){c.next(arguments.length>1?Array.prototype.slice.call(arguments):_)},c,t)})}function yt(r,n,t,a,c){let u;if(function ht(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const _=r;r.addEventListener(n,t,c),u=()=>_.removeEventListener(n,t,c)}else if(function Pt(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const _=r;r.on(n,t),u=()=>_.off(n,t)}else if(function wt(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const _=r;r.addListener(n,t),u=()=>_.removeListener(n,t)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let _=0,S=r.length;_<S;_++)yt(r[_],n,t,a,c)}a.add(u)}const qt=new class Dt extends ha.v{flush(n){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let a,c=-1,u=t.length;n=n||t.shift();do{if(a=n.execute(n.state,n.delay))break}while(++c<u&&(n=t.shift()));if(this.active=!1,a){for(;++c<u&&(n=t.shift());)n.unsubscribe();throw a}}}(class on extends ts.o{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,a=0){return null!==a&&a>0?super.requestAsyncId(n,t,a):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(()=>n.flush(null))))}recycleAsyncId(n,t,a=0){if(null!==a&&a>0||null===a&&this.delay>0)return super.recycleAsyncId(n,t,a);0===n.actions.length&&(cancelAnimationFrame(t),n.scheduled=void 0)}});let ti=1;const zi=Promise.resolve(),li={};function vi(r){return r in li&&(delete li[r],!0)}const Wi={setImmediate(r){const n=ti++;return li[n]=!0,zi.then(()=>vi(n)&&r()),n},clearImmediate(r){vi(r)}};new class md extends ha.v{flush(n){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let a,c=-1,u=t.length;n=n||t.shift();do{if(a=n.execute(n.state,n.delay))break}while(++c<u&&(n=t.shift()));if(this.active=!1,a){for(;++c<u&&(n=t.shift());)n.unsubscribe();throw a}}}(class Dx extends ts.o{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,a=0){return null!==a&&a>0?super.requestAsyncId(n,t,a):(n.actions.push(this),n.scheduled||(n.scheduled=Wi.setImmediate(n.flush.bind(n,null))))}recycleAsyncId(n,t,a=0){if(null!==a&&a>0||null===a&&this.delay>0)return super.recycleAsyncId(n,t,a);0===n.actions.length&&(Wi.clearImmediate(t),n.scheduled=void 0)}});class Ix{constructor(n){this.durationSelector=n}call(n,t){return t.subscribe(new Fx(n,this.durationSelector))}}class Fx extends Ci.Ds{constructor(n,t){super(n),this.durationSelector=t,this.hasValue=!1}_next(n){if(this.value=n,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:c}=this;t=c(n)}catch(c){return this.destination.error(c)}const a=(0,Ci.ft)(t,new Ci.IY(this));!a||a.closed?this.clearThrottle():this.add(this.throttled=a)}}clearThrottle(){const{value:n,hasValue:t,throttled:a}=this;a&&(this.remove(a),this.throttled=void 0,a.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function xa(r){return!(0,mi.k)(r)&&r-parseFloat(r)+1>=0}function Hh(r){const{index:n,period:t,subscriber:a}=r;if(a.next(n),!a.closed){if(-1===t)return a.complete();r.index=n+1,this.schedule(r,t)}}function ss(r,n=Ki){return function dm(r){return function(t){return t.lift(new Ix(r))}}(()=>function Vh(r=0,n,t){let a=-1;return xa(n)?a=Number(n)<1?1:Number(n):(0,bn.K)(n)&&(t=n),(0,bn.K)(t)||(t=Ki),new ci.y(c=>{const u=xa(r)?r:+r-t.now();return t.schedule(Hh,u,{index:0,period:a,subscriber:c})})}(r,n))}var Zh=k(2198);let Uh=(()=>{class r{constructor(t,a,c){this._ngZone=t,this._platform=a,this._scrolled=new We.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const a=this.scrollContainers.get(t);a&&(a.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ci.y(a=>{this._globalSubscription||this._addGlobalListener();const c=t>0?this._scrolled.pipe(ss(t)).subscribe(a):this._scrolled.subscribe(a);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,N.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,a)=>this.deregister(a)),this._scrolled.complete()}ancestorScrolled(t,a){const c=this.getAncestorScrollContainers(t);return this.scrolled(a).pipe((0,Zh.h)(u=>!u||c.indexOf(u)>-1))}getAncestorScrollContainers(t){const a=[];return this.scrollContainers.forEach((c,u)=>{this._scrollableContainsElement(u,t)&&a.push(u)}),a}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,a){let c=Ct(a),u=t.getElementRef().nativeElement;do{if(c==u)return!0}while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Be(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.R0b),e.LFG(ee),e.LFG(H.K0,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Xi=(()=>{class r{constructor(t,a,c){this._platform=t,this._change=new We.xQ,this._changeListener=u=>{this._change.next(u)},this._document=c,a.runOutsideAngular(()=>{if(t.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:a,height:c}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+c,right:t.left+a,height:c,width:a}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,a=this._getWindow(),c=t.documentElement,u=c.getBoundingClientRect();return{top:-u.top||t.body.scrollTop||a.scrollY||c.scrollTop||0,left:-u.left||t.body.scrollLeft||a.scrollX||c.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ss(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ee),e.LFG(e.R0b),e.LFG(H.K0,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Kh=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var wa=k(2654);function Tr(r){const{subscriber:n,counter:t,period:a}=r;n.next(t),this.schedule({subscriber:n,counter:t+1,period:a},a)}var xd=k(6787),Jh=k(2868),Qh=k(7545);const as=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function Cm(){return(0,e.f3M)(H.K0)}}),Yh=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zh=(()=>{class r{constructor(t){this.value="ltr",this.change=new e.vpe,t&&(this.value=function wd(r){const n=r?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?Yh.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(as,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Zo(r,n,t){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];c?r.setProperty(a,c,t?.has(a)?"important":""):r.removeProperty(a)}return r}function Ti(r,n){const t=n?"":"none";Zo(r.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Pr(r,n,t){Zo(r.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function Ma(r,n){return n&&"none"!=n?r+" "+n:r}function Qc(r){const n=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*n}function Xh(r,n){return r.getPropertyValue(n).split(",").map(a=>a.trim())}function Md(r){const n=r.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function Rt(r,n,t){const{top:a,bottom:c,left:u,right:_}=r;return t>=a&&t<=c&&n>=u&&n<=_}function Yc(r,n,t){r.top+=n,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width}function ym(r,n,t,a){const{top:c,right:u,bottom:_,left:S,width:F,height:j}=r,ue=F*n,Me=j*n;return a>c-Me&&a<_+Me&&t>S-ue&&t<u+ue}class bm{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Md(t)})})}handleScroll(n){const t=Tt(n),a=this.positions.get(t);if(!a)return null;const c=a.scrollPosition;let u,_;if(t===this._document){const j=this.getViewportScrollPosition();u=j.top,_=j.left}else u=t.scrollTop,_=t.scrollLeft;const S=c.top-u,F=c.left-_;return this.positions.forEach((j,ue)=>{j.clientRect&&t!==ue&&t.contains(ue)&&Yc(j.clientRect,S,F)}),c.top=u,c.left=_,{top:S,left:F}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function xm(r){const n=r.cloneNode(!0),t=n.querySelectorAll("[id]"),a=r.nodeName.toLowerCase();n.removeAttribute("id");for(let c=0;c<t.length;c++)t[c].removeAttribute("id");return"canvas"===a?ls(r,n):("input"===a||"select"===a||"textarea"===a)&&Mm(r,n),wm("canvas",r,n,ls),wm("input, textarea, select",r,n,Mm),n}function wm(r,n,t,a){const c=n.querySelectorAll(r);if(c.length){const u=t.querySelectorAll(r);for(let _=0;_<c.length;_++)a(c[_],u[_])}}let Bx=0;function Mm(r,n){"file"!==n.type&&(n.value=r.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${Bx++}`)}function ls(r,n){const t=n.getContext("2d");if(t)try{t.drawImage(r,0,0)}catch{}}const Sm=De({passive:!0}),Sd=De({passive:!1}),Sa=new Set(["position"]);class Oa{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const t=Fn(n);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(a=>Ti(a,t)))}constructor(n,t,a,c,u,_){this._config=t,this._document=a,this._ngZone=c,this._viewportRuler=u,this._dragDropRegistry=_,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new We.xQ,this._pointerMoveSubscription=wa.w.EMPTY,this._pointerUpSubscription=wa.w.EMPTY,this._scrollSubscription=wa.w.EMPTY,this._resizeSubscription=wa.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new We.xQ,this.started=new We.xQ,this.released=new We.xQ,this.ended=new We.xQ,this.entered=new We.xQ,this.exited=new We.xQ,this.dropped=new We.xQ,this.moved=this._moveEvents,this._pointerDown=S=>{if(this.beforeStarted.next(),this._handles.length){const F=this._getTargetHandle(S);F&&!this._disabledHandles.has(F)&&!this.disabled&&this._initializeDragSequence(F,S)}else this.disabled||this._initializeDragSequence(this._rootElement,S)},this._pointerMove=S=>{const F=this._getPointerPositionOnPage(S);if(!this._hasStartedDragging){if(Math.abs(F.x-this._pickupPositionOnPage.x)+Math.abs(F.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Ot=Date.now()>=this._dragStartTime+this._getDragStartDelay(S),Vt=this._dropContainer;if(!Ot)return void this._endDragSequence(S);(!Vt||!Vt.isDragging()&&!Vt.isReceiving())&&(S.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(S)))}return}S.preventDefault();const j=this._getConstrainedPointerPosition(F);if(this._hasMoved=!0,this._lastKnownPointerPosition=F,this._updatePointerDirectionDelta(j),this._dropContainer)this._updateActiveDropContainer(j,F);else{const ue=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,Me=this._activeTransform;Me.x=j.x-ue.x+this._passiveTransform.x,Me.y=j.y-ue.y+this._passiveTransform.y,this._applyRootElementTransform(Me.x,Me.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:j,event:S,distance:this._getDragDistance(j),delta:this._pointerDirectionDelta})})},this._pointerUp=S=>{this._endDragSequence(S)},this._nativeDragStart=S=>{if(this._handles.length){const F=this._getTargetHandle(S);F&&!this._disabledHandles.has(F)&&!this.disabled&&S.preventDefault()}else this.disabled||S.preventDefault()},this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new bm(a),_.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(a=>Ct(a)),this._handles.forEach(a=>Ti(a,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(a=>{this._handles.indexOf(a)>-1&&t.add(a)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const t=Ct(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Sd),t.addEventListener("touchstart",this._pointerDown,Sm),t.addEventListener("dragstart",this._nativeDragStart,Sd)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Ct(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),Ti(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),Ti(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Pi(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const a=this._rootElement,c=a.parentNode,u=this._placeholder=this._createPlaceholderElement(),_=this._anchor=this._anchor||this._document.createComment(""),S=this._getShadowRoot();c.insertBefore(_,a),this._initialTransform=a.style.transform||"",this._preview=this._createPreviewElement(),Pr(a,!1,Sa),this._document.body.appendChild(c.replaceChild(u,a)),this._getPreviewInsertionPoint(c,S).appendChild(this._preview),this.started.next({source:this,event:n}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();const a=this.isDragging(),c=Pi(t),u=!c&&0!==t.button,_=this._rootElement,S=Tt(t),F=!c&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),j=c?function pd(r){const n=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(t):function Yi(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}(t);if(S&&S.draggable&&"mousedown"===t.type&&t.preventDefault(),a||u||F||j)return;if(this._handles.length){const Ge=_.style;this._rootElementTapHighlight=Ge.webkitTapHighlightColor||"",Ge.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ge=>this._updateOnScroll(Ge)),this._boundaryElement&&(this._boundaryRect=Md(this._boundaryElement));const ue=this._previewTemplate;this._pickupPositionInElement=ue&&ue.template&&!ue.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,n,t);const Me=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Me.x,y:Me.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){Pr(this._rootElement,!0,Sa),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,a=t.getItemIndex(this),c=this._getPointerPositionOnPage(n),u=this._getDragDistance(c),_=t._isOverContainer(c.x,c.y);this.ended.next({source:this,distance:u,dropPoint:c,event:n}),this.dropped.next({item:this,currentIndex:a,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:_,distance:u,dropPoint:c,event:n}),t.drop(this,a,this._initialIndex,this._initialContainer,_,u,c,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:a,y:c}){let u=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!u&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(u=this._initialContainer),u&&u!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=u,this._dropContainer.enter(this,n,t,u===this._initialContainer&&u.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:u,currentIndex:u.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(a,c),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,t):this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,t=this.previewClass,a=n?n.template:null;let c;if(a&&n){const u=n.matchSize?this._initialClientRect:null,_=n.viewContainer.createEmbeddedView(a,n.context);_.detectChanges(),c=Od(_,this._document),this._previewRef=_,n.matchSize?Ta(c,u):c.style.transform=zc(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else c=xm(this._rootElement),Ta(c,this._initialClientRect),this._initialTransform&&(c.style.transform=this._initialTransform);return Zo(c.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Sa),Ti(c,!1),c.classList.add("cdk-drag-preview"),c.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(u=>c.classList.add(u)):c.classList.add(t)),c}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const t=function cs(r){const n=getComputedStyle(r),t=Xh(n,"transition-property"),a=t.find(S=>"transform"===S||"all"===S);if(!a)return 0;const c=t.indexOf(a),u=Xh(n,"transition-duration"),_=Xh(n,"transition-delay");return Qc(u[c])+Qc(_[c])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(a=>{const c=_=>{(!_||Tt(_)===this._preview&&"transform"===_.propertyName)&&(this._preview?.removeEventListener("transitionend",c),a(),clearTimeout(u))},u=setTimeout(c,1.5*t);this._preview.addEventListener("transitionend",c)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,t=n?n.template:null;let a;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),a=Od(this._placeholderRef,this._document)):a=xm(this._rootElement),a.style.pointerEvents="none",a.classList.add("cdk-drag-placeholder"),a}_getPointerPositionInElement(n,t,a){const c=t===this._rootElement?null:t,u=c?c.getBoundingClientRect():n,_=Pi(a)?a.targetTouches[0]:a,S=this._getViewportScrollPosition();return{x:u.left-n.left+(_.pageX-u.left-S.left),y:u.top-n.top+(_.pageY-u.top-S.top)}}_getPointerPositionOnPage(n){const t=this._getViewportScrollPosition(),a=Pi(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,c=a.pageX-t.left,u=a.pageY-t.top;if(this._ownerSVGElement){const _=this._ownerSVGElement.getScreenCTM();if(_){const S=this._ownerSVGElement.createSVGPoint();return S.x=c,S.y=u,S.matrixTransform(_.inverse())}}return{x:c,y:u}}_getConstrainedPointerPosition(n){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:a,y:c}=this.constrainPosition?this.constrainPosition(n,this,this._initialClientRect,this._pickupPositionInElement):n;if("x"===this.lockAxis||"x"===t?c=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(a=this._pickupPositionOnPage.x),this._boundaryRect){const{x:u,y:_}=this._pickupPositionInElement,S=this._boundaryRect,{width:F,height:j}=this._getPreviewRect(),ue=S.top+_,Me=S.bottom-(j-_);a=di(a,S.left+u,S.right-(F-u)),c=di(c,ue,Me)}return{x:a,y:c}}_updatePointerDirectionDelta(n){const{x:t,y:a}=n,c=this._pointerDirectionDelta,u=this._pointerPositionAtLastDirectionChange,_=Math.abs(t-u.x),S=Math.abs(a-u.y);return _>this._config.pointerDirectionChangeThreshold&&(c.x=t>u.x?1:-1,u.x=t),S>this._config.pointerDirectionChangeThreshold&&(c.y=a>u.y?1:-1,u.y=a),c}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Ti(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,Sd),n.removeEventListener("touchstart",this._pointerDown,Sm),n.removeEventListener("dragstart",this._nativeDragStart,Sd)}_applyRootElementTransform(n,t){const a=zc(n,t),c=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=c.transform&&"none"!=c.transform?c.transform:""),c.transform=Ma(a,this._initialTransform)}_applyPreviewTransform(n,t){const a=this._previewTemplate?.template?void 0:this._initialTransform,c=zc(n,t);this._preview.style.transform=Ma(c,a)}_getDragDistance(n){const t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(0===n&&0===t||this.isDragging()||!this._boundaryElement)return;const a=this._rootElement.getBoundingClientRect(),c=this._boundaryElement.getBoundingClientRect();if(0===c.width&&0===c.height||0===a.width&&0===a.height)return;const u=c.left-a.left,_=a.right-c.right,S=c.top-a.top,F=a.bottom-c.bottom;c.width>a.width?(u>0&&(n+=u),_>0&&(n-=_)):n=0,c.height>a.height?(S>0&&(t+=S),F>0&&(t-=F)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){const t=this.dragStartDelay;return"number"==typeof t?t:Pi(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){const t=this._parentPositions.handleScroll(n);if(t){const a=Tt(n);this._boundaryRect&&a!==this._boundaryElement&&a.contains(this._boundaryElement)&&Yc(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=bt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){const a=this._previewContainer||"global";if("parent"===a)return n;if("global"===a){const c=this._document;return t||c.fullscreenElement||c.webkitFullscreenElement||c.mozFullScreenElement||c.msFullscreenElement||c.body}return Ct(a)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(n){return this._handles.find(t=>n.target&&(n.target===t||t.contains(n.target)))}}function zc(r,n){return`translate3d(${Math.round(r)}px, ${Math.round(n)}px, 0)`}function di(r,n,t){return Math.max(n,Math.min(t,r))}function Pi(r){return"t"===r.type[0]}function Od(r,n){const t=r.rootNodes;if(1===t.length&&t[0].nodeType===n.ELEMENT_NODE)return t[0];const a=n.createElement("div");return t.forEach(c=>a.appendChild(c)),a}function Ta(r,n){r.style.width=`${n.width}px`,r.style.height=`${n.height}px`,r.style.transform=zc(n.left,n.top)}function Dr(r,n,t){const a=Pa(n,r.length-1),c=Pa(t,r.length-1);if(a===c)return;const u=r[a],_=c<a?-1:1;for(let S=a;S!==c;S+=_)r[S]=r[S+_];r[c]=u}function Pa(r,n){return Math.max(0,Math.min(n,r))}class Vx{constructor(n,t){this._element=n,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(n){this.withItems(n)}sort(n,t,a,c){const u=this._itemPositions,_=this._getItemIndexFromPointerPosition(n,t,a,c);if(-1===_&&u.length>0)return null;const S="horizontal"===this.orientation,F=u.findIndex(cn=>cn.drag===n),j=u[_],Me=j.clientRect,Ge=F>_?1:-1,Ot=this._getItemOffsetPx(u[F].clientRect,Me,Ge),Vt=this._getSiblingOffsetPx(F,u,Ge),kn=u.slice();return Dr(u,F,_),u.forEach((cn,od)=>{if(kn[od]===cn)return;const Dc=cn.drag===n,Yr=Dc?Ot:Vt,rd=Dc?n.getPlaceholderElement():cn.drag.getRootElement();cn.offset+=Yr,S?(rd.style.transform=Ma(`translate3d(${Math.round(cn.offset)}px, 0, 0)`,cn.initialTransform),Yc(cn.clientRect,0,Yr)):(rd.style.transform=Ma(`translate3d(0, ${Math.round(cn.offset)}px, 0)`,cn.initialTransform),Yc(cn.clientRect,Yr,0))}),this._previousSwap.overlaps=Rt(Me,t,a),this._previousSwap.drag=j.drag,this._previousSwap.delta=S?c.x:c.y,{previousIndex:F,currentIndex:_}}enter(n,t,a,c){const u=null==c||c<0?this._getItemIndexFromPointerPosition(n,t,a):c,_=this._activeDraggables,S=_.indexOf(n),F=n.getPlaceholderElement();let j=_[u];if(j===n&&(j=_[u+1]),!j&&(null==u||-1===u||u<_.length-1)&&this._shouldEnterAsFirstChild(t,a)&&(j=_[0]),S>-1&&_.splice(S,1),j&&!this._dragDropRegistry.isDragging(j)){const ue=j.getRootElement();ue.parentElement.insertBefore(F,ue),_.splice(u,0,n)}else Ct(this._element).appendChild(F),_.push(n);F.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables.forEach(n=>{const t=n.getRootElement();if(t){const a=this._itemPositions.find(c=>c.drag===n)?.initialTransform;t.style.transform=a||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(a=>a.drag===n)}updateOnScroll(n,t){this._itemPositions.forEach(({clientRect:a})=>{Yc(a,n,t)}),this._itemPositions.forEach(({drag:a})=>{this._dragDropRegistry.isDragging(a)&&a._sortFromLastPointerPosition()})}_cacheItemPositions(){const n="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const a=t.getVisibleElement();return{drag:t,offset:0,initialTransform:a.style.transform||"",clientRect:Md(a)}}).sort((t,a)=>n?t.clientRect.left-a.clientRect.left:t.clientRect.top-a.clientRect.top)}_getItemOffsetPx(n,t,a){const c="horizontal"===this.orientation;let u=c?t.left-n.left:t.top-n.top;return-1===a&&(u+=c?t.width-n.width:t.height-n.height),u}_getSiblingOffsetPx(n,t,a){const c="horizontal"===this.orientation,u=t[n].clientRect,_=t[n+-1*a];let S=u[c?"width":"height"]*a;if(_){const F=c?"left":"top",j=c?"right":"bottom";-1===a?S-=_.clientRect[F]-u[j]:S+=u[F]-_.clientRect[j]}return S}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;const a=this._itemPositions,c="horizontal"===this.orientation;if(a[0].drag!==this._activeDraggables[0]){const _=a[a.length-1].clientRect;return c?n>=_.right:t>=_.bottom}{const _=a[0].clientRect;return c?n<=_.left:t<=_.top}}_getItemIndexFromPointerPosition(n,t,a,c){const u="horizontal"===this.orientation,_=this._itemPositions.findIndex(({drag:S,clientRect:F})=>S!==n&&((!c||S!==this._previousSwap.drag||!this._previousSwap.overlaps||(u?c.x:c.y)!==this._previousSwap.delta)&&(u?t>=Math.floor(F.left)&&t<Math.floor(F.right):a>=Math.floor(F.top)&&a<Math.floor(F.bottom))));return-1!==_&&this._sortPredicate(_,n)?_:-1}}class ds{constructor(n,t,a,c,u){this._dragDropRegistry=t,this._ngZone=c,this._viewportRuler=u,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new We.xQ,this.entered=new We.xQ,this.exited=new We.xQ,this.dropped=new We.xQ,this.sorted=new We.xQ,this.receivingStarted=new We.xQ,this.receivingStopped=new We.xQ,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=wa.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new We.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Jc(r=0,n=Ki){return(!xa(r)||r<0)&&(r=0),(!n||"function"!=typeof n.schedule)&&(n=Ki),new ci.y(t=>(t.add(n.schedule(Tr,r,{subscriber:t,counter:0,period:r})),t))}(0,qt).pipe(Xn(this._stopScrollTimers)).subscribe(()=>{const _=this._scrollNode,S=this.autoScrollStep;1===this._verticalScrollDirection?_.scrollBy(0,-S):2===this._verticalScrollDirection&&_.scrollBy(0,S),1===this._horizontalScrollDirection?_.scrollBy(-S,0):2===this._horizontalScrollDirection&&_.scrollBy(S,0)})},this.element=Ct(n),this._document=a,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new bm(a),this._sortStrategy=new Vx(this.element,t),this._sortStrategy.withSortPredicate((_,S)=>this.sortPredicate(_,S,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,a,c){this._draggingStarted(),null==c&&this.sortingDisabled&&(c=this._draggables.indexOf(n)),this._sortStrategy.enter(n,t,a,c),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,a,c,u,_,S,F={}){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:a,container:this,previousContainer:c,isPointerOverContainer:u,distance:_,dropPoint:S,event:F})}withItems(n){const t=this._draggables;return this._draggables=n,n.forEach(a=>a._withDropContainer(this)),this.isDragging()&&(t.filter(c=>c.isDragging()).every(c=>-1===n.indexOf(c))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._sortStrategy.direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._sortStrategy.orientation=n,this}withScrollableParents(n){const t=Ct(this.element);return this._scrollableElements=-1===n.indexOf(t)?[t,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,a,c){if(this.sortingDisabled||!this._clientRect||!ym(this._clientRect,.05,t,a))return;const u=this._sortStrategy.sort(n,t,a,c);u&&this.sorted.next({previousIndex:u.previousIndex,currentIndex:u.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let a,c=0,u=0;if(this._parentPositions.positions.forEach((_,S)=>{S===this._document||!_.clientRect||a||ym(_.clientRect,.05,n,t)&&([c,u]=function Pm(r,n,t,a){const c=Tm(n,a),u=Td(n,t);let _=0,S=0;if(c){const F=r.scrollTop;1===c?F>0&&(_=1):r.scrollHeight-F>r.clientHeight&&(_=2)}if(u){const F=r.scrollLeft;1===u?F>0&&(S=1):r.scrollWidth-F>r.clientWidth&&(S=2)}return[_,S]}(S,_.clientRect,n,t),(c||u)&&(a=S))}),!c&&!u){const{width:_,height:S}=this._viewportRuler.getViewportSize(),F={width:_,height:S,top:0,right:_,bottom:S,left:0};c=Tm(F,t),u=Td(F,n),a=window}a&&(c!==this._verticalScrollDirection||u!==this._horizontalScrollDirection||a!==this._scrollNode)&&(this._verticalScrollDirection=c,this._horizontalScrollDirection=u,this._scrollNode=a,(c||u)&&a?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=Ct(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=Ct(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_reset(){this._isDragging=!1;const n=Ct(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(n,t){return null!=this._clientRect&&Rt(this._clientRect,n,t)}_getSiblingContainerFromPosition(n,t,a){return this._siblings.find(c=>c._canReceive(n,t,a))}_canReceive(n,t,a){if(!this._clientRect||!Rt(this._clientRect,t,a)||!this.enterPredicate(n,this))return!1;const c=this._getShadowRoot().elementFromPoint(t,a);if(!c)return!1;const u=Ct(this.element);return c===u||u.contains(c)}_startReceiving(n,t){const a=this._activeSiblings;!a.has(n)&&t.every(c=>this.enterPredicate(c,this)||this._draggables.indexOf(c)>-1)&&(a.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:t}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(n);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=bt(Ct(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}}function Tm(r,n){const{top:t,bottom:a,height:c}=r,u=.05*c;return n>=t-u&&n<=t+u?1:n>=a-u&&n<=a+u?2:0}function Td(r,n){const{left:t,right:a,width:c}=r,u=.05*c;return n>=t-u&&n<=t+u?1:n>=a-u&&n<=a+u?2:0}const Xc=De({passive:!1,capture:!0});let Dm=(()=>{class r{constructor(t,a){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=c=>c.isDragging(),this.pointerMove=new We.xQ,this.pointerUp=new We.xQ,this.scroll=new We.xQ,this._preventDefaultWhileDragging=c=>{this._activeDragInstances.length>0&&c.preventDefault()},this._persistentTouchmoveListener=c=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&c.preventDefault(),this.pointerMove.next(c))},this._document=a}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Xc)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Xc)}startDragging(t,a){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const c=a.type.startsWith("touch");this._globalListeners.set(c?"touchend":"mouseup",{handler:u=>this.pointerUp.next(u),options:!0}).set("scroll",{handler:u=>this.scroll.next(u),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Xc}),c||this._globalListeners.set("mousemove",{handler:u=>this.pointerMove.next(u),options:Xc}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((u,_)=>{this._document.addEventListener(_,u.handler,u.options)})})}}stopDragging(t){const a=this._activeDragInstances.indexOf(t);a>-1&&(this._activeDragInstances.splice(a,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const a=[this.scroll];return t&&t!==this._document&&a.push(new ci.y(c=>this._ngZone.runOutsideAngular(()=>{const _=S=>{this._activeDragInstances.length&&c.next(S)};return t.addEventListener("scroll",_,!0),()=>{t.removeEventListener("scroll",_,!0)}}))),(0,xd.T)(...a)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,a)=>{this._document.removeEventListener(a,t.handler,t.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.R0b),e.LFG(H.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const km={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Pd=(()=>{class r{constructor(t,a,c,u){this._document=t,this._ngZone=a,this._viewportRuler=c,this._dragDropRegistry=u}createDrag(t,a=km){return new Oa(t,a,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new ds(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(H.K0),e.LFG(e.R0b),e.LFG(Xi),e.LFG(Dm))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Dd=new e.OlP("CDK_DRAG_PARENT"),Da=new e.OlP("CdkDropListGroup");let ka=(()=>{class r{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Fn(t)}ngOnDestroy(){this._items.clear()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],standalone:!0,features:[e._Bn([{provide:Da,useExisting:r}])]}),r})();const el=new e.OlP("CDK_DRAG_CONFIG");let ep=0;const Ea=new e.OlP("CdkDropList");let tp=(()=>{class r{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Fn(t)}constructor(t,a,c,u,_,S,F){this.element=t,this._changeDetectorRef=c,this._scrollDispatcher=u,this._dir=_,this._group=S,this._destroyed=new We.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+ep++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=a.createDropList(t),this._dropListRef.data=this,F&&this._assignDefaults(F),this._dropListRef.enterPredicate=(j,ue)=>this.enterPredicate(j.data,ue.data),this._dropListRef.sortPredicate=(j,ue,Me)=>this.sortPredicate(j,ue.data,Me.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),S&&S._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,a)=>t._dragRef.getVisibleElement().compareDocumentPosition(a._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=r._dropLists.indexOf(this);t>-1&&r._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Si(this._dir.value),Xn(this._destroyed)).subscribe(a=>t.withDirection(a)),t.beforeStarted.subscribe(()=>{const a=Gi(this.connectedTo).map(c=>"string"==typeof c?r._dropLists.find(_=>_.id===c):c);if(this._group&&this._group._items.forEach(c=>{-1===a.indexOf(c)&&a.push(c)}),!this._scrollableParentsResolved){const c=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(u=>u.getElementRef().nativeElement);this._dropListRef.withScrollableParents(c),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Fn(this.sortingDisabled),t.autoScrollDisabled=Fn(this.autoScrollDisabled),t.autoScrollStep=xr(this.autoScrollStep,2),t.connectedTo(a.filter(c=>c&&c!==this).map(c=>c._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(a=>{this.entered.emit({container:this,item:a.item.data,currentIndex:a.currentIndex})}),t.exited.subscribe(a=>{this.exited.emit({container:this,item:a.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(a=>{this.sorted.emit({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:a.item.data})}),t.dropped.subscribe(a=>{this.dropped.emit({previousIndex:a.previousIndex,currentIndex:a.currentIndex,previousContainer:a.previousContainer.data,container:a.container.data,item:a.item.data,isPointerOverContainer:a.isPointerOverContainer,distance:a.distance,dropPoint:a.dropPoint,event:a.event}),this._changeDetectorRef.markForCheck()}),(0,xd.T)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:a,draggingDisabled:c,sortingDisabled:u,listAutoScrollDisabled:_,listOrientation:S}=t;this.disabled=c??!1,this.sortingDisabled=u??!1,this.autoScrollDisabled=_??!1,this.orientation=S||"vertical",a&&(this.lockAxis=a)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return r._dropLists=[],r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(Pd),e.Y36(e.sBO),e.Y36(Uh),e.Y36(zh,8),e.Y36(Da,12),e.Y36(el,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,a){2&t&&(e.uIk("id",a.id),e.ekj("cdk-drop-list-disabled",a.disabled)("cdk-drop-list-dragging",a._dropListRef.isDragging())("cdk-drop-list-receiving",a._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[e._Bn([{provide:Da,useValue:void 0},{provide:Ea,useExisting:r}])]}),r})();const tl=new e.OlP("CdkDragHandle");let us=(()=>{class r{get disabled(){return this._disabled}set disabled(t){this._disabled=Fn(t),this._stateChanges.next(this)}constructor(t,a){this.element=t,this._stateChanges=new We.xQ,this._disabled=!1,this._parentDrag=a}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(Dd,12))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[e._Bn([{provide:tl,useExisting:r}])]}),r})();const Ia=new e.OlP("CdkDragPlaceholder");let Ed=(()=>{class r{constructor(t){this.templateRef=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},standalone:!0,features:[e._Bn([{provide:Ia,useExisting:r}])]}),r})();const np=new e.OlP("CdkDragPreview");let ip=(()=>{class r{get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=Fn(t)}constructor(t){this.templateRef=t,this._matchSize=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:"matchSize"},standalone:!0,features:[e._Bn([{provide:np,useExisting:r}])]}),r})(),ps=(()=>{class r{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Fn(t),this._dragRef.disabled=this._disabled}constructor(t,a,c,u,_,S,F,j,ue,Me,Ge){this.element=t,this.dropContainer=a,this._ngZone=u,this._viewContainerRef=_,this._dir=F,this._changeDetectorRef=ue,this._selfHandle=Me,this._parentDrag=Ge,this._destroyed=new We.xQ,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new ci.y(Ot=>{const Vt=this._dragRef.moved.pipe((0,Wn.U)(kn=>({source:this,pointerPosition:kn.pointerPosition,event:kn.event,delta:kn.delta,distance:kn.distance}))).subscribe(Ot);return()=>{Vt.unsubscribe()}}),this._dragRef=j.createDrag(t,{dragStartThreshold:S&&null!=S.dragStartThreshold?S.dragStartThreshold:5,pointerDirectionChangeThreshold:S&&null!=S.pointerDirectionChangeThreshold?S.pointerDirectionChangeThreshold:5,zIndex:S?.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),S&&this._assignDefaults(S),a&&(this._dragRef._withDropContainer(a._dropListRef),a.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ua.q)(1),Xn(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const a=t.rootElementSelector,c=t.freeDragPosition;a&&!a.firstChange&&this._updateRootElement(),c&&!c.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=r._dragInstances.indexOf(this);t>-1&&r._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let a=t;this.rootElementSelector&&(a=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(a||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Ct(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const a=this._dir,c=this.dragStartDelay,u=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,_=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof c&&c?c:xr(c),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(u).withPreviewTemplate(_).withPreviewContainer(this.previewContainer||"global"),a&&t.withDirection(a.value)}}),t.beforeStarted.pipe((0,ua.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let a=this.element.nativeElement.parentElement;for(;a;){if(a.classList.contains("cdk-drag")){t.withParent(r._dragInstances.find(c=>c.element.nativeElement===a)?._dragRef||null);break}a=a.parentElement}})}_handleEvents(t){t.started.subscribe(a=>{this.started.emit({source:this,event:a.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(a=>{this.released.emit({source:this,event:a.event})}),t.ended.subscribe(a=>{this.ended.emit({source:this,distance:a.distance,dropPoint:a.dropPoint,event:a.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(a=>{this.entered.emit({container:a.container.data,item:this,currentIndex:a.currentIndex})}),t.exited.subscribe(a=>{this.exited.emit({container:a.container.data,item:this})}),t.dropped.subscribe(a=>{this.dropped.emit({previousIndex:a.previousIndex,currentIndex:a.currentIndex,previousContainer:a.previousContainer.data,container:a.container.data,isPointerOverContainer:a.isPointerOverContainer,item:this,distance:a.distance,dropPoint:a.dropPoint,event:a.event})})}_assignDefaults(t){const{lockAxis:a,dragStartDelay:c,constrainPosition:u,previewClass:_,boundaryElement:S,draggingDisabled:F,rootElementSelector:j,previewContainer:ue}=t;this.disabled=F??!1,this.dragStartDelay=c||0,a&&(this.lockAxis=a),u&&(this.constrainPosition=u),_&&(this.previewClass=_),S&&(this.boundaryElement=S),j&&(this.rootElementSelector=j),ue&&(this.previewContainer=ue)}_setupHandlesListener(){this._handles.changes.pipe(Si(this._handles),(0,Jh.b)(t=>{const a=t.filter(c=>c._parentDrag===this).map(c=>c.element);this._selfHandle&&this.rootElementSelector&&a.push(this.element),this._dragRef.withHandles(a)}),(0,Qh.w)(t=>(0,xd.T)(...t.map(a=>a._stateChanges.pipe(Si(a))))),Xn(this._destroyed)).subscribe(t=>{const a=this._dragRef,c=t.element.nativeElement;t.disabled?a.disableHandle(c):a.enableHandle(c)})}}return r._dragInstances=[],r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(Ea,12),e.Y36(H.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(el,8),e.Y36(zh,8),e.Y36(Pd),e.Y36(e.sBO),e.Y36(tl,10),e.Y36(Dd,12))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkDrag",""]],contentQueries:function(t,a,c){if(1&t&&(e.Suo(c,np,5),e.Suo(c,Ia,5),e.Suo(c,tl,5)),2&t){let u;e.iGM(u=e.CRH())&&(a._previewTemplate=u.first),e.iGM(u=e.CRH())&&(a._placeholderTemplate=u.first),e.iGM(u=e.CRH())&&(a._handles=u)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,a){2&t&&e.ekj("cdk-drag-disabled",a.disabled)("cdk-drag-dragging",a._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[e._Bn([{provide:Dd,useExisting:r}]),e.TTD]}),r})(),Zx=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Pd],imports:[Kh]}),r})();var Id=k(1452),Qe=k(4006);function _s(){throw new Error("AngularJS v1.x is not loaded!")}const op=()=>_s();op.cleanData=_s;let eo={bootstrap:_s,module:_s,element:op,injector:_s,version:void 0,resumeBootstrap:_s,getTestability:_s};try{window.hasOwnProperty("angular")&&(eo=window.angular)}catch{}const ap=(r,n)=>eo.module(r,n),fs=r=>eo.element(r);fs.cleanData=r=>eo.element.cleanData(r);const Im="$delegate",jo="$injector",Fm="$interval",Nd="$$testability",Uo="$$angularInjector",ol="$$UpgradeModule";function Tn(r){const n=r.get("$rootElement");r.get("$rootScope").$destroy(),function rl(r){fs.cleanData([r]),function fp(r){return function $o(r){return"function"==typeof r}(r.querySelectorAll)}(r)&&fs.cleanData(r.querySelectorAll("*"))}(n[0])}let ms=null;const Cp=[{provide:"$injector",useFactory:function Km(){if(!ms)throw new Error("Trying to get the AngularJS injector before it being set.");const r=ms;return ms=null,r},deps:[]},{provide:"$rootScope",useFactory:function Jm(r){return r.get("$rootScope")},deps:["$injector"]},{provide:"$compile",useFactory:function Qm(r){return r.get("$compile")},deps:["$injector"]},{provide:"$parse",useFactory:function Ym(r){return r.get("$parse")},deps:["$injector"]}];class jd{constructor(n){this.modInjector=n}get(n,t){return t===e.eQZ?t:this.modInjector.get(n,t)}}let Ba=(()=>{class r{constructor(t,a,c){this.ngZone=a,this.platformRef=c,this.injector=new jd(t)}bootstrap(t,a=[],c){const u=ol+".init";ap(u,[]).constant("$$angularUpgradeAppType",2).value(Uo,this.injector).factory("$$angularLazyModuleRef",[Uo,j=>({injector:j})]).config(["$provide",jo,(j,ue)=>{ue.has(Nd)&&j.decorator(Nd,[Im,Me=>{const Ge=Me.whenStable,Ot=this.injector,Vt=function(kn){Ge.call(Me,function(){const cn=Ot.get(e.dDg);cn.isStable()?kn():cn.whenStable(Vt.bind(Me,kn))})};return Me.whenStable=Vt,Me}]),ue.has(Fm)&&j.decorator(Fm,[Im,Me=>{let Ge=(Ot,Vt,kn,cn,...od)=>this.ngZone.runOutsideAngular(()=>Me((...Dc)=>{setTimeout(()=>{this.ngZone.run(()=>Ot(...Dc))})},Vt,kn,cn,...od));return Object.keys(Me).forEach(Ot=>Ge[Ot]=Me[Ot]),Me.hasOwnProperty("flush")&&(Ge.flush=()=>(Me.flush(),Ge)),Ge}])}]).run([jo,j=>{this.$injector=j;const ue=j.get("$rootScope");(function mp(r){ms=r})(j),this.injector.get(jo),fs(t).data(function gs(r){return"$"+r+"Controller"}(Uo),this.injector),this.platformRef.onDestroy(()=>Tn(j)),setTimeout(()=>{const Me=this.ngZone.onMicrotaskEmpty.subscribe(()=>ue.$$phase?ue.$evalAsync():ue.$digest());ue.$on("$destroy",()=>{Me.unsubscribe()})},0)}]);const _=ap(ol,[u].concat(a)),S=window.angular;S.resumeBootstrap=void 0;const F=this.ngZone.run(()=>((r,n,t)=>eo.bootstrap(r,n,t))(t,[_.name],c));if(S.resumeBootstrap){const j=S.resumeBootstrap,ue=this.ngZone;S.resumeBootstrap=function(){let Me=arguments;return S.resumeBootstrap=j,ue.run(()=>S.resumeBootstrap.apply(this,Me))}}return F}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.zs3),e.LFG(e.R0b),e.LFG(e.f1m))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Cp]}),r})();var Bt=k(4215),Kt=k(9380),Di=k(5861);class Go{}const Kd=["inputAutocomplete"];class fo{constructor(n,t){this.autocompleteService=n,this.eRef=t,this.enabled=!1,this.highlightedIndex=0,this.skipableChoices=[],this.serverSideFilters=!1,this.inputHasFocus=!1,this.iconButton=!1,this.delayFilter=300,this.refreshingCache=!1,this.templateStr="",this.fields=[],this.noChoices=!0,this.enableLocalStorage=!0,this.initialized=!1,this.updatingData=!1,this.handlingKeyTraversal=!1,this.isIE="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}set content(n){this.updateContent(n)}findElement(n){return(0,Di.Z)(function*(){for(;null===document.getElementById(n);)yield new Promise(t=>requestAnimationFrame(t));return document.getElementById(n)})()}clickout(n){if(this.enabled&&this.autoCompleteInput&&!this.eRef.nativeElement.contains(n.target)){document.getElementById(`${this.type}_choices`).scrollTop=0,this.enabled=!1,this.searchStr="";try{this.matchedChoices.forEach((t,a)=>{t[this.uniqueValueKey]===this.currentSelectedItem[this.uniqueValueKey]&&(this.highlightedIndex=a)})}catch{this.highlightedIndex=-1}window.removeEventListener("click",t=>{this.clickout(t)},!0),window.removeEventListener("keydown",t=>{this.handleArrowKeys(t)},!1),this.findElement(`${this.elementId}_toggle_btn`).then(t=>{this.toggleExpanded(!1),t.focus()})}else document.addEventListener("click",t=>{console.log("inside click handler"),this.clickout(t)},{once:!0})}updateContent(n){this.autoCompleteInput=n,this.autoCompleteInput&&(this.autoCompleteInput.nativeElement.focus(),this.highlightedIndex=-1)}toggleFocus(n){this.inputHasFocus=n}valueUpdated(n){this.enabled&&"true"===document.getElementById(`${this.elementId}_toggle_btn`).getAttribute("aria-expanded")&&(13===n.which||n.metaKey||"Meta"===n.key?n.preventDefault():((!(n.which<47||n.which>111&&n.which<91)||27===n.which||32===n.which||8===n.which||46===n.which)&&(27===n.which&&(this.searchStr=""),32===n.which&&(this.autoCompleteInput.nativeElement.focus(),this.highlightedIndex=-1,this.searchStr+=n.key),!this.inputHasFocus&&27!==n.which&&(this.autoCompleteInput.nativeElement.focus(),this.highlightedIndex=-1,8!==n.which&&46!==n.which&&(this.searchStr+=n.key)),this.keyTypePause&&clearTimeout(this.keyTypePause),this.keyTypePause=setTimeout(()=>{this.highlightedIndex=-1,document.getElementById(`${this.type}_choices`)&&(document.getElementById(`${this.type}_choices`).scrollTop=0),this.serverSideFilters?(this.updatingData=!0,this.fetchData(!0,!1)):(this.specialProcessing(this.cachedValues.data,!0),1===this.matchedChoices.length&&(this.highlightedIndex=0,this.checkHighlightedElementVisible(!1,null,!0))),this.keyTypePause=void 0},this.delayFilter)),(38!==n.which||40!==n.which)&&!this.inputHasFocus&&n.preventDefault()))}enabledAutocomplete(n){this.serverSideFilters&&(this.updatingData=!0,this.finishEnable()),this.fetchData(n,!1)}processData(n,t,a){this.cachedValues={timestamp:Date.now(),data:n},this.specialProcessing(this.cachedValues.data,!1,t,a),!this.serverSideFilters&&!t&&!a&&this.finishEnable(),this.enableLocalStorage&&localStorage.setItem(this.cacheKey,JSON.stringify(this.cachedValues))}finishEnable(){const n=document.getElementById(`${this.type}_choices`);n&&(n.scrollTop=0),this.toggleExpanded(!this.enabled),this.enabled=!this.enabled,this.enabled?(document.addEventListener("click",t=>{this.clickout(t)},{once:!0}),window.addEventListener("keydown",t=>{this.handleArrowKeys(t)},!1)):(this.searchStr="",window.removeEventListener("click",t=>{this.clickout(t)},!1),window.removeEventListener("keydown",t=>{this.handleArrowKeys(t)},!1))}handleArrowKeys(n){let t=!1;this.inputHasFocus?(38===n.which||40===n.which)&&(t=!0):[37,38,39,40].indexOf(n.keyCode)>-1&&(t=!0),t&&n.preventDefault()}handleTabKey(n){this.finishEnable(),n.shiftKey&&document.getElementById(this.elementId).focus()}handleEscKey(n){n.preventDefault(),this.finishEnable(),setTimeout(()=>{document.getElementById(`${this.elementId}_toggle_btn`).focus()})}handleEnterKey(n){this.enabled?this.selectHighlighted():this.enabledAutocomplete(),n.preventDefault()}handleBackspaceKey(n){n.preventDefault(),this.autoCompleteInput.nativeElement.focus(),this.highlightedIndex=-1,this.searchStr=this.searchStr.substring(0,this.searchStr.length-1)}handleSpaceKey(n){"keydown"===n.type&&(this.enabled||this.enabledAutocomplete()),n.preventDefault()}traverseDownList(){let n=0;this.highlightedIndex+1<this.matchedChoices.length&&(this.highlightedIndex++,this.skipableChoices.length>0&&this.skipableChoices.includes(this.highlightedIndex)&&(n=document.getElementById(`skipable_${this.highlightedIndex}`).offsetHeight,this.highlightedIndex++)),document.activeElement==this.autoCompleteInput.nativeElement&&(-1==this.highlightedIndex&&(this.highlightedIndex=0),this.skipableChoices.length>0&&this.skipableChoices.includes(this.highlightedIndex)&&(n=document.getElementById(`skipable_${this.highlightedIndex}`).offsetHeight,this.highlightedIndex++)),this.checkHighlightedElementVisible(!0,n)}traverseUpList(){if(this.highlightedIndex-1>=0){if(this.highlightedIndex--,this.skipableChoices.length>0&&this.skipableChoices.includes(this.highlightedIndex)&&(this.highlightedIndex--,this.highlightedIndex<0))return this.autoCompleteInput.nativeElement.focus(),void(this.highlightedIndex=-1);this.checkHighlightedElementVisible(!1)}else this.autoCompleteInput.nativeElement.focus(),this.highlightedIndex=-1}handleMouseOver(n,t){this.handlingKeyTraversal?this.handlingKeyTraversal=!1:(this.highlightedIndex=t,document.getElementById(`${this.type}_${this.matchedChoices[this.highlightedIndex][this.uniqueValueKey]}`).focus())}highlight(n){let t=this.templateStr;return this.fields.forEach(a=>{if(n[a]&&this.searchStr.length>0&&n[a].toLowerCase().indexOf(this.searchStr.toLowerCase())>-1){const c=n[a].toLowerCase().indexOf(this.searchStr.toLowerCase()),_=n[a].substring(c,c+this.searchStr.length);t=t.replace(`{${a}}`,n[a].replace(_,`<em class="highlightText">${_}</em>`))}else t=t.replace(`{${a}}`,n[a]?n[a]:"")}),t}toggleExpanded(n){n?setTimeout(()=>{document.getElementById(`${this.elementId}_toggle_btn`).setAttribute("aria-expanded",`${n}`),document.getElementById(`${this.inputID}`).setAttribute("aria-expanded",`${n}`),this.serverSideFilters||this.checkHighlightedElementVisible(!1),this.add_on&&initBehaviors()}):(document.getElementById(`${this.elementId}_toggle_btn`).setAttribute("aria-expanded",`${n}`),document.getElementById(`${this.inputID}`).setAttribute("aria-expanded",`${n}`))}callback(n){console.log("method needs to be implemented")}fetchData(n,t){this.autocompleteService.getData(this.url,{search:""}).subscribe(a=>{this.processData(a.record,n,t),setTimeout(()=>{this.initialized=!0,this.updatingData=!1},0)})}specialProcessing(n,t,a,c){}buildSearchBody(){console.log("method needs to be implemented")}selectHighlighted(){this.matchedChoices[this.highlightedIndex]&&!this.keyTypePause&&(this.searchStr=this.matchedChoices[this.highlightedIndex].name,document.removeEventListener("click",n=>{this.clickout(n)},!1),window.removeEventListener("keydown",n=>{this.handleArrowKeys(n)},!1),this.callback(this.matchedChoices[this.highlightedIndex]))}checkHighlightedElementVisible(n,t,a=!0){if(this.matchedChoices[this.highlightedIndex]){const c=document.getElementById(`${this.type}_${this.matchedChoices[this.highlightedIndex][this.uniqueValueKey]}`);if(c){let u=c.parentElement;this.serverSideFilters&&(u=u.parentElement),this.handlingKeyTraversal=!0,n?this.matchedChoices.length-1===this.highlightedIndex?u.scrollTop=u.scrollHeight:c.getBoundingClientRect().bottom>u.getBoundingClientRect().bottom&&(u.scrollTop=u.scrollTop+c.offsetHeight+(t??0)):c.getBoundingClientRect().top<u.getBoundingClientRect().top&&(u.scrollTop=c.offsetTop),a&&c.focus({preventScroll:!1})}}}}fo.\u0275fac=function(n){return new(n||fo)(e.Y36(Go),e.Y36(e.SBq))},fo.\u0275dir=e.lG2({type:fo,viewQuery:function(n,t){if(1&n&&e.Gf(Kd,5),2&n){let a;e.iGM(a=e.CRH())&&(t.content=a.first)}},inputs:{userId:["user_id","userId"],id:"id",add_on:"add_on",iconButton:["icon_button","iconButton"],iconName:["icon_name","iconName"],delayFilter:["delay_filter","delayFilter"]}});class ki{constructor(n){this.sanitizer=n}transform(n,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(n);case"style":return this.sanitizer.bypassSecurityTrustStyle(n);case"script":return this.sanitizer.bypassSecurityTrustScript(n);case"url":return this.sanitizer.bypassSecurityTrustUrl(n);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(n);default:throw new Error(`Invalid safe type specified: ${t}`)}}}function dl(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"p",4),e._uU(2),e.qZA(),e.TgZ(3,"p",5),e._uU(4),e.qZA()()),2&r){const t=e.oxw();e.s9C("title",t.displayString),e.xp6(2),e.Oqu(t.displayString),e.xp6(2),e.Oqu(t.secondaryDisplayString)}}ki.\u0275fac=function(n){return new(n||ki)(e.Y36(D.H7,16))},ki.\u0275pipe=e.Yjl({name:"safe",type:ki,pure:!0});const yp=function(r){return{enabled:r}};function Jd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.enabledAutocomplete())}),e.TgZ(1,"div")(2,"p",4),e._uU(3),e.qZA(),e.TgZ(4,"p",5),e._uU(5),e.qZA()(),e._UZ(6,"pds-icon",17),e.qZA()}if(2&r){const t=e.oxw(2);e.Gre("",t.type,"_dropdown_label"),e.MGl("id","",t.elementId,"_toggle_btn"),e.Q6J("ngClass",e.VKq(8,yp,t.enabled)),e.uIk("aria-describedby",t.elementId+"_toggle_btn_desc"),e.xp6(3),e.Oqu(t.displayString),e.xp6(2),e.Oqu(t.secondaryDisplayString)}}function Qd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.enabledAutocomplete())}),e._UZ(1,"pds-icon",19),e.qZA()}if(2&r){const t=e.oxw(2);e.Gre("",t.type,"_dropdown_icon_button"),e.MGl("id","",t.elementId,"_toggle_btn"),e.s9C("title",t.displayString),e.uIk("aria-describedby",t.elementId+"_toggle_btn_desc"),e.xp6(1),e.s9C("name",t.iconName)}}function Yd(r,n){if(1&r&&(e.TgZ(0,"p",20),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.matchedString)}}function Va(r,n){if(1&r&&(e.TgZ(0,"li",23),e._uU(1),e.qZA()),2&r){const t=e.oxw(),c=t.$implicit;e.MGl("id","skipable_",t.index,""),e.xp6(1),e.Oqu(c.title)}}const eC=function(r,n){return{highlighted:r,selected:n}};function bp(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",24),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.callback(c))})("keydown.arrowdown",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.traverseDownList())})("keydown.arrowup",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.traverseUpList())})("mouseover",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(2);return e.KtG(_.handleMouseOver(c,u))})("keydown.backspace",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleBackspaceKey(c))}),e._UZ(1,"span")(2,"div",25),e.qZA()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index,u=e.oxw(2);e.hYB("id","",u.type,"_",a[u.uniqueValueKey],""),e.Q6J("ngClass",e.WLB(5,eC,u.highlightedIndex===c,a===u.currentSelectedItem)),e.uIk("aria-selected",a===u.currentSelectedItem),e.xp6(2),e.Q6J("innerHTML",u.highlight(a),e.oJD)}}function tC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Va,2,2,"li",21),e.YNc(2,bp,3,8,"li",22),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.title),e.xp6(1),e.Q6J("ngIf",!t.title)}}function nC(r,n){if(1&r&&(e._UZ(0,"span",26),e.ALo(1,"safe")),2&r){const t=e.oxw(2);e.Q6J("innerHTML",e.xi3(1,1,t.add_on,"html"),e.oJD)}}const iC=function(r){return{iconButton:r}},xp=function(r,n){return{concealed:r,ie:n}};function wp(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.YNc(1,Jd,7,10,"button",6),e.YNc(2,Qd,2,7,"button",7),e.TgZ(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9)(6,"input",10,11),e.NdJ("keyup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.valueUpdated(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscKey(c))})("keydown.arrowdown",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.traverseDownList())})("keydown.tab",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.enabledAutocomplete())})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.searchStr=c)})("focus",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.toggleFocus(!0))})("blur",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.toggleFocus(!1))}),e.qZA(),e.YNc(8,Yd,2,1,"p",12),e.TgZ(9,"ul",13),e.NdJ("keyup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.valueUpdated(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscKey(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))}),e.YNc(10,tC,3,2,"ng-container",14),e.qZA(),e.YNc(11,nC,2,4,"span",15),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.iconButton),e.xp6(1),e.Q6J("ngIf",t.iconButton),e.xp6(1),e.MGl("id","",t.elementId,"_toggle_btn_desc"),e.xp6(1),e.hij(" ",t.description," "),e.xp6(1),e.MGl("id","",t.elementId,"_menu"),e.Q6J("hidden",!t.enabled)("ngClass",e.VKq(17,iC,t.iconButton)),e.xp6(1),e.s9C("id",t.inputID),e.MGl("name","",t.elementId,"_input"),e.s9C("placeholder",t.displayString),e.Q2q("aria-owns","",t.type,"_choices"),e.Q6J("ngModel",t.searchStr),e.xp6(2),e.Q6J("ngIf",t.matchedChoices.length!==t.initialCount),e.xp6(1),e.MGl("id","",t.type,"_choices"),e.Q6J("ngClass",e.WLB(19,xp,0===t.matchedChoices.length||!t.enabled,t.isIE)),e.xp6(1),e.Q6J("ngForOf",t.matchedChoices),e.xp6(1),e.Q6J("ngIf",t.enabled&&t.add_on)}}class qo extends fo{constructor(n,t,a){super(n,a),this.autocompleteService=n,this.translateService=t,this.eRef=a,this.userType="admin",this.highlightedIndex=0,this.matchedChoices=[],this.searchStr="",this.enabled=!1,this.inputID="schoolSearchField_value",this.type="school",this.templateStr='{name} <span aria-hidden="true">({abbreviation})</span>\n                <div class="second-line"><span aria-hidden="true">{schoolNumber}\xa0\xa0\xa0\xa0\xa0{category}</span></div>',this.districtTemplateStr='{name}\n                <div class="second-line"><span aria-hidden="true">{schoolNumber}</span></div>',this.fields=["name","abbreviation","schoolNumber","category"],this.uniqueValueKey="dcid",t.getPSSTranslations("psx.common","psx.common.district_abbreviation"),this.translateService.getPSSTranslations("psx.js.angular.admin_autocomplete.","psx.js.angular.admin_autocomplete.schoolpicker_component._matches_found_based_on_"),t.get("psx.common.district_abbreviation").subscribe(c=>{this.districtAbbrev=c})}ngOnInit(){this.cacheKey=`${this.type}:${this.userId}`,this.elementId=`${this.type}_picker_${this.id}`,this.enableLocalStorage=!1,Number.isInteger(Number.parseInt(this.currentSchool,10))?(this.enabledAutocomplete(!0),setTimeout(()=>{this.initialized=!0},0)):this.autocompleteService.getCurrentContext().subscribe(n=>{this.currentSchool=n.currentSchoolId,this.enabledAutocomplete(!0),setTimeout(()=>{this.initialized=!0},0)})}callback(n){loadingDialog(),"teacher"===this.userType?goToTeacherSchool(n.schoolNumber):this.autocompleteService.changeSchool(n.schoolNumber).subscribe(t=>{window.top.location="/admin/home.html"},t=>{window.top.location="/admin/home.html"})}fetchData(n,t){this.autocompleteService.findSchools(this.userType).subscribe(a=>{this.processData(a,n,t)})}specialProcessing(n,t,a,c){a?(this.noChoices=n.length<=1,n.forEach((u,_)=>{u.schoolNumber===+this.currentSchool&&(this.displayString=u.name,this.secondaryDisplayString=0===u.schoolNumber?this.districtAbbrev:u.abbreviation)}),this.translateService.get("psx.js.angular.admin_autocomplete.schoolpicker_component.current_selected_school_is__hit_space_or_enter_to_open_user_arrow__",{0:this.displayString}).subscribe(u=>{this.description=u})):(this.matchedChoices=[],this.initialCount=n.length,this.highlightedIndex=-1,n.forEach((u,_)=>{(u.name.toString().toLowerCase().indexOf(this.searchStr.toLowerCase())>-1||u.abbreviation&&u.abbreviation.toString().toLowerCase().indexOf(this.searchStr.toLowerCase())>-1||u.schoolNumber&&u.schoolNumber.toString().indexOf(this.searchStr)>-1||u.category&&u.category.toString().toLowerCase().indexOf(this.searchStr.toLowerCase())>-1)&&this.matchedChoices.push(u),u.schoolNumber===+this.currentSchool&&(this.currentSelectedItem=u,this.highlightedIndex=this.matchedChoices.indexOf(u))}),this.translateService.get("psx.js.angular.admin_autocomplete.schoolpicker_component._matches_found_based_on_",{0:this.matchedChoices.length,1:this.searchStr}).subscribe(u=>{this.matchedString=u}))}highlight(n){let t=n.abbreviation?this.templateStr:this.districtTemplateStr;return this.fields.forEach(a=>{if(n[a]&&this.searchStr.length>0){const c="string"==typeof n[a]?n[a]:n[a].toString();if(c.toLowerCase().indexOf(this.searchStr.toLowerCase())>-1){const u=c.toLowerCase().indexOf(this.searchStr.toLowerCase()),S=c.substring(u,u+this.searchStr.length);t=t.replace(`{${a}}`,c.replace(S,`<em class="highlightText">${S}</em>`))}else t=t.replace(`{${a}}`,c)}else t=t.replace(`{${a}}`,n[a]?n[a]:"")}),t}}function zd(r,n){if(1&r&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.matchedString)}}function kr(r,n){1&r&&(e.TgZ(0,"div",17),e._UZ(1,"div",18)(2,"div",18)(3,"div",18)(4,"div",18),e.qZA())}function oC(r,n){if(1&r&&(e.TgZ(0,"li",24),e._uU(1),e.qZA()),2&r){const t=e.oxw(),c=t.$implicit;e.MGl("id","skipable_",t.index,""),e.xp6(1),e.Oqu(c.title)}}qo.\u0275fac=function(n){return new(n||qo)(e.Y36(Go),e.Y36(Kt.h),e.Y36(e.SBq))},qo.\u0275cmp=e.Xpm({type:qo,selectors:[["pss-schoolpicker"]],inputs:{currentSchool:["current_school","currentSchool"],userType:["user_type","userType"]},features:[e.qOj],decls:3,vars:7,consts:[[3,"id","hidden","keydown.enter","keydown.space","keyup.space"],["class","noChoices",3,"title",4,"ngIf"],[4,"ngIf"],[1,"noChoices",3,"title"],[1,"large"],[1,"small"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","class","ngClass","click",4,"ngIf"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","class","title","click",4,"ngIf"],[1,"concealed",3,"id"],["tabindex","-1",1,"dropdowncontainer",3,"id","hidden","ngClass"],["aria-expanded","false","type","text","autocomplete","off",3,"id","name","placeholder","ngModel","keyup","keydown.esc","keydown.arrowdown","keydown.tab","keydown.shift.tab","ngModelChange","focus","blur"],["inputAutocomplete",""],["aria-live","assertive","aria-atomic","true","class","screen_readers_only",4,"ngIf"],["role","menubar","aria-activedescendant","",1,"dropDownList",3,"id","ngClass","keyup","keydown.esc","keydown.tab","keydown.shift.tab"],[4,"ngFor","ngForOf"],["class","add_on",3,"innerHTML",4,"ngIf"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","ngClass","click"],["name","caret-down"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","title","click"],[3,"name"],["aria-live","assertive","aria-atomic","true",1,"screen_readers_only"],["class","non-selectable",3,"id",4,"ngIf"],["class","list-item selectable","tabindex","0","role","menuitem",3,"id","ngClass","click","keydown.arrowdown","keydown.arrowup","mouseover","keydown.backspace",4,"ngIf"],[1,"non-selectable",3,"id"],["tabindex","0","role","menuitem",1,"list-item","selectable",3,"id","ngClass","click","keydown.arrowdown","keydown.arrowup","mouseover","keydown.backspace"],[3,"innerHTML"],[1,"add_on",3,"innerHTML"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("keydown.enter",function(c){return t.handleEnterKey(c)})("keydown.space",function(c){return t.handleSpaceKey(c)})("keyup.space",function(c){return t.handleSpaceKey(c)}),e.YNc(1,dl,5,3,"div",1),e.YNc(2,wp,12,22,"ng-container",2),e.qZA()),2&n&&(e.Gre("",t.type,"_picker_content"),e.s9C("id",t.elementId),e.Q6J("hidden",!t.initialized),e.xp6(1),e.Q6J("ngIf",t.noChoices&&!t.iconButton),e.xp6(1),e.Q6J("ngIf",!t.noChoices))},dependencies:[H.mk,H.sg,H.O5,Qe.Fj,Qe.JJ,Qe.On,ki],styles:[".button-style[_ngcontent-%COMP%]{background-color:#0066a5;background-position:left bottom;background-repeat:repeat-x;border:0 none;border-radius:4px;color:#fff}.button-style-hover[_ngcontent-%COMP%]{background-color:#00427c;color:#fff}.inactive-button-style[_ngcontent-%COMP%]{background-color:#e5e5e5;border:1px solid #454545}.inactive-button-style-hover[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #454545}.school_picker_content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.school_picker_content[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none!important}@media screen and (min-width: 1025px){.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%], .school_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%]{display:inline;margin:0}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%], .school_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{display:none;margin:0}}@media screen and (max-width: 1024px){.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%], .school_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%]{display:none;margin:0}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%], .school_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{display:inline;margin:0}}@media print{.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%], .school_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%]{display:inline;margin:0}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%], .school_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{display:none;margin:0}}.school_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]{white-space:nowrap}.school_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;white-space:nowrap}.school_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]:not(.noChoices){color:#0066a5}.school_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]:not(.noChoices):hover{color:#00427c;cursor:pointer}.school_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.school_picker_content[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.school_picker_content[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#00427c;cursor:pointer}.school_picker_content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}.school_picker_content[_ngcontent-%COMP%]   #school_choices.dropDownList[_ngcontent-%COMP%]{border-radius:4px;border:solid 1px lightgray;max-height:70vh;overflow-y:auto;margin:25px 0 0;min-width:160px}.school_picker_content[_ngcontent-%COMP%]   #school_choices.dropDownList.ie[_ngcontent-%COMP%]{margin-top:0}@supports (-webkit-appearance:none){.school_picker_content[_ngcontent-%COMP%]   #school_choices.dropDownList.ie[_ngcontent-%COMP%]{margin-top:25px}}.school_picker_content[_ngcontent-%COMP%]   #school_choices.dropDownList[_ngcontent-%COMP%] > li.list-item.selectable[_ngcontent-%COMP%]{white-space:nowrap;min-height:45px}.school_picker_content[_ngcontent-%COMP%]   #school_choices.dropDownList[_ngcontent-%COMP%] > li.list-item.selectable[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:8px;border-bottom:unset}.school_picker_content[_ngcontent-%COMP%]   #school_choices.dropDownList[_ngcontent-%COMP%] > li.list-item.selectable.selected[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{height:45px}.school_picker_content[_ngcontent-%COMP%]   #school_choices.dropDownList[_ngcontent-%COMP%] > li.list-item.selectable.selected[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:0}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-weight:700;background-color:#fff;padding:0;border:none;font-size:14px;position:relative;top:0;height:24px}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label.enabled[_ngcontent-%COMP%]{display:none}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:4px 0 4px 7px}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices){color:#0066a5}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices):hover{color:#00427c;cursor:pointer}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:20px;width:20px;margin:auto 6px;flex:unset;position:relative;top:0}.school_picker_content[_ngcontent-%COMP%]   button.school_dropdown_label[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#00427c;cursor:pointer}.school_picker_content[_ngcontent-%COMP%]   div.second-line[_ngcontent-%COMP%]{font-size:smaller;line-height:1em;padding-bottom:5px;color:gray}"]});const rC=function(r,n){return{highlighted:r,selected:n}};function zx(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",25),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.callback(c))})("keydown.arrowdown",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.traverseDownList())})("keydown.arrowup",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.traverseUpList())})("mouseover",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(2);return e.KtG(_.handleMouseOver(c,u))})("keydown.backspace",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleBackspaceKey(c))}),e._UZ(1,"span")(2,"div",26),e.qZA()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index,u=e.oxw(2);e.hYB("id","",u.type,"_",a[u.uniqueValueKey],""),e.Q6J("ngClass",e.WLB(5,rC,u.highlightedIndex===c,a===u.currentSelectedItem)),e.uIk("aria-selected",a===u.currentSelectedItem),e.xp6(2),e.Q6J("innerHTML",u.highlight(a),e.oJD)}}function sC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,oC,2,2,"li",22),e.YNc(2,zx,3,8,"li",23),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.title),e.xp6(1),e.Q6J("ngIf",!t.title)}}function Wd(r,n){1&r&&(e.TgZ(0,"li")(1,"div",17),e._UZ(2,"div",18)(3,"div",18)(4,"div",18)(5,"div",18),e.qZA()())}function aC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul",19),e.NdJ("keyup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.valueUpdated(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscKey(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))}),e.YNc(1,sC,3,2,"ng-container",20),e.YNc(2,Wd,6,0,"li",21),e.qZA()}if(2&r){const t=e.oxw();e.MGl("id","",t.type,"_choices"),e.xp6(1),e.Q6J("ngForOf",t.matchedChoices),e.xp6(1),e.Q6J("ngIf",t.scrollPulling)}}function Mp(r,n){if(1&r&&(e._UZ(0,"span",27),e.ALo(1,"safe")),2&r){const t=e.oxw();e.Q6J("innerHTML",e.xi3(1,1,t.add_on,"html"),e.oJD)}}class Ko extends fo{constructor(n,t,a){super(n,a),this.autocompleteService=n,this.translateService=t,this.eRef=a,this.staffSelectionCount=0,this.currentStaffId=0,this.isDistrict=!1,this.teacherNumber="",this.isInStaffHeader=!1,this.ariaLive="assertive",this.enableLocalStorage=!1,this.dialogOpenned=!1,this.matchedChoices=[],this.staffCounter="(0/0)",this.teacherNumberMsg="",this.inputID="staffTypeAheadInput",this.scrollPulling=!1,this.serverSideFilters=!0,this.searchStr="",this.currentStaffFound=!1,this.templateStr="{lastFirst}",this.templateStr2='  <span aria-hidden="true">({teacherNumber})</span>',this.templateStr3='  <span aria-hidden="true">{schoolAbbreviation}</span>',this.searchfields=["lastFirst","teacher_Number"],this.fields=["lastFirst","teacherNumber","schoolAbbreviation"],this.page=1,this.size=50,this.totalFilteredResults=0,this.type="staff",this.uniqueValueKey="dcid",this.url="/ws/selectionservice/currentselection/filtered_staff",this.currentStaffIndex=0,this.teacherInfoMsg="",t.getPSSTranslations("psx.js.angular.admin_autocomplete.staff_type_ahead_component.","psx.js.angular.admin_autocomplete.staff_type_ahead_component._matches_found_based_on_")}ngOnInit(){this.staffSelectionCount>0&&this.fetchData(!0),this.translateService.get("psx.js.angular.admin_autocomplete.staff_type_ahead_component.staff_counter",{0:"0",1:this.staffSelectionCount}).subscribe(n=>{this.staffCounter=n}),this.translateService.get("psx.js.angular.admin_autocomplete.staff_type_ahead_component.teacher_number_",{0:this.teacherNumber}).subscribe(n=>{this.teacherNumberMsg=n}),this.translateService.get("psx.js.angular.admin_autocomplete.staff_type_ahead_component.start_typing_to_filter_the_selection_user_arrow_up__").subscribe(n=>{this.matchedString=n}),this.translateService.get("psx.js.angular.admin_autocomplete.staff_type_ahead_component.loading_staff_information").subscribe(n=>{this.description=n}),this.elementId=`${this.type}_picker_${this.id}`,this.size>this.staffSelectionCount&&(this.size=this.staffSelectionCount)}clickout(n){if(null==document.getElementById("dialogOverlay"))if(this.enabled&&this.autoCompleteInput&&!this.eRef.nativeElement.contains(n.target)){document.getElementById(`${this.type}_choices`).parentElement.scrollTop=0,this.enabled=!1,this.searchStr="";try{this.matchedChoices.forEach((t,a)=>{t[this.uniqueValueKey]===this.currentSelectedItem[this.uniqueValueKey]&&(this.highlightedIndex=a)})}catch{this.highlightedIndex=-1}document.removeEventListener("click",t=>{this.clickout(t)},!0),window.removeEventListener("keydown",t=>{this.handleArrowKeys(t)},!1),this.findElement(`${this.elementId}_toggle_btn`).then(t=>{this.toggleExpanded(!1),t.focus()})}else document.addEventListener("click",t=>{this.clickout(t)},{once:!0});else document.addEventListener("click",t=>{this.clickout(t)},{once:!0})}selectHighlighted(){this.matchedChoices[this.highlightedIndex]&&!this.keyTypePause&&(this.searchStr=`${this.matchedChoices[this.highlightedIndex].lastFirst}`,document.removeEventListener("click",n=>{this.clickout(n)},!0),window.removeEventListener("keydown",n=>{this.handleArrowKeys(n)},!1),loadingDialog(),this.callback(this.matchedChoices[this.highlightedIndex]))}updateContent(n){this.autoCompleteInput=n,this.autoCompleteInput&&this.matchedChoices.length<=50&&this.autoCompleteInput.nativeElement.focus()}fetchData(n,t){this.page=1,this.autocompleteService.getServerFilteredData(this.url,this.searchStr,this.page,this.size,this.searchfields).subscribe(a=>{this.currentStaffFound=!1,this.totalFilteredResults=a.typeAheadFilterTotal,this.processData(a,n,t),this.updatingData=!1})}handleScroll(n){if(document.getElementById(`${this.type}_choices`)&&document.getElementById(`${this.type}_choices`).parentElement){let t=document.getElementById(`${this.type}_choices`).parentElement,a=this.totalFilteredResults-this.matchedChoices.length;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<=3&&!this.scrollPulling&&t.scrollHeight>t.clientHeight&&0!=a&&!this.scrollPulling&&(this.scrollPulling=!0,t.scrollTop=t.scrollHeight,setTimeout(()=>{n.preventDefault(),this.autocompleteService.getServerFilteredData(this.url,this.searchStr,++this.page,this.size,this.searchfields).subscribe(c=>{let u=t.scrollTop;this.processData(c,!1,!0),this.scrollPulling=!1,t.scrollTop=u})},300))}}callback(n){let t=window.location.href;if(this.isInStaffHeader)window.location.href=`/admin/faculty/home.html?frn=005${n.dcid}`;else{let a=t.indexOf("frn="),c=t.indexOf("&",a);a>-1?t=t.replace(c>-1?t.substring(a,c):t.substring(a),`frn=005${n.dcid}`):t.indexOf("?")>-1?t+=`&frn=005${n.dcid}`:t+=`?frn=005${n.dcid}`,window.location.href=t}}specialProcessing(n,t,a,c){this.currentStaffIndex=n.selectedUserIds.findIndex(u=>String(u)===String(this.currentStaffId))+1,this.translateService.get("psx.js.angular.admin_autocomplete.staff_type_ahead_component.staff_counter",{0:this.currentStaffIndex,1:this.staffSelectionCount}).subscribe(u=>{this.staffCounter=u}),c?n.users.forEach((u,_)=>{u.schoolStaff.forEach(S=>{S.lastFirst=u.lastFirst,S.teacherNumber=u.teacherNumber,this.matchedChoices.push(S),S.id===+this.currentStaffId&&(this.currentStaffFound=!0,this.currentSelectedItem=S)})}):(this.noChoices=n.users.length<=1,this.teacherInfoMsg+=this.currentStaffName,""!=this.teacherNumber&&(this.teacherInfoMsg+=" "+this.teacherNumberMsg),this.teacherInfoMsg+=" "+this.staffCounter,this.translateService.get("psx.js.angular.admin_autocomplete.staff_type_ahead_component.current_staff_is__hit_space_or_enter_to_view_user_arrow__",{0:this.teacherInfoMsg}).subscribe(u=>{this.description=u,this.ariaLive="polite"}),document.getElementById(`${this.type}_choices`)&&document.getElementById(`${this.type}_choices`).parentElement&&(document.getElementById(`${this.type}_choices`).parentElement.scrollTop=0),this.matchedChoices=[],this.initialCount=n.length,this.highlightedIndex=-1,n.users.forEach((u,_)=>{u.schoolStaff.forEach(S=>{S.lastFirst=u.lastFirst,S.teacherNumber=u.teacherNumber,this.matchedChoices.push(S),S.id===+this.currentStaffId&&(this.currentStaffFound=!0,this.currentSelectedItem=S)})}),1==this.matchedChoices.length&&(this.highlightedIndex=0,this.matchedChoices[0].teacherNumber&&`${this.matchedChoices[0].teacherNumber}`===this.searchStr&&(loadingDialog(),this.callback(this.matchedChoices[0]))),this.searchStr.length>0?this.translateService.get("psx.js.angular.admin_autocomplete.staff_type_ahead_component._matches_found_based_on_",{0:this.matchedChoices.length,1:this.searchStr}).subscribe(u=>{this.matchedString=u}):this.translateService.get("psx.js.angular.admin_autocomplete.staff_type_ahead_component.start_typing_to_filter_the_selection_user_arrow_up__").subscribe(u=>{this.matchedString=u}))}highlight(n){let t=this.templateStr;return n.teacherNumber&&(t+=this.templateStr2),this.isDistrict&&(t+=this.templateStr3),this.fields.forEach(a=>{if(n[a]&&this.searchStr.length>0&&!this.keyTypePause){let c=`${n[a]}`;if(c.toLowerCase().indexOf(this.searchStr.toLowerCase())>-1){const u=c.toLowerCase().indexOf(this.searchStr.toLowerCase()),S=c.substring(u,u+this.searchStr.length);t=t.replace(`{${a}}`,c.replace(S,`<em class="highlightText">${S}</em>`))}else t=t.replace(`{${a}}`,c)}else t=t.replace(`{${a}}`,n[a]?n[a]:"")}),t}openPowersearchModal(n){this.dialogOpenned=!0,openPowerSearchDialog({enabled:!0,modal:!0,onlySearchType:null,url:void 0,isGroupFunctionModal:!1,groupFunctionPageName:null,returnFocusElementId:"openPowersearchModal"})}focusOnModifySelection(n){document.getElementById("openPowersearchModal").focus()}downToInput(){document.getElementById(this.inputID).focus()}}function Xd(r,n){if(1&r&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.matchedString)}}function Sp(r,n){1&r&&(e.TgZ(0,"div",17),e._UZ(1,"div",18)(2,"div",18)(3,"div",18)(4,"div",18),e.qZA())}function Op(r,n){if(1&r&&(e.TgZ(0,"li",24),e._uU(1),e.qZA()),2&r){const t=e.oxw(),c=t.$implicit;e.MGl("id","skipable_",t.index,""),e.xp6(1),e.Oqu(c.title)}}Ko.\u0275fac=function(n){return new(n||Ko)(e.Y36(Go),e.Y36(Kt.h),e.Y36(e.SBq))},Ko.\u0275cmp=e.Xpm({type:Ko,selectors:[["pss-staff-type-ahead"]],inputs:{currentStaffName:["current_staff_name","currentStaffName"],staffSelectionCount:["staff_selection_count","staffSelectionCount"],currentStaffId:["current_staff_id","currentStaffId"],isDistrict:["is_district","isDistrict"],teacherNumber:["teacher_number","teacherNumber"],isInStaffHeader:["is_in_staff_header","isInStaffHeader"]},features:[e.qOj],decls:21,vars:28,consts:[[3,"id","keydown.enter","keydown.space","keyup.space"],["type","button","tabindex","0","aria-expanded","false",3,"id","disabled","click"],["id","Staff_Name_Type_Ahead","aria-hidden","true"],["id","Staff_Counter_Type_Ahead","aria-hidden","true",1,"selection_counter"],["name","caret-down"],[1,"concealed",3,"id"],["tabindex","-1",1,"dropdowncontainer",3,"id","hidden","keydown.control.m"],[1,"powersearch_modify"],["href","javascript:;","id","openPowersearchModal",3,"keydown.enter","keydown.arrowdown","keydown.space","click","keydown.esc","keydown.tab","keydown.shift.tab"],["type","text","autocomplete","off",3,"id","name","ngModel","paste","keyup","keydown.esc","keydown.arrowdown","keydown.arrowup","keydown.tab","keydown.shift.tab","ngModelChange","focus","blur"],["inputAutocomplete",""],["aria-live","assertive","aria-atomic","true","class","screen_readers_only",4,"ngIf"],[1,"dropDownListContainer",3,"scroll"],["class","pds-loader-sm style-scope pds-loader",4,"ngIf"],["class","dropDownList","role","menu","aria-activedescendant","",3,"id","keyup","keydown.esc","keydown.tab","keydown.shift.tab",4,"ngIf"],["class","add_on",3,"innerHTML",4,"ngIf"],["aria-live","assertive","aria-atomic","true",1,"screen_readers_only"],[1,"pds-loader-sm","style-scope","pds-loader"],[1,"pds-loader-bar","style-scope","pds-loader"],["role","menu","aria-activedescendant","",1,"dropDownList",3,"id","keyup","keydown.esc","keydown.tab","keydown.shift.tab"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","non-selectable",3,"id",4,"ngIf"],["class","list-item selectable","tabindex","0","role","menuitem",3,"id","ngClass","click","keydown.arrowdown","keydown.arrowup","mouseover","keydown.backspace",4,"ngIf"],[1,"non-selectable",3,"id"],["tabindex","0","role","menuitem",1,"list-item","selectable",3,"id","ngClass","click","keydown.arrowdown","keydown.arrowup","mouseover","keydown.backspace"],[3,"innerHTML"],[1,"add_on",3,"innerHTML"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("keydown.enter",function(c){return t.handleEnterKey(c)})("keydown.space",function(c){return t.handleSpaceKey(c)})("keyup.space",function(c){return t.handleSpaceKey(c)}),e.TgZ(1,"button",1),e.NdJ("click",function(){return t.enabledAutocomplete()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e._UZ(6,"pds-icon",4),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e.NdJ("keydown.control.m",function(c){return t.openPowersearchModal(c)}),e.TgZ(10,"div",7)(11,"a",8),e.NdJ("keydown.enter",function(c){return t.openPowersearchModal(c)})("keydown.arrowdown",function(){return t.downToInput()})("keydown.space",function(c){return t.openPowersearchModal(c)})("click",function(c){return t.openPowersearchModal(c)})("keydown.esc",function(c){return t.handleEscKey(c)})("keydown.tab",function(){return t.enabledAutocomplete()})("keydown.shift.tab",function(c){return t.handleTabKey(c)}),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"input",9,10),e.NdJ("paste",function(c){return t.valueUpdated(c)})("keyup",function(c){return t.valueUpdated(c)})("keydown.esc",function(c){return t.handleEscKey(c)})("keydown.arrowdown",function(){return t.traverseDownList()})("keydown.arrowup",function(c){return t.focusOnModifySelection(c)})("keydown.tab",function(){return t.enabledAutocomplete()})("keydown.shift.tab",function(c){return t.handleTabKey(c)})("ngModelChange",function(c){return t.searchStr=c})("focus",function(){return t.toggleFocus(!0)})("blur",function(){return t.toggleFocus(!1)}),e.qZA(),e.YNc(16,zd,2,1,"p",11),e.TgZ(17,"div",12),e.NdJ("scroll",function(c){return t.handleScroll(c)}),e.YNc(18,kr,5,0,"div",13),e.YNc(19,aC,3,3,"ul",14),e.YNc(20,Mp,2,4,"span",15),e.qZA()()()),2&n&&(e.Gre("",t.type,"_picker_content"),e.s9C("id",t.elementId),e.xp6(1),e.Gre("",t.type,"_dropdown_button"),e.MGl("id","",t.elementId,"_toggle_btn"),e.Q6J("disabled",0==t.staffSelectionCount),e.uIk("aria-describedby",t.elementId+"_toggle_btn_desc")("aria-live",t.ariaLive),e.xp6(2),e.Oqu(t.currentStaffName),e.xp6(2),e.Oqu(t.staffCounter),e.xp6(2),e.MGl("id","",t.elementId,"_toggle_btn_desc"),e.xp6(1),e.hij(" ",t.description," "),e.xp6(1),e.MGl("id","",t.elementId,"_menu"),e.Q6J("hidden",!t.enabled),e.xp6(3),e.Oqu(e.lcZ(13,26,"psx.js.angular.admin_autocomplete.staff_type_ahead_component.modify_current_selection")),e.xp6(2),e.s9C("id",t.inputID),e.MGl("name","",t.elementId,"_input"),e.Q2q("aria-owns","",t.type,"_choices"),e.Q6J("ngModel",t.searchStr),e.xp6(2),e.Q6J("ngIf",t.matchedChoices.length!==t.initialCount),e.xp6(2),e.Q6J("ngIf",t.updatingData),e.xp6(1),e.Q6J("ngIf",t.matchedChoices.length>0&&!t.updatingData),e.xp6(1),e.Q6J("ngIf",t.enabled&&t.add_on))},dependencies:[H.mk,H.sg,H.O5,Qe.Fj,Qe.JJ,Qe.On,Bt.X$,ki],styles:[".button-style[_ngcontent-%COMP%]{background-color:#0066a5;background-position:left bottom;background-repeat:repeat-x;border:0 none;border-radius:4px;color:#fff}.button-style-hover[_ngcontent-%COMP%]{background-color:#00427c;color:#fff}.inactive-button-style[_ngcontent-%COMP%]{background-color:#e5e5e5;border:1px solid #454545}.inactive-button-style-hover[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #454545}.staff_picker_content[_ngcontent-%COMP%]{display:flex;line-height:21px;flex-direction:column;position:relative}.staff_picker_content[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none!important}@media screen and (min-width: 1025px){.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%]{max-width:500px;width:-moz-fit-content;width:fit-content}}@media screen and (max-width: 1024px){.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%]{max-width:277px;width:-moz-fit-content;width:fit-content}}@media screen and (min-width: 1025px){.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin:0}}@media screen and (max-width: 1024px){.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin:0}}@media print{.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin:0}}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%]   div.selection_counter[_ngcontent-%COMP%]{overflow:visible}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;white-space:nowrap;position:absolute;width:-moz-fit-content;width:fit-content;border-radius:4px;border:1px solid #d3d3d3;left:5px;top:38px;background:#ffffff;z-index:200;margin-right:5px;box-shadow:0 2px 2px #0006;min-width:215px;min-height:40px}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]   div.powersearch_modify[_ngcontent-%COMP%]{margin:10px auto;font-family:Open Sans;font-style:normal;font-weight:600;font-size:14px;line-height:21px}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;left:5px;top:45px}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]   #staff_choices.dropDownList[_ngcontent-%COMP%]{position:relative;margin:0;box-shadow:none;border-right:none;border-left:none;border-radius:0}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%]{position:absolute;right:10px;top:8px;height:22px;width:22px}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:22px;width:22px;padding:1px 5px}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.staff_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.staff_picker_content[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:90%}.staff_picker_content[_ngcontent-%COMP%]:not(.noChoices){color:#0066a5}.staff_picker_content[_ngcontent-%COMP%]:not(.noChoices):hover{color:#0066a5;cursor:pointer}.staff_picker_content[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.staff_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]{white-space:nowrap}.staff_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%]{position:absolute;right:8px}.staff_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:22px;width:22px;padding:1px 5px}.staff_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.staff_picker_content[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.staff_picker_content[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-left:none;border-right:none;max-height:70vh;overflow-y:auto;margin:40px 0 0;min-width:230px}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer.ie[_ngcontent-%COMP%]{margin-top:0}@supports (-webkit-appearance:none){.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer.ie[_ngcontent-%COMP%]{margin-top:25px}}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%]{white-space:nowrap;min-height:28px;font-weight:600}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{margin-right:0}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:8px;border-bottom:unset}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable.selected[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{height:28px;margin-right:6px}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable.selected[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:-1px}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.non-selectable[_ngcontent-%COMP%]{color:gray;border-bottom:solid 1px lightgray;margin:7px 5px 0;font-size:small;line-height:1.25em}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%]{height:20px;text-align:center}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]{width:6px;height:6px;margin:7px 0}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:9px;height:9px;margin:16px 2px;border-radius:50%;animation:pds-loader-animation 1s ease-in-out infinite}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(1){background-color:#eb1313;animation-delay:0s}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(2){background-color:#f5691d;animation-delay:.09s}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(3){background-color:#52ba2b;animation-delay:.18s}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(4){background-color:#12b19f;animation-delay:.27s}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer.showMenu[_ngcontent-%COMP%]{display:flex;flex-direction:column}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%]{height:40px;text-align:center}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]{width:6px;height:6px;margin:7px 0}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:9px;height:9px;margin:16px 2px;border-radius:50%;animation:pds-loader-animation 1s ease-in-out infinite}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(1){background-color:#eb1313;animation-delay:0s}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(2){background-color:#f5691d;animation-delay:.09s}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(3){background-color:#52ba2b;animation-delay:.18s}.staff_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(4){background-color:#12b19f;animation-delay:.27s}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-family:Open Sans;font-weight:700;background-color:#fff;padding:0;border:1px solid #E0E0E0;height:32px;width:auto;margin:0 5px}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button.enabled[_ngcontent-%COMP%]{height:0px;margin-top:-3px;left:99999px}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:5px 0 5px 10px;font-size:16px}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices){color:#333}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices):hover{cursor:pointer}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#677274;height:20px;width:20px;margin:5px}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_button[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_label[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-weight:700;background-color:#fff;padding:0}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_label.enabled[_ngcontent-%COMP%]{height:0px;margin-top:-3px;left:99999px}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:7px 0 5px 10px;font-size:16px}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices){color:#0066a5}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices):hover{color:#0066a5;cursor:pointer}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_label[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.staff_picker_content[_ngcontent-%COMP%]   button.staff_dropdown_label[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}"]});const Tp=function(r,n){return{highlighted:r,selected:n}};function Er(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",25),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.callback(c))})("keydown.arrowdown",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.traverseDownList())})("keydown.arrowup",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.traverseUpList())})("mouseover",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(2);return e.KtG(_.handleMouseOver(c,u))})("keydown.backspace",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleBackspaceKey(c))}),e._UZ(1,"span")(2,"div",26),e.qZA()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index,u=e.oxw(2);e.hYB("id","",u.type,"_",a[u.uniqueValueKey],""),e.Q6J("ngClass",e.WLB(5,Tp,u.highlightedIndex===c,a===u.currentSelectedItem)),e.uIk("aria-selected",a===u.currentSelectedItem),e.xp6(2),e.Q6J("innerHTML",u.highlight(a),e.oJD)}}function cC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Op,2,2,"li",22),e.YNc(2,Er,3,8,"li",23),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.title),e.xp6(1),e.Q6J("ngIf",!t.title)}}function lC(r,n){1&r&&(e.TgZ(0,"li")(1,"div",17),e._UZ(2,"div",18)(3,"div",18)(4,"div",18)(5,"div",18),e.qZA()())}function dC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul",19),e.NdJ("keyup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.valueUpdated(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscKey(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))}),e.YNc(1,cC,3,2,"ng-container",20),e.YNc(2,lC,6,0,"li",21),e.qZA()}if(2&r){const t=e.oxw();e.MGl("id","",t.type,"_choices"),e.xp6(1),e.Q6J("ngForOf",t.matchedChoices),e.xp6(1),e.Q6J("ngIf",t.scrollPulling)}}function uC(r,n){if(1&r&&(e._UZ(0,"span",27),e.ALo(1,"safe")),2&r){const t=e.oxw();e.Q6J("innerHTML",e.xi3(1,1,t.add_on,"html"),e.oJD)}}class Ha extends fo{constructor(n,t,a){super(n,a),this.autocompleteService=n,this.translateService=t,this.eRef=a,this.studentSelectionCount=0,this.currentStudentId=0,this.studentNumber=0,this.gradeLevel=0,this.school="",this.track="",this.ariaLive="assertive",this.enableLocalStorage=!1,this.dialogOpenned=!1,this.matchedChoices=[],this.inputID="studentTypeAheadInput",this.studentCounter="(0/0)",this.scrollPulling=!1,this.serverSideFilters=!0,this.searchStr="",this.currentStudentFound=!1,this.templateStr="{lastFirst}",this.templateStr2='  <span aria-hidden="true">({gradeLevel})</span>',this.templateStr3='   <span aria-hidden="true">{studentNumber}</span>',this.searchfields=["lastFirst","grade_Level","student_Number"],this.fields=["lastFirst","gradeLevel","studentNumber"],this.page=1,this.size=50,this.totalFilteredResults=0,this.type="students",this.uniqueValueKey="dcid",this.url="/ws/selectionservice/currentselection/filtered_student",this.gradeLevels={},this.currentStudentIndex=0,this.gradeLevelMsg="",this.enrollmentStatusMsg="",this.trackMsg="",this.studentNumberMsg="",this.studentInfoMsg="",t.getPSSTranslations("psx.js.angular.admin_autocomplete.student_type_ahead_component.","psx.js.angular.admin_autocomplete.student_type_ahead_component._matches_found_based_on_")}ngOnInit(){this.studentSelectionCount>0&&this.fetchData(!0),this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.student_counter",{0:"0",1:this.studentSelectionCount}).subscribe(n=>{this.studentCounter=n}),this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.student_number",{0:this.studentNumber}).subscribe(n=>{this.studentNumberMsg=n}),this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.grade_level",{0:this.gradeLevel}).subscribe(n=>{this.gradeLevelMsg=n}),this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.track",{0:this.track}).subscribe(n=>{this.trackMsg=n}),this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.enrollment_status",{0:this.enrollmentStatus}).subscribe(n=>{this.enrollmentStatusMsg=n}),this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.start_typing_to_filter_the_selection_user_arrow_up__").subscribe(n=>{this.matchedString=n}),this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.loading_student_information").subscribe(n=>{this.description=n}),this.autocompleteService.getGradeLevels().subscribe(n=>{this.processGraveLevels(n)}),this.elementId=`${this.type}_picker_${this.id}`,this.size>this.studentSelectionCount&&(this.size=this.studentSelectionCount)}clickout(n){if(null==document.getElementById("dialogOverlay"))if(this.enabled&&this.autoCompleteInput&&!this.eRef.nativeElement.contains(n.target)){document.getElementById(`${this.type}_choices`)&&document.getElementById(`${this.type}_choices`).parentElement&&(document.getElementById(`${this.type}_choices`).parentElement.scrollTop=0),this.enabled=!1,this.searchStr="";try{this.matchedChoices.forEach((t,a)=>{t[this.uniqueValueKey]===this.currentSelectedItem[this.uniqueValueKey]&&(this.highlightedIndex=a)})}catch{this.highlightedIndex=-1}document.removeEventListener("click",t=>{this.clickout(t)},!0),window.removeEventListener("keydown",t=>{this.handleArrowKeys(t)},!1),this.findElement(`${this.elementId}_toggle_btn`).then(t=>{this.toggleExpanded(!1),t.focus()})}else document.addEventListener("click",t=>{this.clickout(t)},{once:!0});else document.addEventListener("click",t=>{this.clickout(t)},{once:!0})}selectHighlighted(){this.matchedChoices[this.highlightedIndex]&&!this.keyTypePause&&(this.searchStr=this.matchedChoices[this.highlightedIndex].lastFirst,document.removeEventListener("click",n=>{this.clickout(n)},!0),window.removeEventListener("keydown",n=>{this.handleArrowKeys(n)},!1),loadingDialog(),this.callback(this.matchedChoices[this.highlightedIndex]))}updateContent(n){this.autoCompleteInput=n,this.autoCompleteInput&&this.matchedChoices.length<=50&&this.autoCompleteInput.nativeElement.focus()}fetchData(n,t){this.page=1,this.autocompleteService.getServerFilteredData(this.url,this.searchStr,this.page,this.size,this.searchfields).subscribe(a=>{this.currentStudentFound=!1,this.totalFilteredResults=a.typeAheadFilterTotal,this.processData(a,n,t),this.updatingData=!1})}handleScroll(n){if(document.getElementById(`${this.type}_choices`)&&document.getElementById(`${this.type}_choices`).parentElement){let t=document.getElementById(`${this.type}_choices`).parentElement,a=this.totalFilteredResults-this.matchedChoices.length;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<=3&&!this.scrollPulling&&t.scrollHeight>t.clientHeight&&0!=a&&(this.scrollPulling=!0,t.scrollTop=t.scrollHeight,setTimeout(()=>{n.preventDefault(),this.autocompleteService.getServerFilteredData(this.url,this.searchStr,++this.page,this.size,this.searchfields).subscribe(c=>{let u=t.scrollTop;this.processData(c,!1,!0),this.scrollPulling=!1,t.scrollTop=u})},300))}}callback(n){let t=window.location.href,a=t.indexOf("frn="),c=t.indexOf("&",a);a>-1?t.indexOf("frn=001")>-1&&(t=t.replace(c>-1?t.substring(a,c):t.substring(a),`frn=001${n.dcid}`)):t.indexOf("?")>-1?t+=`&frn=001${n.dcid}`:t+=`?frn=001${n.dcid}`;let u=t.indexOf("curstudid="),_=t.indexOf("&",u);u>-1&&(t=t.replace(_>-1?t.substring(u,_):t.substring(u),`curstudid=${n.id}`));let S=t.indexOf("studentid="),F=t.indexOf("&",S);S>-1&&(t=t.replace(F>-1?t.substring(S,F):t.substring(S),`studentid=${n.id}`)),window.location.href=t}specialProcessing(n,t,a,c){this.currentStudentIndex=n.selectedStudentIds.findIndex(u=>String(u)===String(this.currentStudentId))+1,this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.student_counter",{0:this.currentStudentIndex,1:this.studentSelectionCount}).subscribe(u=>{this.studentCounter=u}),c?n.students.forEach((u,_)=>{this.matchedChoices.push(u),!this.currentStudentFound&&u.id===+this.currentStudentId&&(this.currentSelectedItem=u)}):(this.noChoices=n.students.length<=1,this.studentInfoMsg+=this.currentStudentName,this.studentNumber>0&&(this.studentInfoMsg+=" "+this.studentNumberMsg),this.gradeLevel>0&&(this.studentInfoMsg+=" "+this.gradeLevelMsg),""!=this.track&&(this.studentInfoMsg+=" "+this.trackMsg),""!=this.school&&(this.studentInfoMsg+=" "+this.school),this.enrollmentStatus&&(this.studentInfoMsg+=" "+this.enrollmentStatus),this.studentInfoMsg+=" "+this.studentCounter,this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.current_student_is__hit_space_or_enter_to_view_user_arrow__",{0:this.studentInfoMsg}).subscribe(u=>{this.description=u,this.ariaLive="polite"}),document.getElementById(`${this.type}_choices`)&&document.getElementById(`${this.type}_choices`).parentElement&&(document.getElementById(`${this.type}_choices`).parentElement.scrollTop=0),this.matchedChoices=[],this.initialCount=n.length,this.highlightedIndex=-1,n.students.forEach((u,_)=>{this.matchedChoices.push(u),u.id===+this.currentStudentId&&(this.currentStudentFound=!0,this.currentSelectedItem=u)}),1==this.matchedChoices.length&&(this.highlightedIndex=0,this.matchedChoices[0].studentNumber&&`${this.matchedChoices[0].studentNumber}`===this.searchStr&&(loadingDialog(),this.callback(this.matchedChoices[0]))),this.searchStr.length>0?this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component._matches_found_based_on_",{0:this.matchedChoices.length,1:this.searchStr}).subscribe(u=>{this.matchedString=u}):this.translateService.get("psx.js.angular.admin_autocomplete.student_type_ahead_component.start_typing_to_filter_the_selection_user_arrow_up__").subscribe(u=>{this.matchedString=u}))}highlight(n){let t=this.templateStr;return n.gradeLevel&&(t+=this.templateStr2),n.studentNumber&&(t+=this.templateStr3),this.fields.forEach(a=>{if("gradeLevel"!==a&&n[a]&&this.searchStr.length>0&&!this.keyTypePause){const c=`${n[a]}`;if(c.toLowerCase().indexOf(this.searchStr.toLowerCase())>-1){const u=c.toLowerCase().indexOf(this.searchStr.toLowerCase()),S=c.substring(u,u+this.searchStr.length);t=t.replace(`{${a}}`,c.replace(S,`<em class="highlightText">${S}</em>`))}else t=t.replace(`{${a}}`,c)}else t=t.replace(`{${a}}`,"gradeLevel"===a?n[a]?this.gradeLevels[n[a]]:"":n[a]?n[a]:"")}),t}processGraveLevels(n){n.record.forEach(t=>{this.gradeLevels[t.grade_level]=t.grade_text})}openPowersearchModal(n){openPowerSearchDialog({enabled:!0,modal:!0,onlySearchType:null,url:void 0,isGroupFunctionModal:!1,groupFunctionPageName:null,returnFocusElementId:"openPowersearchModal"})}focusOnModifySelection(n){document.getElementById("openPowersearchModal").focus()}downToInput(){document.getElementById(this.inputID).focus()}}function go(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"p",4),e._uU(2),e.qZA(),e.TgZ(3,"p",5),e._uU(4),e.qZA()()),2&r){const t=e.oxw();e.s9C("title",t.displayString),e.xp6(2),e.Oqu(t.displayString),e.xp6(2),e.Oqu(t.secondaryDisplayString)}}Ha.\u0275fac=function(n){return new(n||Ha)(e.Y36(Go),e.Y36(Kt.h),e.Y36(e.SBq))},Ha.\u0275cmp=e.Xpm({type:Ha,selectors:[["pss-student-type-ahead"]],inputs:{currentStudentName:["current_student_name","currentStudentName"],studentSelectionCount:["student_selection_count","studentSelectionCount"],currentStudentId:["current_student_id","currentStudentId"],studentNumber:["student_number","studentNumber"],gradeLevel:["grade_level","gradeLevel"],enrollmentStatus:["enrollment_status","enrollmentStatus"],school:"school",track:"track"},features:[e.qOj],decls:21,vars:27,consts:[[3,"id","keydown.enter","keydown.space","keyup.space"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","disabled","click"],["id","Student_Name_Type_Ahead","aria-hidden","true"],["id","Student_Counter_Type_Ahead","aria-hidden","true",1,"selection_counter"],["name","caret-down"],[1,"concealed",3,"id"],["tabindex","-1",1,"dropdowncontainer",3,"id","hidden","keydown.control.m"],[1,"powersearch_modify"],["href","javascript:;","id","openPowersearchModal",3,"keydown.enter","keydown.arrowdown","keydown.space","click","keydown.esc","keydown.tab","keydown.shift.tab"],["type","text","autocomplete","off",3,"id","name","ngModel","paste","keyup","keydown.esc","keydown.arrowdown","keydown.arrowup","keydown.tab","keydown.shift.tab","ngModelChange","focus","blur"],["inputAutocomplete",""],["aria-live","assertive","aria-atomic","true","class","screen_readers_only",4,"ngIf"],[1,"dropDownListContainer",3,"scroll"],["class","pds-loader-sm style-scope pds-loader",4,"ngIf"],["class","dropDownList","role","menu","aria-activedescendant","",3,"id","keyup","keydown.esc","keydown.tab","keydown.shift.tab",4,"ngIf"],["class","add_on",3,"innerHTML",4,"ngIf"],["aria-live","assertive","aria-atomic","true",1,"screen_readers_only"],[1,"pds-loader-sm","style-scope","pds-loader"],[1,"pds-loader-bar","style-scope","pds-loader"],["role","menu","aria-activedescendant","",1,"dropDownList",3,"id","keyup","keydown.esc","keydown.tab","keydown.shift.tab"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","non-selectable",3,"id",4,"ngIf"],["class","list-item selectable","tabindex","0","role","menuitem",3,"id","ngClass","click","keydown.arrowdown","keydown.arrowup","mouseover","keydown.backspace",4,"ngIf"],[1,"non-selectable",3,"id"],["tabindex","0","role","menuitem",1,"list-item","selectable",3,"id","ngClass","click","keydown.arrowdown","keydown.arrowup","mouseover","keydown.backspace"],[3,"innerHTML"],[1,"add_on",3,"innerHTML"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("keydown.enter",function(c){return t.handleEnterKey(c)})("keydown.space",function(c){return t.handleSpaceKey(c)})("keyup.space",function(c){return t.handleSpaceKey(c)}),e.TgZ(1,"button",1),e.NdJ("click",function(){return t.enabledAutocomplete()}),e.TgZ(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e._UZ(6,"pds-icon",4),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e.NdJ("keydown.control.m",function(c){return t.openPowersearchModal(c)}),e.TgZ(10,"div",7)(11,"a",8),e.NdJ("keydown.enter",function(c){return t.openPowersearchModal(c)})("keydown.arrowdown",function(){return t.downToInput()})("keydown.space",function(c){return t.openPowersearchModal(c)})("click",function(c){return t.openPowersearchModal(c)})("keydown.esc",function(c){return t.handleEscKey(c)})("keydown.tab",function(){return t.enabledAutocomplete()})("keydown.shift.tab",function(c){return t.handleTabKey(c)}),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"input",9,10),e.NdJ("paste",function(c){return t.valueUpdated(c)})("keyup",function(c){return t.valueUpdated(c)})("keydown.esc",function(c){return t.handleEscKey(c)})("keydown.arrowdown",function(){return t.traverseDownList()})("keydown.arrowup",function(c){return t.focusOnModifySelection(c)})("keydown.tab",function(){return t.enabledAutocomplete()})("keydown.shift.tab",function(c){return t.handleTabKey(c)})("ngModelChange",function(c){return t.searchStr=c})("focus",function(){return t.toggleFocus(!0)})("blur",function(){return t.toggleFocus(!1)}),e.qZA(),e.YNc(16,Xd,2,1,"p",11),e.TgZ(17,"div",12),e.NdJ("scroll",function(c){return t.handleScroll(c)}),e.YNc(18,Sp,5,0,"div",13),e.YNc(19,dC,3,3,"ul",14),e.YNc(20,uC,2,4,"span",15),e.qZA()()()),2&n&&(e.Gre("",t.type,"_picker_content"),e.s9C("id",t.elementId),e.xp6(1),e.Gre("",t.type,"_dropdown_button"),e.MGl("id","",t.elementId,"_toggle_btn"),e.Q6J("disabled",0==t.studentSelectionCount),e.uIk("aria-describedby",t.elementId+"_toggle_btn_desc"),e.xp6(2),e.Oqu(t.currentStudentName),e.xp6(2),e.Oqu(t.studentCounter),e.xp6(2),e.MGl("id","",t.elementId,"_toggle_btn_desc"),e.xp6(1),e.hij(" ",t.description," "),e.xp6(1),e.MGl("id","",t.elementId,"_menu"),e.Q6J("hidden",!t.enabled),e.xp6(3),e.Oqu(e.lcZ(13,25,"psx.js.angular.admin_autocomplete.student_type_ahead_component.modify_current_selection")),e.xp6(2),e.s9C("id",t.inputID),e.MGl("name","",t.elementId,"_input"),e.Q2q("aria-owns","",t.type,"_choices"),e.Q6J("ngModel",t.searchStr),e.xp6(2),e.Q6J("ngIf",t.matchedChoices.length!==t.initialCount),e.xp6(2),e.Q6J("ngIf",t.updatingData),e.xp6(1),e.Q6J("ngIf",t.matchedChoices.length>0&&!t.updatingData),e.xp6(1),e.Q6J("ngIf",t.enabled&&t.add_on))},dependencies:[H.mk,H.sg,H.O5,Qe.Fj,Qe.JJ,Qe.On,Bt.X$,ki],styles:[".button-style[_ngcontent-%COMP%]{background-color:#0066a5;background-position:left bottom;background-repeat:repeat-x;border:0 none;border-radius:4px;color:#fff}.button-style-hover[_ngcontent-%COMP%]{background-color:#00427c;color:#fff}.inactive-button-style[_ngcontent-%COMP%]{background-color:#e5e5e5;border:1px solid #454545}.inactive-button-style-hover[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #454545}.students_picker_content[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.students_picker_content[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none!important}@media screen and (min-width: 1025px){.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%]{max-width:500px;width:-moz-fit-content;width:fit-content}}@media screen and (max-width: 1024px){.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%]{max-width:277px;width:-moz-fit-content;width:fit-content}}@media screen and (min-width: 1025px){.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin:0}}@media screen and (max-width: 1024px){.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin:0}}@media print{.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin:0}}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%]   div.selection_counter[_ngcontent-%COMP%]{overflow:visible}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;white-space:nowrap;position:absolute;width:-moz-fit-content;width:fit-content;border-radius:4px;border:1px solid #d3d3d3;left:5px;top:38px;background:#ffffff;z-index:200;margin-right:5px;box-shadow:0 2px 2px #0006;min-width:215px;min-height:40px}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]   div.powersearch_modify[_ngcontent-%COMP%]{margin:10px auto;font-family:Open Sans;font-style:normal;font-weight:600;font-size:14px;line-height:21px}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;left:5px;top:45px}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]   #students_choices.dropDownList[_ngcontent-%COMP%]{position:relative;margin:0;box-shadow:none;border-right:none;border-left:none;border-radius:0}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%]{position:absolute;right:10px;top:8px;height:22px;width:22px}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:22px;width:22px;padding:1px 5px}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.students_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.students_picker_content[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:90%}.students_picker_content[_ngcontent-%COMP%]:not(.noChoices){color:#0066a5}.students_picker_content[_ngcontent-%COMP%]:not(.noChoices):hover{cursor:pointer}.students_picker_content[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.students_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]{white-space:nowrap}.students_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%]{position:absolute;right:8px}.students_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:22px;width:22px;padding:1px 5px}.students_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.students_picker_content[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.students_picker_content[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-left:none;border-right:none;max-height:70vh;overflow-y:auto;margin:40px 0 0;min-width:230px}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer.ie[_ngcontent-%COMP%]{margin-top:0}@supports (-webkit-appearance:none){.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer.ie[_ngcontent-%COMP%]{margin-top:25px}}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%]{font-size:14px;white-space:nowrap;min-height:28px;font-weight:600}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{margin-right:0}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:8px;border-bottom:unset}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable.selected[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{height:28px;margin-right:6px}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.list-item.selectable.selected[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:-1px}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li.non-selectable[_ngcontent-%COMP%]{color:gray;border-bottom:solid 1px lightgray;margin:7px 5px 0;font-size:small;line-height:1.25em}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%]{height:20px;text-align:center}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]{width:6px;height:6px;margin:7px 0}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:9px;height:9px;margin:16px 2px;border-radius:50%;animation:pds-loader-animation 1s ease-in-out infinite}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(1){background-color:#eb1313;animation-delay:0s}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(2){background-color:#f5691d;animation-delay:.09s}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(3){background-color:#52ba2b;animation-delay:.18s}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(4){background-color:#12b19f;animation-delay:.27s}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer.showMenu[_ngcontent-%COMP%]{display:flex;flex-direction:column}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%]{height:40px;text-align:center}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]{width:6px;height:6px;margin:7px 0}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]{display:inline-block;position:relative;width:9px;height:9px;margin:16px 2px;border-radius:50%;animation:pds-loader-animation 1s ease-in-out infinite}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(1){background-color:#eb1313;animation-delay:0s}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(2){background-color:#f5691d;animation-delay:.09s}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(3){background-color:#52ba2b;animation-delay:.18s}.students_picker_content[_ngcontent-%COMP%]   .dropDownListContainer[_ngcontent-%COMP%]   .pds-loader-sm[_ngcontent-%COMP%] > .pds-loader-bar[_ngcontent-%COMP%]:nth-child(4){background-color:#12b19f;animation-delay:.27s}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-weight:700;font-family:Open Sans;background-color:#fff;padding:0;border:1px solid #E0E0E0;height:32px;width:auto;margin:0 5px}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button.enabled[_ngcontent-%COMP%]{height:0px;margin-top:-3px;left:99999px}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:5px 0 5px 10px;font-size:16px}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices){color:#333}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices):hover{cursor:pointer}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#677274;height:20px;width:20px;margin:5px}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_button[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_label[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-weight:700;background-color:#fff;padding:0}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_label.enabled[_ngcontent-%COMP%]{height:0px;margin-top:-3px;left:99999px}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:7px 0 5px 10px;font-size:16px}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices){color:#0066a5}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices):hover{color:#0066a5;cursor:pointer}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_label[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.students_picker_content[_ngcontent-%COMP%]   button.students_dropdown_label[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}"]});const Cs=function(r){return{enabled:r}};function hC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.enabledAutocomplete())}),e.TgZ(1,"div")(2,"p",4),e._uU(3),e.qZA(),e.TgZ(4,"p",5),e._uU(5),e.qZA()(),e._UZ(6,"pds-icon",17),e.qZA()}if(2&r){const t=e.oxw(2);e.Gre("",t.type,"_dropdown_label"),e.MGl("id","",t.elementId,"_toggle_btn"),e.Q6J("ngClass",e.VKq(8,Cs,t.enabled)),e.uIk("aria-describedby",t.elementId+"_toggle_btn_desc"),e.xp6(3),e.Oqu(t.displayString),e.xp6(2),e.Oqu(t.secondaryDisplayString)}}function pC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.enabledAutocomplete())}),e._UZ(1,"pds-icon",19),e.qZA()}if(2&r){const t=e.oxw(2);e.Gre("",t.type,"_dropdown_icon_button"),e.MGl("id","",t.elementId,"_toggle_btn"),e.s9C("title",t.displayString),e.uIk("aria-describedby",t.elementId+"_toggle_btn_desc"),e.xp6(1),e.s9C("name",t.iconName)}}function _C(r,n){if(1&r&&(e.TgZ(0,"p",20),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.matchedString)}}function fC(r,n){if(1&r&&(e.TgZ(0,"li",23),e._uU(1),e.qZA()),2&r){const t=e.oxw(),c=t.$implicit;e.MGl("id","skipable_",t.index,""),e.xp6(1),e.Oqu(c.title)}}const gC=function(r,n){return{highlighted:r,selected:n}};function mC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",24),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.callback(c))})("keydown.arrowdown",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.traverseDownList())})("keydown.arrowup",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.traverseUpList())})("mouseover",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(2);return e.KtG(_.handleMouseOver(c,u))})("keydown.backspace",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleBackspaceKey(c))}),e._UZ(1,"span")(2,"div",25),e.qZA()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index,u=e.oxw(2);e.hYB("id","",u.type,"_",a[u.uniqueValueKey],""),e.Q6J("ngClass",e.WLB(5,gC,u.highlightedIndex===c,a===u.currentSelectedItem)),e.uIk("aria-selected",a===u.currentSelectedItem),e.xp6(2),e.Q6J("innerHTML",u.highlight(a),e.oJD)}}function Pp(r,n){if(1&r&&(e.ynx(0),e.YNc(1,fC,2,2,"li",21),e.YNc(2,mC,3,8,"li",22),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.title),e.xp6(1),e.Q6J("ngIf",!t.title)}}function CC(r,n){if(1&r&&(e._UZ(0,"span",26),e.ALo(1,"safe")),2&r){const t=e.oxw(2);e.Q6J("innerHTML",e.xi3(1,1,t.add_on,"html"),e.oJD)}}const vC=function(r){return{iconButton:r}},yC=function(r,n){return{concealed:r,ie:n}};function bC(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.YNc(1,hC,7,10,"button",6),e.YNc(2,pC,2,7,"button",7),e.TgZ(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9)(6,"input",10,11),e.NdJ("keyup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.valueUpdated(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscKey(c))})("keydown.arrowdown",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.traverseDownList())})("keydown.tab",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.enabledAutocomplete())})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.searchStr=c)})("focus",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.toggleFocus(!0))})("blur",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.toggleFocus(!1))}),e.qZA(),e.YNc(8,_C,2,1,"p",12),e.TgZ(9,"ul",13),e.NdJ("keyup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.valueUpdated(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscKey(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))}),e.YNc(10,Pp,3,2,"ng-container",14),e.qZA(),e.YNc(11,CC,2,4,"span",15),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.iconButton),e.xp6(1),e.Q6J("ngIf",t.iconButton),e.xp6(1),e.MGl("id","",t.elementId,"_toggle_btn_desc"),e.xp6(1),e.hij(" ",t.description," "),e.xp6(1),e.MGl("id","",t.elementId,"_menu"),e.Q6J("hidden",!t.enabled)("ngClass",e.VKq(17,vC,t.iconButton)),e.xp6(1),e.s9C("id",t.inputID),e.MGl("name","",t.elementId,"_input"),e.s9C("placeholder",t.displayString),e.Q2q("aria-owns","",t.type,"_choices"),e.Q6J("ngModel",t.searchStr),e.xp6(2),e.Q6J("ngIf",t.matchedChoices.length!==t.initialCount),e.xp6(1),e.MGl("id","",t.type,"_choices"),e.Q6J("ngClass",e.WLB(19,yC,0===t.matchedChoices.length||!t.enabled,t.isIE)),e.xp6(1),e.Q6J("ngForOf",t.matchedChoices),e.xp6(1),e.Q6J("ngIf",t.enabled&&t.add_on)}}class Jo extends fo{constructor(n,t,a){super(n,a),this.autocompleteService=n,this.translateService=t,this.eRef=a,this.url="/ws/schema/query/com.pearson.core.terms.school_terms?pagesize=0",this.highlightedIndex=0,this.matchedChoices=[],this.yearIdToAbbrev={},this.searchStr="",this.enabled=!1,this.inputID="termText",this.type="term",this.fields=["yearLabel","name","abbreviation"],this.templateStr="{yearLabel}\t{name}",this.uniqueValueKey="id",this.translateService.getPSSTranslations("psx.js.angular.admin_autocomplete.","psx.js.angular.admin_autocomplete.termpicker_component._matches_found_based_on_")}ngOnInit(){this.displayString=this.currentTermName,this.elementId=`${this.type}_picker_${this.id}`,Number.isInteger(Number.parseInt(this.currentTerm,10))?this.enabledAutocomplete(!0):this.autocompleteService.getCurrentContext().subscribe(n=>{this.currentSchool=n.currentSchoolId,this.currentTerm=n.currentTermId,this.cacheKey=`${this.type}:${this.userId}:${this.currentSchool}`,this.enabledAutocomplete(!0)},n=>{this.secondaryDisplayString=this.displayString})}callback(n){loadingDialog(),goToTerm(n.id)}specialProcessing(n,t,a){if(a)this.noChoices=void 0===n||n.length<1,n?n.forEach(c=>{c.id===`${this.currentTerm}`&&(this.secondaryDisplayString=c.abbreviation)}):this.secondaryDisplayString=this.displayString,this.translateService.get("psx.js.angular.admin_autocomplete.termpicker_component.current_selected_term_is__hit_space_or_enter_to_open_user_arrow__",{0:this.displayString}).subscribe(c=>{this.description=c});else{this.skipableChoices=[],this.matchedChoices=[],this.yearIdToAbbrev={};const c=n;let u;c.forEach(_=>{"1"===_.isyearrec&&!this.yearIdToAbbrev[_.yearid]&&(this.yearIdToAbbrev[_.yearid]=_.abbreviation)}),c.forEach((_,S)=>{delete _._id,u||(u=_.yearid),_.yearLabel=this.yearIdToAbbrev[_.yearid];let F=!1;(_.name&&_.name.toString().toLowerCase().indexOf(this.searchStr.toLowerCase())>-1||_.abbreviation&&_.abbreviation.toString().toLowerCase().indexOf(this.searchStr.toLowerCase())>-1||_.yearLabel&&_.yearLabel.toString().toLowerCase().indexOf(this.searchStr.toLowerCase())>-1)&&(F=!0),F&&((u!==_.yearid||0===this.matchedChoices.length)&&(this.skipableChoices.push(this.matchedChoices.length),this.matchedChoices.push({id:_.yearid,title:_.yearLabel}),u=_.yearid),this.matchedChoices.push(_),_.id===`${this.currentTerm}`&&(this.currentSelectedItem=_,t||(this.highlightedIndex=this.matchedChoices.indexOf(_))))}),this.translateService.get("psx.js.angular.admin_autocomplete.termpicker_component._matches_found_based_on_",{0:this.matchedChoices.length,1:this.searchStr}).subscribe(_=>{this.matchedString=_})}}}Jo.\u0275fac=function(n){return new(n||Jo)(e.Y36(Go),e.Y36(Kt.h),e.Y36(e.SBq))},Jo.\u0275cmp=e.Xpm({type:Jo,selectors:[["pss-termpicker"]],inputs:{currentTerm:["current_term","currentTerm"],currentSchool:["current_school","currentSchool"],currentTermName:["current_term_name","currentTermName"]},features:[e.qOj],decls:3,vars:7,consts:[[3,"id","hidden","keydown.enter","keydown.space","keyup.space"],["class","noChoices",3,"title",4,"ngIf"],[4,"ngIf"],[1,"noChoices",3,"title"],[1,"large"],[1,"small"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","class","ngClass","click",4,"ngIf"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","class","title","click",4,"ngIf"],[1,"concealed",3,"id"],["tabindex","-1",1,"dropdowncontainer",3,"id","hidden","ngClass"],["aria-expanded","false","type","text","autocomplete","off",3,"id","name","placeholder","ngModel","keyup","keydown.esc","keydown.arrowdown","keydown.tab","keydown.shift.tab","ngModelChange","focus","blur"],["inputAutocomplete",""],["aria-live","assertive","aria-atomic","true","class","screen_readers_only",4,"ngIf"],["role","menubar","aria-activedescendant","",1,"dropDownList",3,"id","ngClass","keyup","keydown.esc","keydown.tab","keydown.shift.tab"],[4,"ngFor","ngForOf"],["class","add_on",3,"innerHTML",4,"ngIf"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","ngClass","click"],["name","caret-down"],["type","button","tabindex","0","aria-expanded","false","aria-live","polite",3,"id","title","click"],[3,"name"],["aria-live","assertive","aria-atomic","true",1,"screen_readers_only"],["class","non-selectable",3,"id",4,"ngIf"],["class","list-item selectable","tabindex","0","role","menuitem",3,"id","ngClass","click","keydown.arrowdown","keydown.arrowup","mouseover","keydown.backspace",4,"ngIf"],[1,"non-selectable",3,"id"],["tabindex","0","role","menuitem",1,"list-item","selectable",3,"id","ngClass","click","keydown.arrowdown","keydown.arrowup","mouseover","keydown.backspace"],[3,"innerHTML"],[1,"add_on",3,"innerHTML"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("keydown.enter",function(c){return t.handleEnterKey(c)})("keydown.space",function(c){return t.handleSpaceKey(c)})("keyup.space",function(c){return t.handleSpaceKey(c)}),e.YNc(1,go,5,3,"div",1),e.YNc(2,bC,12,22,"ng-container",2),e.qZA()),2&n&&(e.Gre("",t.type,"_picker_content"),e.s9C("id",t.elementId),e.Q6J("hidden",!t.initialized),e.xp6(1),e.Q6J("ngIf",t.noChoices&&!t.iconButton),e.xp6(1),e.Q6J("ngIf",!t.noChoices))},dependencies:[H.mk,H.sg,H.O5,Qe.Fj,Qe.JJ,Qe.On,ki],styles:[".button-style[_ngcontent-%COMP%]{background-color:#0066a5;background-position:left bottom;background-repeat:repeat-x;border:0 none;border-radius:4px;color:#fff}.button-style-hover[_ngcontent-%COMP%]{background-color:#00427c;color:#fff}.inactive-button-style[_ngcontent-%COMP%]{background-color:#e5e5e5;border:1px solid #454545}.inactive-button-style-hover[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #454545}.term_picker_content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.term_picker_content[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none!important}@media screen and (min-width: 1025px){.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%], .term_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%]{display:inline;margin:0}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%], .term_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{display:none;margin:0}}@media screen and (max-width: 1024px){.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%], .term_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%]{display:none;margin:0}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%], .term_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{display:inline;margin:0}}@media print{.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%], .term_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.large[_ngcontent-%COMP%]{display:inline;margin:0}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%], .term_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{display:none;margin:0}}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;white-space:nowrap;margin-right:30px}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer.iconButton[_ngcontent-%COMP%]{position:absolute;width:-moz-fit-content;width:fit-content;border-radius:4px;border:1px solid #d3d3d3;top:66px;right:0;background:#ffffff;z-index:99999;margin-right:20px;box-shadow:0 2px 2px #0006;min-width:170px;min-height:40px}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer.iconButton[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:70%;position:absolute;left:5px;top:7px}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer.iconButton[_ngcontent-%COMP%]   #term_choices.dropDownList[_ngcontent-%COMP%]{position:relative;margin:40px 0 0;box-shadow:none;border-right:none;border-left:none;border-radius:0;width:100%}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer.iconButton[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%]{position:absolute;right:10px;top:8px;height:22px;width:22px}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer.iconButton[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:22px;width:22px;padding:1px 5px}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer.iconButton[_ngcontent-%COMP%] > span.add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer.iconButton[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer.iconButton[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:90%}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]:not(.noChoices){color:#0066a5}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]:not(.noChoices):hover{color:#0066a5;cursor:pointer}.term_picker_content[_ngcontent-%COMP%] > div.dropdowncontainer[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.term_picker_content[_ngcontent-%COMP%]   .noChoices[_ngcontent-%COMP%]{white-space:nowrap}.term_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%]{position:absolute;right:8px}.term_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:22px;width:22px;padding:1px 5px}.term_picker_content[_ngcontent-%COMP%]   .add_on[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.term_picker_content[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:14px;width:14px;margin:auto 0;padding:10px 6px;float:right}.term_picker_content[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList[_ngcontent-%COMP%]{border-radius:4px;border:solid 1px lightgray;max-height:70vh;overflow-y:auto;margin:25px 0 0;min-width:160px}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList.ie[_ngcontent-%COMP%]{margin-top:0}@supports (-webkit-appearance:none){.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList.ie[_ngcontent-%COMP%]{margin-top:25px}}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%]{white-space:nowrap;min-height:28px}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{margin-right:0}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList[_ngcontent-%COMP%]   li.list-item.selectable[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:8px;border-bottom:unset}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList[_ngcontent-%COMP%]   li.list-item.selectable.selected[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{height:28px;margin-right:6px}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList[_ngcontent-%COMP%]   li.list-item.selectable.selected[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:-1px}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList[_ngcontent-%COMP%]   li.non-selectable[_ngcontent-%COMP%]{color:gray;border-bottom:solid 1px lightgray;margin:7px 5px 0;font-size:small;line-height:1.25em}.term_picker_content[_ngcontent-%COMP%]   #term_choices.dropDownList.showMenu[_ngcontent-%COMP%]{display:flex;flex-direction:column}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_icon_button[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-weight:700;background-color:#fff;padding:0;border:1px solid #0075db;height:32px;width:32px;margin:auto 20px auto 5px}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_icon_button.enabled[_ngcontent-%COMP%]{display:none}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_icon_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:8px 0 4px 7px}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_icon_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices){color:#0075db}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_icon_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices):hover{cursor:pointer}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_icon_button[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_icon_button[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:20px;width:20px;margin:5px}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_icon_button[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-weight:700;background-color:#fff;padding:0;border:none;font-size:14px;position:relative;top:0;height:24px}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label.enabled[_ngcontent-%COMP%]{display:none}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:4px 0 4px 7px}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices){color:#0066a5}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices):hover{color:#0066a5;cursor:pointer}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.noChoices)   .hide[_ngcontent-%COMP%]{display:none}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{fill:#0066a5;height:20px;width:20px;margin:auto 6px;flex:unset;position:relative;top:0}.term_picker_content[_ngcontent-%COMP%]   button.term_dropdown_label[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]:hover{color:#0066a5;cursor:pointer}"]});var Ht=k(7221);class to extends Go{constructor(n){super(),this.http=n}getData(n,t){return this.http.post(n,t).pipe((0,Ht.K)(a=>(0,N.of)({isError:!0,error:a})))}getServerFilteredData(n,t,a,c,u){let _=new W.LE;return _=_.set("filterText",t),_=_.set("page",a),_=_.set("pageSize",c),u&&(_=_.set("fields",u)),this.http.get(n,{params:_}).pipe((0,Ht.K)(S=>(0,N.of)({isError:!0,error:S})))}changeSchool(n){const t=new FormData;return t.append("ac","setschool"),t.append("Schoolid",n),this.http.post("/admin/schoolchanged.html",t,{responseType:"text"})}findSchools(n){return this.http.get(`/ws/preferences/core/schools/${n}Access`)}getCurrentContext(){return this.http.get("/ws/core/currentsession/info")}getGradeLevels(){return this.http.get("/ws/xte/school/gradelevels").pipe((0,Ht.K)(n=>(0,N.of)({isError:!0,error:n})))}}to.\u0275fac=function(n){return new(n||to)(e.LFG(W.eN))},to.\u0275prov=e.Yz7({token:to,factory:to.\u0275fac,providedIn:"root"});var vs=k(591);class ui{constructor(){this.isFavoritesMenuShowing=new vs.X(!1),this.favoritesMenuObservable=this.isFavoritesMenuShowing.asObservable(),this.isEmptyFavoriteDialogShowing=new vs.X(!1),this.emptyFavoriteDialogObservable=this.isEmptyFavoriteDialogShowing.asObservable(),this.isManageFavoritesShowing=new vs.X(!1),this.manageFavoritesObservable=this.isManageFavoritesShowing.asObservable(),this.isAddFavoriteDialogShowing=new vs.X({isShowing:!1,source:""}),this.addFavoriteDialogObservable=this.isAddFavoriteDialogShowing.asObservable(),this.addFavoriteDialogConfirmed=new We.xQ,this.addFavoriteDialogConfirmObservable=this.addFavoriteDialogConfirmed.asObservable()}setFavoritesMenuShowing(n){this.isFavoritesMenuShowing.next(n)}setEmptyFavoriteDialogShowing(n){this.isEmptyFavoriteDialogShowing.next(n)}setManageFavoritesShowing(n){this.isManageFavoritesShowing.next(n)}setAddFavoriteDialogShowing(n,t){this.isAddFavoriteDialogShowing.next({isShowing:n,source:t??""})}notifyFavoriteConfirmed(){this.addFavoriteDialogConfirmed.next()}}ui.\u0275fac=function(n){return new(n||ui)},ui.\u0275prov=e.Yz7({token:ui,factory:ui.\u0275fac,providedIn:"root"});var eu="1.13.4",xC="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},tu=Array.prototype,Dp=Object.prototype,ul=typeof Symbol<"u"?Symbol.prototype:null,nu=tu.push,hl=tu.slice,pl=Dp.toString,kp=Dp.hasOwnProperty,Ep=typeof ArrayBuffer<"u",wC=typeof DataView<"u",MC=Array.isArray,Ip=Object.keys,iu=Object.create,Za=Ep&&ArrayBuffer.isView,Fp=isNaN,ou=isFinite,Ap=!{toString:null}.propertyIsEnumerable("toString"),Yt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Np=Math.pow(2,53)-1;function oi(r,n){return n=null==n?r.length-1:+n,function(){for(var t=Math.max(arguments.length-n,0),a=Array(t),c=0;c<t;c++)a[c]=arguments[c+n];switch(n){case 0:return r.call(this,a);case 1:return r.call(this,arguments[0],a);case 2:return r.call(this,arguments[0],arguments[1],a)}var u=Array(n+1);for(c=0;c<n;c++)u[c]=arguments[c];return u[n]=a,r.apply(this,u)}}function mo(r){var n=typeof r;return"function"===n||"object"===n&&!!r}function Lp(r){return null===r}function Rp(r){return void 0===r}function Bp(r){return!0===r||!1===r||"[object Boolean]"===pl.call(r)}function SC(r){return!(!r||1!==r.nodeType)}function An(r){var n="[object "+r+"]";return function(t){return pl.call(t)===n}}const ru=An("String"),OC=An("Number"),Wx=An("Date"),ja=An("RegExp"),Vp=An("Error"),su=An("Symbol"),au=An("ArrayBuffer");var cu=An("Function");"object"!=typeof Int8Array&&"function"!=typeof(xC.document&&xC.document.childNodes)&&(cu=function(r){return"function"==typeof r||!1});const $n=cu,lu=An("Object");var du=wC&&lu(new DataView(new ArrayBuffer(8))),Ua=typeof Map<"u"&&lu(new Map),Xx=An("DataView");const _l=du?function uu(r){return null!=r&&$n(r.getInt8)&&au(r.buffer)}:Xx,Co=MC||An("Array");function vo(r,n){return null!=r&&kp.call(r,n)}var fl=An("Arguments");!function(){fl(arguments)||(fl=function(r){return vo(r,"callee")})}();const yo=fl;function PC(r){return!su(r)&&ou(r)&&!isNaN(parseFloat(r))}function gl(r){return OC(r)&&Fp(r)}function $a(r){return function(){return r}}function Hp(r){return function(n){var t=r(n);return"number"==typeof t&&t>=0&&t<=Np}}function ml(r){return function(n){return n?.[r]}}const Ir=ml("byteLength"),Fr=Hp(Ir);var Zp=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const jp=Ep?function hu(r){return Za?Za(r)&&!_l(r):Fr(r)&&Zp.test(pl.call(r))}:$a(!1),ri=ml("length");function Ar(r,n){n=function Up(r){for(var n={},t=r.length,a=0;a<t;++a)n[r[a]]=!0;return{contains:function(c){return!0===n[c]},push:function(c){return n[c]=!0,r.push(c)}}}(n);var t=Yt.length,a=r.constructor,c=$n(a)&&a.prototype||Dp,u="constructor";for(vo(r,u)&&!n.contains(u)&&n.push(u);t--;)(u=Yt[t])in r&&r[u]!==c[u]&&!n.contains(u)&&n.push(u)}function wn(r){if(!mo(r))return[];if(Ip)return Ip(r);var n=[];for(var t in r)vo(r,t)&&n.push(t);return Ap&&Ar(r,n),n}function DC(r){if(null==r)return!0;var n=ri(r);return"number"==typeof n&&(Co(r)||ru(r)||yo(r))?0===n:0===ri(wn(r))}function $p(r,n){var t=wn(n),a=t.length;if(null==r)return!a;for(var c=Object(r),u=0;u<a;u++){var _=t[u];if(n[_]!==c[_]||!(_ in c))return!1}return!0}function Mt(r){return r instanceof Mt?r:this instanceof Mt?void(this._wrapped=r):new Mt(r)}function Gp(r){return new Uint8Array(r.buffer||r,r.byteOffset||0,Ir(r))}Mt.VERSION=eu,Mt.prototype.valueOf=Mt.prototype.toJSON=Mt.prototype.value=function(){return this._wrapped},Mt.prototype.toString=function(){return String(this._wrapped)};var pu="[object DataView]";function _u(r,n,t,a){if(r===n)return 0!==r||1/r==1/n;if(null==r||null==n)return!1;if(r!=r)return n!=n;var c=typeof r;return("function"===c||"object"===c||"object"==typeof n)&&fu(r,n,t,a)}function fu(r,n,t,a){r instanceof Mt&&(r=r._wrapped),n instanceof Mt&&(n=n._wrapped);var c=pl.call(r);if(c!==pl.call(n))return!1;if(du&&"[object Object]"==c&&_l(r)){if(!_l(n))return!1;c=pu}switch(c){case"[object RegExp]":case"[object String]":return""+r==""+n;case"[object Number]":return+r!=+r?+n!=+n:0==+r?1/+r==1/n:+r==+n;case"[object Date]":case"[object Boolean]":return+r==+n;case"[object Symbol]":return ul.valueOf.call(r)===ul.valueOf.call(n);case"[object ArrayBuffer]":case pu:return fu(Gp(r),Gp(n),t,a)}var u="[object Array]"===c;if(!u&&jp(r)){if(Ir(r)!==Ir(n))return!1;if(r.buffer===n.buffer&&r.byteOffset===n.byteOffset)return!0;u=!0}if(!u){if("object"!=typeof r||"object"!=typeof n)return!1;var S=r.constructor,F=n.constructor;if(S!==F&&!($n(S)&&S instanceof S&&$n(F)&&F instanceof F)&&"constructor"in r&&"constructor"in n)return!1}a=a||[];for(var j=(t=t||[]).length;j--;)if(t[j]===r)return a[j]===n;if(t.push(r),a.push(n),u){if((j=r.length)!==n.length)return!1;for(;j--;)if(!_u(r[j],n[j],t,a))return!1}else{var Me,ue=wn(r);if(j=ue.length,wn(n).length!==j)return!1;for(;j--;)if(!vo(n,Me=ue[j])||!_u(r[Me],n[Me],t,a))return!1}return t.pop(),a.pop(),!0}function ew(r,n){return _u(r,n)}function Ga(r){if(!mo(r))return[];var n=[];for(var t in r)n.push(t);return Ap&&Ar(r,n),n}function Nr(r){var n=ri(r);return function(t){if(null==t)return!1;var a=Ga(t);if(ri(a))return!1;for(var c=0;c<n;c++)if(!$n(t[r[c]]))return!1;return r!==Jp||!$n(t[gu])}}var gu="forEach",Rr=["clear","delete"],qp=["get","has","set"],Kp=Rr.concat(gu,qp),Jp=Rr.concat(qp),kC=["add"].concat(Rr,gu,"has");const EC=Ua?Nr(Kp):An("Map"),Qp=Ua?Nr(Jp):An("WeakMap"),IC=Ua?Nr(kC):An("Set"),Cl=An("WeakSet");function Qo(r){for(var n=wn(r),t=n.length,a=Array(t),c=0;c<t;c++)a[c]=r[n[c]];return a}function FC(r){for(var n=wn(r),t=n.length,a=Array(t),c=0;c<t;c++)a[c]=[n[c],r[n[c]]];return a}function vl(r){for(var n={},t=wn(r),a=0,c=t.length;a<c;a++)n[r[t[a]]]=t[a];return n}function Br(r){var n=[];for(var t in r)$n(r[t])&&n.push(t);return n.sort()}function mu(r,n){return function(t){var a=arguments.length;if(n&&(t=Object(t)),a<2||null==t)return t;for(var c=1;c<a;c++)for(var u=arguments[c],_=r(u),S=_.length,F=0;F<S;F++){var j=_[F];(!n||void 0===t[j])&&(t[j]=u[j])}return t}}const Yp=mu(Ga),yl=mu(wn),zp=mu(Ga,!0);function Xp(r){if(!mo(r))return{};if(iu)return iu(r);var n=function(){};n.prototype=r;var t=new n;return n.prototype=null,t}function AC(r,n){var t=Xp(r);return n&&yl(t,n),t}function ys(r){return mo(r)?Co(r)?r.slice():Yp({},r):r}function bo(r,n){return n(r),r}function e_(r){return Co(r)?r:[r]}function qa(r){return Mt.toPath(r)}function t_(r,n){for(var t=n.length,a=0;a<t;a++){if(null==r)return;r=r[n[a]]}return t?r:void 0}function NC(r,n,t){var a=t_(r,qa(n));return Rp(a)?t:a}function n_(r,n){for(var t=(n=qa(n)).length,a=0;a<t;a++){var c=n[a];if(!vo(r,c))return!1;r=r[c]}return!!t}function i_(r){return r}function bs(r){return r=yl({},r),function(n){return $p(n,r)}}function bl(r){return r=qa(r),function(n){return t_(n,r)}}function Ka(r,n,t){if(void 0===n)return r;switch(t??3){case 1:return function(a){return r.call(n,a)};case 3:return function(a,c,u){return r.call(n,a,c,u)};case 4:return function(a,c,u,_){return r.call(n,a,c,u,_)}}return function(){return r.apply(n,arguments)}}function Cu(r,n,t){return null==r?i_:$n(r)?Ka(r,n,t):mo(r)&&!Co(r)?bs(r):bl(r)}function vu(r,n){return Cu(r,n,1/0)}function si(r,n,t){return Mt.iteratee!==vu?Mt.iteratee(r,n):Cu(r,n,t)}function Ei(r,n,t){n=si(n,t);for(var a=wn(r),c=a.length,u={},_=0;_<c;_++){var S=a[_];u[S]=n(r[S],S,r)}return u}function o_(){}function r_(r){return null==r?o_:function(n){return NC(r,n)}}function LC(r,n,t){var a=Array(Math.max(0,r));n=Ka(n,t,1);for(var c=0;c<r;c++)a[c]=n(c);return a}function yu(r,n){return null==n&&(n=r,r=0),r+Math.floor(Math.random()*(n-r+1))}Mt.toPath=e_,Mt.iteratee=vu;const Ja=Date.now||function(){return(new Date).getTime()};function s_(r){var n=function(u){return r[u]},t="(?:"+wn(r).join("|")+")",a=RegExp(t),c=RegExp(t,"g");return function(u){return a.test(u=null==u?"":""+u)?u.replace(c,n):u}}const bu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},RC=s_(bu),VC=s_(vl(bu)),rt=Mt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var xl=/(.)^/,a_={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},c_=/\\|'|\r|\n|\u2028|\u2029/g;function HC(r){return"\\"+a_[r]}var ZC=/^\s*(\w|\$)+\s*$/;function l_(r,n,t){!n&&t&&(n=t),n=zp({},n,Mt.templateSettings);var a=RegExp([(n.escape||xl).source,(n.interpolate||xl).source,(n.evaluate||xl).source].join("|")+"|$","g"),c=0,u="__p+='";r.replace(a,function(j,ue,Me,Ge,Ot){return u+=r.slice(c,Ot).replace(c_,HC),c=Ot+j.length,ue?u+="'+\n((__t=("+ue+"))==null?'':_.escape(__t))+\n'":Me?u+="'+\n((__t=("+Me+"))==null?'':__t)+\n'":Ge&&(u+="';\n"+Ge+"\n__p+='"),j}),u+="';\n";var S,_=n.variable;if(_){if(!ZC.test(_))throw new Error("variable is not a bare identifier: "+_)}else u="with(obj||{}){\n"+u+"}\n",_="obj";u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{S=new Function(_,"_",u)}catch(j){throw j.source=u,j}var F=function(j){return S.call(this,j,Mt)};return F.source="function("+_+"){\n"+u+"}",F}function jC(r,n,t){var a=(n=qa(n)).length;if(!a)return $n(t)?t.call(r):t;for(var c=0;c<a;c++){var u=r?.[n[c]];void 0===u&&(u=t,c=a),r=$n(u)?u.call(r):u}return r}var d_=0;function UC(r){var n=++d_+"";return r?r+n:n}function wl(r){var n=Mt(r);return n._chain=!0,n}function $C(r,n,t,a,c){if(!(a instanceof n))return r.apply(t,c);var u=Xp(r.prototype),_=r.apply(u,c);return mo(_)?_:u}var Ml=oi(function(r,n){var t=Ml.placeholder,a=function(){for(var c=0,u=n.length,_=Array(u),S=0;S<u;S++)_[S]=n[S]===t?arguments[c++]:n[S];for(;c<arguments.length;)_.push(arguments[c++]);return $C(r,a,this,this,_)};return a});Ml.placeholder=Mt;const Qa=Ml,Yo=oi(function(r,n,t){if(!$n(r))throw new TypeError("Bind must be called on a function");var a=oi(function(c){return $C(r,a,n,this,t.concat(c))});return a}),hi=Hp(ri);function xo(r,n,t,a){if(a=a||[],n||0===n){if(n<=0)return a.concat(r)}else n=1/0;for(var c=a.length,u=0,_=ri(r);u<_;u++){var S=r[u];if(hi(S)&&(Co(S)||yo(S)))if(n>1)xo(S,n-1,t,a),c=a.length;else for(var F=0,j=S.length;F<j;)a[c++]=S[F++];else t||(a[c++]=S)}return a}const xu=oi(function(r,n){var t=(n=xo(n,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var a=n[t];r[a]=Yo(r[a],r)}return r});function GC(r,n){var t=function(a){var c=t.cache,u=""+(n?n.apply(this,arguments):a);return vo(c,u)||(c[u]=r.apply(this,arguments)),c[u]};return t.cache={},t}const qC=oi(function(r,n,t){return setTimeout(function(){return r.apply(null,t)},n)}),tw=Qa(qC,Mt,1);function nw(r,n,t){var a,c,u,_,S=0;t||(t={});var F=function(){S=!1===t.leading?0:Ja(),a=null,_=r.apply(c,u),a||(c=u=null)},j=function(){var ue=Ja();!S&&!1===t.leading&&(S=ue);var Me=n-(ue-S);return c=this,u=arguments,Me<=0||Me>n?(a&&(clearTimeout(a),a=null),S=ue,_=r.apply(c,u),a||(c=u=null)):!a&&!1!==t.trailing&&(a=setTimeout(F,Me)),_};return j.cancel=function(){clearTimeout(a),S=0,a=c=u=null},j}function KC(r,n,t){var a,c,u,_,S,F=function(){var ue=Ja()-c;n>ue?a=setTimeout(F,n-ue):(a=null,t||(_=r.apply(S,u)),a||(u=S=null))},j=oi(function(ue){return S=this,u=ue,c=Ja(),a||(a=setTimeout(F,n),t&&(_=r.apply(S,u))),_});return j.cancel=function(){clearTimeout(a),a=u=S=null},j}function u_(r,n){return Qa(n,r)}function h_(r){return function(){return!r.apply(this,arguments)}}function JC(){var r=arguments,n=r.length-1;return function(){for(var t=n,a=r[n].apply(this,arguments);t--;)a=r[t].call(this,a);return a}}function xs(r,n){return function(){if(--r<1)return n.apply(this,arguments)}}function p_(r,n){var t;return function(){return--r>0&&(t=n.apply(this,arguments)),r<=1&&(n=null),t}}const __=Qa(p_,2);function Ya(r,n,t){n=si(n,t);for(var c,a=wn(r),u=0,_=a.length;u<_;u++)if(n(r[c=a[u]],c,r))return c}function f_(r){return function(n,t,a){t=si(t,a);for(var c=ri(n),u=r>0?0:c-1;u>=0&&u<c;u+=r)if(t(n[u],u,n))return u;return-1}}const za=f_(1),g_=f_(-1);function Sl(r,n,t,a){for(var c=(t=si(t,a,1))(n),u=0,_=ri(r);u<_;){var S=Math.floor((u+_)/2);t(r[S])<c?u=S+1:_=S}return u}function m_(r,n,t){return function(a,c,u){var _=0,S=ri(a);if("number"==typeof u)r>0?_=u>=0?u:Math.max(u+S,_):S=u>=0?Math.min(u+1,S):u+S+1;else if(t&&u&&S)return a[u=t(a,c)]===c?u:-1;if(c!=c)return(u=n(hl.call(a,_,S),gl))>=0?u+_:-1;for(u=r>0?_:S-1;u>=0&&u<S;u+=r)if(a[u]===c)return u;return-1}}const wu=m_(1,za,Sl),QC=m_(-1,g_);function wo(r,n,t){var c=(hi(r)?za:Ya)(r,n,t);if(void 0!==c&&-1!==c)return r[c]}function Ol(r,n){return wo(r,bs(n))}function no(r,n,t){var a,c;if(n=Ka(n,t),hi(r))for(a=0,c=r.length;a<c;a++)n(r[a],a,r);else{var u=wn(r);for(a=0,c=u.length;a<c;a++)n(r[u[a]],u[a],r)}return r}function Mo(r,n,t){n=si(n,t);for(var a=!hi(r)&&wn(r),c=(a||r).length,u=Array(c),_=0;_<c;_++){var S=a?a[_]:_;u[_]=n(r[S],S,r)}return u}function Tl(r){var n=function(t,a,c,u){var _=!hi(t)&&wn(t),S=(_||t).length,F=r>0?0:S-1;for(u||(c=t[_?_[F]:F],F+=r);F>=0&&F<S;F+=r){var j=_?_[F]:F;c=a(c,t[j],j,t)}return c};return function(t,a,c,u){var _=arguments.length>=3;return n(t,Ka(a,u,4),c,_)}}const C_=Tl(1),Pl=Tl(-1);function zo(r,n,t){var a=[];return n=si(n,t),no(r,function(c,u,_){n(c,u,_)&&a.push(c)}),a}function iw(r,n,t){return zo(r,h_(si(n)),t)}function Vr(r,n,t){n=si(n,t);for(var a=!hi(r)&&wn(r),c=(a||r).length,u=0;u<c;u++){var _=a?a[u]:u;if(!n(r[_],_,r))return!1}return!0}function Mu(r,n,t){n=si(n,t);for(var a=!hi(r)&&wn(r),c=(a||r).length,u=0;u<c;u++){var _=a?a[u]:u;if(n(r[_],_,r))return!0}return!1}function So(r,n,t,a){return hi(r)||(r=Qo(r)),("number"!=typeof t||a)&&(t=0),wu(r,n,t)>=0}const v_=oi(function(r,n,t){var a,c;return $n(n)?c=n:(n=qa(n),a=n.slice(0,-1),n=n[n.length-1]),Mo(r,function(u){var _=c;if(!_){if(a&&a.length&&(u=t_(u,a)),null==u)return;_=u[n]}return null==_?_:_.apply(u,t)})});function Su(r,n){return Mo(r,bl(n))}function YC(r,n){return zo(r,bs(n))}function Hr(r,n,t){var u,_,a=-1/0,c=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof r[0]&&null!=r)for(var S=0,F=(r=hi(r)?r:Qo(r)).length;S<F;S++)null!=(u=r[S])&&u>a&&(a=u);else n=si(n,t),no(r,function(j,ue,Me){((_=n(j,ue,Me))>c||_===-1/0&&a===-1/0)&&(a=j,c=_)});return a}function ws(r,n,t){var u,_,a=1/0,c=1/0;if(null==n||"number"==typeof n&&"object"!=typeof r[0]&&null!=r)for(var S=0,F=(r=hi(r)?r:Qo(r)).length;S<F;S++)null!=(u=r[S])&&u<a&&(a=u);else n=si(n,t),no(r,function(j,ue,Me){((_=n(j,ue,Me))<c||_===1/0&&a===1/0)&&(a=j,c=_)});return a}var Ou=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ms(r){return r?Co(r)?hl.call(r):ru(r)?r.match(Ou):hi(r)?Mo(r,i_):Qo(r):[]}function Dl(r,n,t){if(null==n||t)return hi(r)||(r=Qo(r)),r[yu(r.length-1)];var a=Ms(r),c=ri(a);n=Math.max(Math.min(n,c),0);for(var u=c-1,_=0;_<n;_++){var S=yu(_,u),F=a[_];a[_]=a[S],a[S]=F}return a.slice(0,n)}function kl(r){return Dl(r,1/0)}function Wa(r,n,t){var a=0;return n=si(n,t),Su(Mo(r,function(c,u,_){return{value:c,index:a++,criteria:n(c,u,_)}}).sort(function(c,u){var _=c.criteria,S=u.criteria;if(_!==S){if(_>S||void 0===_)return 1;if(_<S||void 0===S)return-1}return c.index-u.index}),"value")}function Ss(r,n){return function(t,a,c){var u=n?[[],[]]:{};return a=si(a,c),no(t,function(_,S){var F=a(_,S,t);r(u,_,F)}),u}}const Tu=Ss(function(r,n,t){vo(r,t)?r[t].push(n):r[t]=[n]}),Pu=Ss(function(r,n,t){r[t]=n}),y_=Ss(function(r,n,t){vo(r,t)?r[t]++:r[t]=1}),Du=Ss(function(r,n,t){r[t?0:1].push(n)},!0);function zC(r){return null==r?0:hi(r)?r.length:wn(r).length}function WC(r,n,t){return n in t}const ku=oi(function(r,n){var t={},a=n[0];if(null==r)return t;$n(a)?(n.length>1&&(a=Ka(a,n[1])),n=Ga(r)):(a=WC,n=xo(n,!1,!1),r=Object(r));for(var c=0,u=n.length;c<u;c++){var _=n[c],S=r[_];a(S,_,r)&&(t[_]=S)}return t}),XC=oi(function(r,n){var a,t=n[0];return $n(t)?(t=h_(t),n.length>1&&(a=n[1])):(n=Mo(xo(n,!1,!1),String),t=function(c,u){return!So(n,u)}),ku(r,t,a)});function Eu(r,n,t){return hl.call(r,0,Math.max(0,r.length-(null==n||t?1:n)))}function El(r,n,t){return null==r||r.length<1?null==n||t?void 0:[]:null==n||t?r[0]:Eu(r,r.length-n)}function Il(r,n,t){return hl.call(r,null==n||t?1:n)}function ev(r,n,t){return null==r||r.length<1?null==n||t?void 0:[]:null==n||t?r[r.length-1]:Il(r,Math.max(0,r.length-n))}function pi(r){return zo(r,Boolean)}function b_(r,n){return xo(r,n,!1)}const x_=oi(function(r,n){return n=xo(n,!0,!0),zo(r,function(t){return!So(n,t)})}),ow=oi(function(r,n){return x_(r,n)});function Xa(r,n,t,a){Bp(n)||(a=t,t=n,n=!1),null!=t&&(t=si(t,a));for(var c=[],u=[],_=0,S=ri(r);_<S;_++){var F=r[_],j=t?t(F,_,r):F;n&&!t?((!_||u!==j)&&c.push(F),u=j):t?So(u,j)||(u.push(j),c.push(F)):So(c,F)||c.push(F)}return c}const w_=oi(function(r){return Xa(xo(r,!0,!0))});function tv(r){for(var n=[],t=arguments.length,a=0,c=ri(r);a<c;a++){var u=r[a];if(!So(n,u)){var _;for(_=1;_<t&&So(arguments[_],u);_++);_===t&&n.push(u)}}return n}function Iu(r){for(var n=r&&Hr(r,ri).length||0,t=Array(n),a=0;a<n;a++)t[a]=Su(r,a);return t}const nv=oi(Iu);function M_(r,n){for(var t={},a=0,c=ri(r);a<c;a++)n?t[r[a]]=n[a]:t[r[a][0]]=r[a][1];return t}function iv(r,n,t){null==n&&(n=r||0,r=0),t||(t=n<r?-1:1);for(var a=Math.max(Math.ceil((n-r)/t),0),c=Array(a),u=0;u<a;u++,r+=t)c[u]=r;return c}function ov(r,n){if(null==n||n<1)return[];for(var t=[],a=0,c=r.length;a<c;)t.push(hl.call(r,a,a+=n));return t}function ec(r,n){return r._chain?Mt(n).chain():n}function S_(r){return no(Br(r),function(n){var t=Mt[n]=r[n];Mt.prototype[n]=function(){var a=[this._wrapped];return nu.apply(a,arguments),ec(this,t.apply(Mt,a))}}),Mt}no(["pop","push","reverse","shift","sort","splice","unshift"],function(r){var n=tu[r];Mt.prototype[r]=function(){var t=this._wrapped;return null!=t&&(n.apply(t,arguments),("shift"===r||"splice"===r)&&0===t.length&&delete t[0]),ec(this,t)}}),no(["concat","join","slice"],function(r){var n=tu[r];Mt.prototype[r]=function(){var t=this._wrapped;return null!=t&&(t=n.apply(t,arguments)),ec(this,t)}});const rv=Mt;var O_=S_(C);O_._=O_;class Os{constructor(n){this.http=n}getAllForUser(){return this.http.get("/ws/favorite/pages")}unfavoritePageFromAllCategories(n){return this.http.delete(`/ws/favorite/pages/${n}`)}addPageTofavorites(n){return this.http.post("/ws/favorite/pages/page",n)}saveAllFavorites(n){return this.http.post("/ws/favorite/pages/all",n)}}Os.\u0275fac=function(n){return new(n||Os)(e.LFG(W.eN))},Os.\u0275prov=e.Yz7({token:Os,factory:Os.\u0275fac,providedIn:"root"});class rn{constructor(n){this.http=n,this.favs=null,this.hubData=new We.xQ,this.hubDataObservable=this.hubData.asObservable()}getFavsForUser(){return null==this.favs&&(this.favs=new Promise((n,t)=>{this.http.getAllForUser().subscribe({next:a=>{n(this.sortData(a))},error:a=>t(a)})})),this.favs}hasAnyFavoritedPage(n){return n.some(t=>t.favoritePages.length>0)}removeFavoritePage(n){return new Promise((t,a)=>{this.http.unfavoritePageFromAllCategories(n).subscribe({next:c=>{this.updateCache(c),t()},error:c=>a(c)})})}saveFavoritePage(n){return new Promise((t,a)=>{this.http.addPageTofavorites(n).subscribe({next:c=>{this.updateCache(c),t()},error:c=>a(c)})})}saveAllFavorites(n){return new Promise((t,a)=>{this.http.saveAllFavorites(n).subscribe({next:c=>{this.updateCache(c),t()},error:c=>a(c)})})}updateCache(n){const t=this.sortData(n);this.favs=Promise.resolve(t),this.notifyHubDataChanged(t)}notifyHubDataChanged(n){this.hubData.next(n)}sortData(n){const t=wl(n).sortBy("name").sortBy("sortOrder").value();return t.forEach(a=>{a.favoritePages=wl(a.favoritePages).sortBy("pageTitle").sortBy("sortOrder").value()}),t}}rn.\u0275fac=function(n){return new(n||rn)(e.LFG(Os))},rn.\u0275prov=e.Yz7({token:rn,factory:rn.\u0275fac,providedIn:"root"});const Wo="btnOpenFavorites";class tc{constructor(n,t){this.dialogController=n,this.hub=t,this.subscriptions=[],this.hasFavoritedPage=!1,this.isDisabled=!1,this.openFavoritesButtonId=Wo}ngOnInit(){this.hub.getFavsForUser().then(n=>{this.hasFavoritedPage=this.hub.hasAnyFavoritedPage(n)}),this.subscriptions.push(this.dialogController.manageFavoritesObservable.subscribe(n=>{this.isDisabled=n})),this.subscriptions.push(this.hub.hubDataObservable.subscribe(n=>{this.hasFavoritedPage=this.hub.hasAnyFavoritedPage(n)}))}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}openFavorites(){this.isDisabled||(this.hasFavoritedPage?this.dialogController.setFavoritesMenuShowing(!0):this.dialogController.setEmptyFavoriteDialogShowing(!0))}}tc.\u0275fac=function(n){return new(n||tc)(e.Y36(ui),e.Y36(rn))},tc.\u0275cmp=e.Xpm({type:tc,selectors:[["pss-open-favorites"]],decls:8,vars:9,consts:[[1,"pds-app-action"],["href","javascript:;",3,"id","title","click"],["name","star"],[1,"screen_readers_only"]],template:function(n,t){1&n&&(e.TgZ(0,"li",0)(1,"a",1),e.NdJ("click",function(){return t.openFavorites()}),e.ALo(2,"translate"),e._UZ(3,"pds-icon",2),e.TgZ(4,"div",3)(5,"span",3),e._uU(6),e.ALo(7,"translate"),e.qZA()()()()),2&n&&(e.xp6(1),e.ekj("disabled",t.isDisabled),e.s9C("title",e.lcZ(2,5,"psx.js.jswidgets.favorites.open_favorites.favorites")),e.Q6J("id",t.openFavoritesButtonId),e.xp6(5),e.Oqu(e.lcZ(7,7,"psx.js.jswidgets.favorites.open_favorites.open_favorites")))},dependencies:[Bt.X$]});var Fl=k(382);class Oo{constructor(n,t){this.elementRef=n,this.renderer=t,this.isInsidePdsDialog=null,this.domElement=this.elementRef.nativeElement;const a={"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"};Object.keys(a).forEach(c=>{this.renderer.setStyle(this.domElement,`${c}`,a[c])})}ngAfterViewInit(){this.renderer.setProperty(this.domElement,"scrollTop",1),this.setToolTip()}setToolTip(){"noTooltip"!==this.pssEllipsify&&(this.getIsInsidePdsDialog()&&0===this.domElement.offsetWidth?setTimeout(()=>this.setToolTip()):this.setTitle())}setTitle(){this.domElement.offsetWidth<this.domElement.scrollWidth?this.renderer.setAttribute(this.domElement,"title",this.domElement.textContent):this.renderer.removeAttribute(this.domElement,"title")}getIsInsidePdsDialog(){return null==this.isInsidePdsDialog&&(this.isInsidePdsDialog=null!=this.domElement.closest("pds-dialog")),this.isInsidePdsDialog}}function sv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.addFavorite())}),e.ALo(1,"translate"),e._UZ(2,"pds-icon",3),e.TgZ(3,"div",4)(4,"span",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}if(2&r){const t=e.oxw(2);e.s9C("title",e.lcZ(1,3,"psx.js.jswidgets.favorites.add_favorite_button.add_to_favorites")),e.Q6J("id",t.addRemoveFavoriteButtonId),e.xp6(5),e.Oqu(e.lcZ(6,5,"psx.js.jswidgets.favorites.add_favorite_button.add_to_favorites"))}}function av(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.unFavorite())}),e.ALo(1,"translate"),e._UZ(2,"pds-icon",5),e.TgZ(3,"div",4)(4,"span",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}if(2&r){const t=e.oxw(2);e.s9C("title",e.lcZ(1,3,"psx.js.jswidgets.favorites.add_favorite_button.remove_from_favorites")),e.Q6J("id",t.addRemoveFavoriteButtonId),e.xp6(5),e.Oqu(e.lcZ(6,5,"psx.js.jswidgets.favorites.add_favorite_button.remove_from_favorites"))}}function cv(r,n){if(1&r&&(e.ynx(0),e.YNc(1,sv,7,7,"a",1),e.YNc(2,av,7,7,"a",1),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isFavorited),e.xp6(1),e.Q6J("ngIf",t.isFavorited)}}Oo.\u0275fac=function(n){return new(n||Oo)(e.Y36(e.SBq),e.Y36(e.Qsj))},Oo.\u0275dir=e.lG2({type:Oo,selectors:[["","pssEllipsify",""]],hostBindings:function(n,t){1&n&&e.NdJ("resize",function(c){return t.setToolTip(c.target)},!1,e.Jf7)},inputs:{pssEllipsify:"pssEllipsify"}});const nc="btnAddRemoveFavorite";class ic{constructor(n,t,a,c,u){this.favBtn=n,this.dialogController=t,this.hub=a,this.pdsToolkit=c,this.translateUtil=u,this.isFavorited=!1,this.isH1Found=!1,this.addRemoveFavoriteButtonId=nc,this.subscriptions=[]}ngOnInit(){this.pdsToolkit.getPDSToolkitWhenReady.subscribe(n=>{this.messagingService=n.serviceInstances.getMessageService()}),this.dialogController.addFavoriteDialogConfirmObservable.subscribe(()=>{this.isFavorited=!0}),debugConsole.log("page id",this.pageCatalogId),this.moveAddFavoritesComponent()}moveAddFavoritesComponent(){const n=document.querySelector("#content-main h1, [pss-steps-wizard] h1"),t=this.favBtn.nativeElement;n&&-1!==this.pageCatalogId?(this.subscriptions.push(this.hub.hubDataObservable.subscribe(()=>{this.getIsInFavorites(this.pageCatalogId).then(a=>{this.isFavorited=a})})),this.getIsInFavorites(this.pageCatalogId).then(a=>{n.classList.add("favorites-feature"),n.after(t),setTimeout(()=>{n.nextElementSibling.matches("pss-add-favorite")||n.after(t)}),this.isFavorited=a,this.isH1Found=!0})):document.querySelector("[pss-steps-wizard]")?setTimeout(()=>{this.moveAddFavoritesComponent()}):(n||debugConsole.log("h1 was not found"),-1===this.pageCatalogId&&debugConsole.log("page is not cataloged"))}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}addFavorite(){this.dialogController.setAddFavoriteDialogShowing(!0)}unFavorite(){var n=this;return(0,Di.Z)(function*(){if(n.isFavorited)try{yield n.hub.removeFavoritePage(n.pageCatalogId),n.isFavorited=!1}catch{n.displayErrorMessage()}})()}getIsInFavorites(n){var t=this;return(0,Di.Z)(function*(){const a=yield t.hub.getFavsForUser();return Boolean(wo(a,u=>Boolean(wo(u.favoritePages,_=>null!=_.pageCatalog&&_.pageCatalog.pageCatalogId===n))))})()}displayErrorMessage(){this.messagingService.displayMessage("ERROR","FLOATING",this.translateUtil.translate("psx.js.jswidgets.favorites.add_favorite_button.an_error_occurred_please_try_again"))}}ic.\u0275fac=function(n){return new(n||ic)(e.Y36(e.SBq),e.Y36(ui),e.Y36(rn),e.Y36(Fl.B),e.Y36(Kt.h))},ic.\u0275cmp=e.Xpm({type:ic,selectors:[["pss-add-favorite"]],inputs:{pageCatalogId:"pageCatalogId"},decls:1,vars:1,consts:[[4,"ngIf"],["href","javascript:;",3,"id","title","click",4,"ngIf"],["href","javascript:;",3,"id","title","click"],["name","star-plus","pds-widget","pds-widget",1,"style-scope","x-scope","pds-icon-0","pds-widget"],[1,"screen_readers_only"],["name","star","pds-widget","pds-widget",1,"style-scope","x-scope","pds-icon-0","pds-widget","favorited"]],template:function(n,t){1&n&&e.YNc(0,cv,3,2,"ng-container",0),2&n&&e.Q6J("ngIf",t.isH1Found&&t.pageCatalogId>0)},dependencies:[H.O5,Bt.X$],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);inset-inline-start:7px}[_nghost-%COMP%]   pds-icon.favorited[_ngcontent-%COMP%]{fill:#0075db}"]});const lv=function(r){return{0:r}};function Al(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw();return e.KtG(u.unselectCategory(c))}),e.ALo(1,"translate"),e.TgZ(2,"span",3),e._uU(3),e.qZA(),e._UZ(4,"pds-icon",4),e.qZA()}if(2&r){const t=e.oxw().$implicit,a=e.oxw();e.MGl("id","remove-selection-option-",t.id,""),e.Q6J("title",e.xi3(1,4,"psx.js.jswidgets.favorites.add_favorite_dialog.remove_selection_option__",e.VKq(7,lv,a.getText(t)))),e.xp6(2),e.MGl("id","option-text-",t.id,""),e.xp6(1),e.Oqu(a.getText(t))}}function Fu(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Al,5,9,"button",1),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.isSelected)}}class Xo{constructor(){this.useAltText=!1}unselectCategory(n){n.isSelected=!1,this.multiSelect.selectionChange.next(n)}getText(n){return this.useAltText&&null!=n.altText?n.altText:n.text}}Xo.\u0275fac=function(n){return new(n||Xo)},Xo.\u0275cmp=e.Xpm({type:Xo,selectors:[["pss-pds-select-bubbles"]],inputs:{multiSelect:"multiSelect",useAltText:"useAltText"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","pds-selection-status-item","aria-expanded","false",3,"id","title","click",4,"ngIf"],["aria-expanded","false",1,"pds-selection-status-item",3,"id","title","click"],[1,"pds-selection-status-primary",3,"id"],["name","close-s","pds-widget","pds-widget",1,"x-scope","pds-icon-0","pds-widget"]],template:function(n,t){1&n&&e.YNc(0,Fu,2,1,"ng-container",0),2&n&&e.Q6J("ngForOf",t.multiSelect.multiSelectData)},dependencies:[H.sg,H.O5,Bt.X$],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap}[_nghost-%COMP%] > button.pds-selection-status-item[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%] > button.pds-selection-status-item[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{flex-grow:0}"]});class Nl{constructor(n){this.pdsMultiSelector=n}ngOnInit(){const n=this.pdsMultiSelector.nativeElement.getPopoverTriggerSelector();document.querySelector("#"+this.pdsMultiSelector.nativeElement.id+" "+n).addEventListener("click",a=>{setTimeout(()=>this.pdsMultiSelector.nativeElement.forceUpdateCheckBoxStates())})}}Nl.\u0275fac=function(n){return new(n||Nl)(e.Y36(e.SBq))},Nl.\u0275dir=e.lG2({type:Nl,selectors:[["","pssMultiselectBubbleFix",""]]});class er{constructor(n){this.element=n}ngOnInit(){const n=document.querySelector(this.element.nativeElement.tagName+" .pds-overlay.pds-dialog");n.replaceWith(n.cloneNode())}}function sw(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",1),e.NdJ("pdsRemoveDialog",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.close())}),e.TgZ(1,"pds-dialog",2)(2,"h4"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"section")(6,"form",3)(7,"button",4),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.showNewCategoryScreen())}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"pds-multi-select-widget",5),e.ALo(11,"translate"),e._UZ(12,"pss-pds-select-bubbles",6),e.qZA(),e.TgZ(13,"div",7)(14,"pds-text-widget",8),e.NdJ("modelValueChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.newCategory=c.target.modelValue)}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",9),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.cancelNewCategory())}),e.ALo(17,"translate"),e._UZ(18,"pds-icon",10),e.qZA(),e.TgZ(19,"button",11),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.confirmNewCategory())}),e.ALo(20,"translate"),e._UZ(21,"pds-icon",12),e.qZA()()(),e.TgZ(22,"footer")(23,"div",13)(24,"button",14),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.close())}),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"button",15),e.NdJ("keyup.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addPage())})("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addPage())}),e._uU(28),e.ALo(29,"translate"),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("returnFocusCallback",t.handleReturnFocus),e.xp6(2),e.Oqu(e.lcZ(4,19,"psx.js.jswidgets.favorites.add_favorite_dialog.add_current_page_to_favorites")),e.xp6(3),e.ekj("hide",t.isNewCategoryMode),e.xp6(2),e.Oqu(e.lcZ(9,21,"psx.js.jswidgets.favorites.add_favorite_dialog.add_new_category")),e.xp6(2),e.Q6J("multiSelect",t.multiSelect),e.uIk("data-label-text",e.lcZ(11,23,"psx.js.jswidgets.favorites.add_favorite_dialog.add_page_to_one_or_more_categories")),e.xp6(2),e.Q6J("multiSelect",t.multiSelect)("useAltText",!0),e.xp6(1),e.ekj("hide",!t.isNewCategoryMode),e.xp6(1),e.Q6J("modelValue",t.newCategory),e.uIk("data-label-text",e.lcZ(15,25,"psx.js.jswidgets.favorites.add_favorite_dialog.new_category")),e.xp6(2),e.Q6J("title",e.lcZ(17,27,"psx.js.jswidgets.favorites.add_favorite_dialog.cancel_new_category")),e.xp6(3),e.Q6J("disabled",!t.newCategory||!t.newCategory.trim())("title",e.lcZ(20,29,"psx.js.jswidgets.favorites.add_favorite_dialog.confirm_new_category")),e.xp6(6),e.Oqu(e.lcZ(26,31,"psx.js.jswidgets.favorites.add_favorite_dialog.cancel")),e.xp6(2),e.Q6J("disabled",t.isNewCategoryMode),e.xp6(1),e.Oqu(e.lcZ(29,33,"psx.js.jswidgets.favorites.add_favorite_dialog.add_page"))}}er.\u0275fac=function(n){return new(n||er)(e.Y36(e.SBq))},er.\u0275dir=e.lG2({type:er,selectors:[["","pssRemoveGlassClick",""]]});class Ts{constructor(n,t,a,c,u){this.favAddDialog=n,this.dialogController=t,this.pdsToolkit=a,this.hub=c,this.translateUtil=u,this.isOpen=!1,this.source="",this.subscriptions=[],this.isNewCategoryMode=!1,this.favs=[],this.openFavoritesButtonId=Wo,this.addRemoveFavoriteButtonId=nc,this.handleReturnFocus=()=>{let _;return _="menu"===this.source?document.querySelector(`#${Wo}`):document.querySelector(`#${nc}`),_}}get open(){return this.isOpen}set open(n){var t=this;n?(this.isNewCategoryMode=!1,this.pdsToolkit.getPDSToolkitWhenReady.subscribe(function(){var a=(0,Di.Z)(function*(c){try{yield t.initMultiselect(c),t.isOpen=!0}catch{t.displayErrorMessage()}});return function(c){return a.apply(this,arguments)}}())):this.isOpen=!1}ngOnInit(){this.subscriptions.push(this.dialogController.addFavoriteDialogObservable.subscribe(n=>{this.open=n.isShowing,this.source=n.source})),this.pdsToolkit.getPDSToolkitWhenReady.subscribe(n=>{this.pds=n,this.messagingService=n.serviceInstances.getMessageService()}),document.querySelector("[pss-steps-wizard]")&&this.moveAddFavoritesDialogComponent()}moveAddFavoritesDialogComponent(){const n=document.querySelector("[pss-steps-wizard] h1");n&&-1!==this.pageCatalogId?n.after(this.favAddDialog.nativeElement):setTimeout(()=>{this.moveAddFavoritesDialogComponent()})}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}showNewCategoryScreen(){this.newCategory=null,this.isNewCategoryMode=!0,setTimeout(()=>document.querySelector("#new-category-input").focus())}confirmNewCategory(){if(!this.newCategory||!this.newCategory.trim())return;const n={id:"new-category-"+this.newCategory.trim(),mapId:0,text:this.newCategory.trim(),sortOrder:this.favs.length+1e3,isSelected:!0,nextPageSortOrder:1};this.favs.push(n),this.setMultiSelect(this.pds,[]),setTimeout(()=>this.setMultiSelect(this.pds)),this.isNewCategoryMode=!1,setTimeout(()=>document.querySelector("#newCategoryBtn").focus())}cancelNewCategory(){this.isNewCategoryMode=!1,setTimeout(()=>document.querySelector("#newCategoryBtn").focus())}initMultiselect(n){var t=this;return(0,Di.Z)(function*(){const a=yield t.hub.getFavsForUser();t.maxCategorySortOrder=a.length?Hr(a,"sortOrder").sortOrder:1;const c=t.default_category?t.default_category:t.getHighlightedCategory();t.favs=a.map(_=>({id:"category-"+_.id,mapId:_.id,text:_.name,sortOrder:_.sortOrder,isSelected:!1,nextPageSortOrder:_.favoritePages.length?Hr(_.favoritePages,"sortOrder").sortOrder+1:1}));const u=wo(t.favs,_=>_.text===c);u?(u.sortOrder*=-1,u.altText=u.text,u.text=t.translateUtil.translate("psx.js.jswidgets.favorites.add_favorite_dialog.__default",[u.text])):t.favs.push({id:"category-0",mapId:0,text:t.translateUtil.translate("psx.js.jswidgets.favorites.add_favorite_dialog.__default",[c]),altText:c,sortOrder:-1e3,isSelected:!1,nextPageSortOrder:1}),t.setMultiSelect(n)})()}setMultiSelect(n,t){this.multiSelect=new n.models.MultiSelect(Wa(t||this.favs,"sortOrder"))}getHighlightedCategory(){var t;return(t=null!=document.querySelector(".details_view")?document.querySelector(".pds-vertical-tabs details summary.pds-is-active span"):document.querySelector("pds-app-nav li.pds-primary-nav-link>a.pds-is-active>span.pds-app-nav"))&&t.textContent?t.textContent:"unknown"}addPage(){var n=this;return(0,Di.Z)(function*(){if(n.pds.validation.validateElements(document.querySelector("#addFavoriteForm"))){let a=n.maxCategorySortOrder;const c=zo(n.multiSelect.multiSelectData,"isSelected");wl(c).forEach(S=>S.transientSortOrder=S.sortOrder<0?-1*S.sortOrder:S.sortOrder).filter(S=>S.transientSortOrder>=1e3).sortBy("transientSortOrder").forEach(S=>S.transientSortOrder=++a);const u=c.map(S=>({categoryId:S.mapId,pageSortOrder:S.nextPageSortOrder,name:S.altText?S.altText:S.text,categorySortOrder:S.transientSortOrder})),_={pageCatalogId:n.pageCatalogId,categories:u};try{yield n.hub.saveFavoritePage(_),n.dialogController.notifyFavoriteConfirmed();let S=n.translateUtil.translate("psx.js.jswidgets.favorites.add_favorite_dialog.page_successfully_added_to_your_favorites_menu");n.messagingService.displayMessage("SUCCESS","FLOATING",S),n.close()}catch{n.displayErrorMessage()}}})()}close(){this.dialogController.setAddFavoriteDialogShowing(!1,this.source)}displayErrorMessage(){this.messagingService.displayMessage("ERROR","FLOATING",this.translateUtil.translate("psx.js.jswidgets.favorites.add_favorite_dialog.an_error_occurred_please_try_again"))}}function T_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(2);return e.KtG(_.handleClickOnLink(c,u))}),e.TgZ(2,"span",24),e._uU(3),e.qZA()()()}if(2&r){const t=e.oxw(),a=t.index,c=t.$implicit,u=e.oxw().index;e.xp6(1),e.s9C("id","lnkFavoritedPage_"+u+"_"+a),e.uIk("aria-label",c.pageTitle),e.xp6(2),e.Oqu(c.pageTitle)}}function P_(r,n){if(1&r&&(e.TgZ(0,"div",22)(1,"button",25)(2,"span",26),e._uU(3),e.qZA()()()),2&r){const t=e.oxw(),a=t.index,c=t.$implicit,u=e.oxw().index,_=e.oxw();e.xp6(1),e.s9C("id","lnkFavoritedPage_"+u+"_"+a),e.Q6J("title",_.getDisabledLinkTitle(c)),e.uIk("aria-label",_.getDisabledLinkTitle(c)+": "+c.pageTitle),e.xp6(2),e.Oqu(c.pageTitle)}}function Nu(r,n){if(1&r&&(e.ynx(0),e.YNc(1,T_,4,3,"div",21),e.YNc(2,P_,4,4,"div",21),e.BQk()),2&r){const t=n.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",a.isClickable(t)),e.xp6(1),e.Q6J("ngIf",!a.isClickable(t))}}Ts.\u0275fac=function(n){return new(n||Ts)(e.Y36(e.SBq),e.Y36(ui),e.Y36(Fl.B),e.Y36(rn),e.Y36(Kt.h))},Ts.\u0275cmp=e.Xpm({type:Ts,selectors:[["pss-add-favorite-dialog"]],inputs:{pageCatalogId:"pageCatalogId",default_category:"default_category"},decls:1,vars:1,consts:[["class","pds-container",3,"pdsRemoveDialog",4,"ngIf"],[1,"pds-container",3,"pdsRemoveDialog"],["pssRemoveGlassClick","",3,"returnFocusCallback"],["id","addFavoriteForm"],["id","newCategoryBtn","type","button",3,"click"],["id","link-items","data-isrequired","true","pssMultiselectBubbleFix","",1,"pds-width-100",3,"multiSelect"],[3,"multiSelect","useAltText"],[1,"new-category-screen"],["name","new-category",1,"pds-width-100",3,"modelValue","modelValueChange"],["id","cancelNewCategoryBtn","type","button",1,"pds-button-blend","pds-button-round","fav-button",3,"title","click"],["name","x-alt"],["id","confirmNewCategoryBtn","type","button",1,"pds-button-blend","pds-button-round","fav-button",3,"disabled","title","click"],["name","checkmark-alt"],[1,"pds-modal-actions"],["id","add-fav-dialog-cancel","type","button",3,"click"],["id","add-fav-dialog-save","type","button",1,"pds-primary",3,"disabled","keyup.enter","click"]],template:function(n,t){1&n&&e.YNc(0,sw,30,35,"div",0),2&n&&e.Q6J("ngIf",t.open)},dependencies:[H.O5,Qe._Y,Qe.JL,Qe.F,Xo,Nl,er,Bt.X$],styles:["pds-icon[_ngcontent-%COMP%]{width:26px;height:26px}button.fav-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}button.fav-button[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#00427c;color:#00427c}button.fav-button[_ngcontent-%COMP%]:active   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#0075db;color:#0075db}button.fav-button[_ngcontent-%COMP%]:disabled   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}","#newCategoryBtn[_ngcontent-%COMP%]{display:block;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:15px;margin-inline-end:15px}pss-pds-select-bubbles[_ngcontent-%COMP%]{margin:0 15px}.new-category-screen[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:flex-end;gap:5px;-webkit-margin-start:15px;margin-inline-start:15px;-webkit-margin-end:15px;margin-inline-end:15px}.new-category-screen[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex:1 1 auto}"]});const To=function(r){return{arg0:r}};function Ll(r,n){if(1&r&&(e.TgZ(0,"div",17),e.ALo(1,"translate"),e.TgZ(2,"div",18)(3,"span",19),e._uU(4),e.qZA()(),e.YNc(5,Nu,3,2,"ng-container",20),e.qZA()),2&r){const t=n.$implicit,a=n.index,c=n.first;e.uIk("aria-label",e.xi3(1,6,"psx.js.jswidgets.favorites.favorites_menu.__category",e.VKq(9,To,t.name))),e.xp6(2),e.ekj("fav-category-first",c),e.xp6(1),e.s9C("id","favoriteCategory_"+a),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngForOf",t.favoritePages)}}const oc="manageFavoritesBtn";class Po{constructor(n,t,a,c){this.dialogController=n,this.hub=t,this.pdsToolkit=a,this.translateUtil=c,this.isAnchored=!1,this.manageFavoritesButtonId=oc,this.isCurrentPageFavorited=!1,this.isFavoriteCurrentPageDisabled=!1,this.subscriptions=[],this.favoriteCurrentPageButtonId="addFavoriteBtn",this.pinDialogButtonId="pinDialogBtn",this.hasPageTitle=!1,this.isOpen=!1,this.pdsToolkit.getPDSToolkitWhenReady.subscribe(u=>{this.messagingService=u.serviceInstances.getMessageService()})}get open(){return this.isOpen}set open(n){n?this.hub.getFavsForUser().then(t=>{this.processFavoritesData(t),this.isOpen=!0,this.isAnchored||setTimeout(()=>{document.getElementById(`${this.pinDialogButtonId}`).focus()})},t=>{throw this.isOpen=!1,this.displayErrorMessage(),t}):this.isOpen=!1}ngOnInit(){this.subscriptions.push(this.dialogController.favoritesMenuObservable.subscribe(t=>this.open=t)),this.subscriptions.push(this.hub.hubDataObservable.subscribe(t=>{this.processFavoritesData(t),this.hub.hasAnyFavoritedPage(t)||this.close()}));const n=document.querySelector("#content-main h1");this.hasPageTitle=!!(n&&n.innerText.length>0),this.unavailable_district_page_text=this.translateUtil.translate("psx.js.jswidgets.favorites.favorites_menu.unavailable_district_page"),this.unavailable_school_page_text=this.translateUtil.translate("psx.js.jswidgets.favorites.favorites_menu.unavailable_school_page"),this.unavailable_inactive_page_text=this.translateUtil.translate("psx.js.jswidgets.favorites.favorites_menu.unavailable_inactive_page")}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}getDisabledLinkTitle(n){let t=this.unavailable_inactive_page_text;return this.isDistrict?null!=n.pageCatalog&&1==n.pageCatalog.districtLevelContext&&(t=this.unavailable_school_page_text):null!=n.pageCatalog&&2==n.pageCatalog.districtLevelContext&&(t=this.unavailable_district_page_text),t}handleClickOnLink(n,t){let a=t.pageCatalog;if(null!=appNavController&&a.requiredContext){let c={context:a.context,name:a.name,requiredContext:a.requiredContext,url:a.url};"student"==a.requiredContext&&"student"==a.context?(appNavController.clickOnStudentLink(c,n),this.isAnchored||this.dialogController.setFavoritesMenuShowing(!1)):"staff"==a.requiredContext&&"staff"==a.context?(appNavController.clickOnStaffLink(c,n),this.isAnchored||this.dialogController.setFavoritesMenuShowing(!1)):"student"==a.requiredContext&&"main"==a.context?(appNavController.clickOnStudentGroupFunctionLink(c,n),this.isAnchored||this.dialogController.setFavoritesMenuShowing(!1)):"staff"==a.requiredContext&&"main"==a.context?(appNavController.clickOnStaffGroupFunctionLink(c,n),this.isAnchored||this.dialogController.setFavoritesMenuShowing(!1)):"contact"==a.requiredContext&&(appNavController.clickOnContactGroupFunctionLink(c,n),this.isAnchored||this.dialogController.setFavoritesMenuShowing(!1))}else a.isNewTab?window.open(a.url,"_blank"):window.location.href=a.url}handleEscKey(n){this.isAnchored||(n.preventDefault(),this.close())}handleShiftTabKey(n){this.isAnchored||(n.preventDefault(),document.getElementById(""+(this.isFavoriteCurrentPageDisabled?`${this.manageFavoritesButtonId}`:`${this.favoriteCurrentPageButtonId}`)).focus())}handleTabKey(n){if(!this.isAnchored){n.preventDefault();let t=n.currentTarget.id;t===this.favoriteCurrentPageButtonId?document.getElementById(`${this.pinDialogButtonId}`).focus():t===this.manageFavoritesButtonId&&document.getElementById(""+(this.isFavoriteCurrentPageDisabled?`${this.pinDialogButtonId}`:`${this.favoriteCurrentPageButtonId}`)).focus()}}isClickable(n){let t=!0;return this.isDistrict?(null==n.pageCatalog||1==n.pageCatalog.districtLevelContext)&&(t=!1):(null==n.pageCatalog||2==n.pageCatalog.districtLevelContext)&&(t=!1),t}showAddFavoriteDialog(){this.dialogController.setAddFavoriteDialogShowing(!0,"menu"),this.isAnchored||this.dialogController.setFavoritesMenuShowing(!1)}showManageFavorites(){this.dialogController.setManageFavoritesShowing(!0)}togglePinUnpin(){this.togglePinDrawer(),setTimeout(()=>{this.ellipsifyTexts.forEach(n=>{n.setToolTip()})})}displayErrorMessage(){this.messagingService.displayMessage("ERROR","FLOATING",this.translateUtil.translate("psx.js.jswidgets.favorites.favorites_menu.an_error_occurred_please_try_again"))}processFavoritesData(n){this.favoriteCategories=n.filter(t=>t.favoritePages.length>0),this.isCurrentPageFavorited=Boolean(wo(n,t=>Boolean(wo(t.favoritePages,a=>null!=a.pageCatalog&&a.pageCatalog.pageCatalogId===this.currentPageCatalogId)))),this.isFavoriteCurrentPageDisabled=!this.hasPageTitle||this.isCurrentPageFavorited||!this.currentPageCatalogId||-1===this.currentPageCatalogId}}Po.\u0275fac=function(n){return new(n||Po)(e.Y36(ui),e.Y36(rn),e.Y36(Fl.B),e.Y36(Kt.h))},Po.\u0275cmp=e.Xpm({type:Po,selectors:[["pss-favorites-menu"]],viewQuery:function(n,t){if(1&n&&e.Gf(Oo,5),2&n){let a;e.iGM(a=e.CRH())&&(t.ellipsifyTexts=a)}},inputs:{currentPageCatalogId:"currentPageCatalogId",isDistrict:"isDistrict",isAnchored:"isAnchored",close:"close",togglePinDrawer:"togglePinDrawer"},decls:33,vars:31,consts:[["id","dialog","role","dialog","aria-modal","true","aria-labelledby","favorites-menu-title",1,"pds-modal","pds-is-open","pds-dialog","pds-drawer-mode","favorite-menu-dialog",3,"keydown.esc"],[1,"pds-modal-header","pds-dialog","favorites-modal-header"],["role","presentation"],["id","favorites-menu-title",1,"pds-modal-title","pds-dialog"],["type","button","role","button",1,"pds-button-blend","pds-button-round",3,"id","title","click","keydown.shift.tab"],["name","pushpin"],["type","button","id","closeDialogBtn","role","button",1,"pds-button-blend","pds-button-round",3,"title","click"],["name","x"],["role","main",1,"pds-modal-body"],["role","list",1,"fav-page-container"],["role","group",4,"ngFor","ngForOf"],[1,"favorites-modal-footer"],[1,"pds-pop-over"],["type","button","role","button",1,"pds-button-blend","pds-pop-over","fav-button",3,"id","keydown.Tab","click"],["name","gear",1,"pds-pop-over"],["type","button","role","button",1,"pds-button-blend","pds-pop-over","fav-button",3,"id","disabled","keydown.Tab","click"],["name","star-plus",1,"pds-pop-over"],["role","group"],[1,"fav-category","fav-line-item"],["aria-hidden","true","pssEllipsify","",1,"fav-text",3,"id"],[4,"ngFor","ngForOf"],["role","listitem","class","pds-pop-over fav-page fav-line-item",4,"ngIf"],["role","listitem",1,"pds-pop-over","fav-page","fav-line-item"],["type","button","role","button",1,"pds-button-blend","pds-pop-over",3,"id","click"],["pssEllipsify","",1,"pds-pop-over"],["type","button","role","button","disabled","",1,"pds-button-blend","pds-pop-over",3,"id","title"],["pssEllipsify","noTooltip",1,"pds-pop-over"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("keydown.esc",function(c){return t.handleEscKey(c)}),e.TgZ(1,"header",1)(2,"ul",2)(3,"li")(4,"h4",3),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"li")(8,"button",4),e.NdJ("click",function(){return t.togglePinUnpin()})("keydown.shift.tab",function(c){return t.handleShiftTabKey(c)}),e.ALo(9,"translate"),e._UZ(10,"pds-icon",5),e.qZA()(),e.TgZ(11,"li")(12,"button",6),e.NdJ("click",function(){return t.close()}),e.ALo(13,"translate"),e._UZ(14,"pds-icon",7),e.qZA()()()(),e.TgZ(15,"section",8)(16,"div",9),e.ALo(17,"translate"),e.YNc(18,Ll,6,11,"div",10),e.qZA()(),e.TgZ(19,"footer",11)(20,"div",12)(21,"button",13),e.NdJ("keydown.Tab",function(c){return t.handleTabKey(c)})("click",function(){return t.showManageFavorites()}),e.ALo(22,"translate"),e._UZ(23,"pds-icon",14),e.TgZ(24,"span",12),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"button",15),e.NdJ("keydown.Tab",function(c){return t.handleTabKey(c)})("click",function(){return t.showAddFavoriteDialog()}),e.ALo(28,"translate"),e._UZ(29,"pds-icon",16),e.TgZ(30,"span",12),e._uU(31),e.ALo(32,"translate"),e.qZA()()()()()),2&n&&(e.ekj("anchored",t.isAnchored),e.xp6(5),e.Oqu(e.lcZ(6,15,"psx.js.jswidgets.favorites.favorites_menu.favorites")),e.xp6(3),e.Q6J("id",t.pinDialogButtonId)("title",e.lcZ(9,17,t.isAnchored?"psx.js.jswidgets.favorites.favorites_menu.unpin":"psx.js.jswidgets.favorites.favorites_menu.pin_open")),e.xp6(4),e.Q6J("title",e.lcZ(13,19,"psx.js.jswidgets.favorites.favorites_menu.close_favorites")),e.xp6(4),e.uIk("aria-label",e.lcZ(17,21,"psx.js.jswidgets.favorites.favorites_menu.favorites")),e.xp6(2),e.Q6J("ngForOf",t.favoriteCategories),e.xp6(3),e.Q6J("id",t.manageFavoritesButtonId),e.uIk("aria-label",e.lcZ(22,23,"psx.js.jswidgets.favorites.favorites_menu.manage_favorites_ellipsis")),e.xp6(4),e.Oqu(e.lcZ(26,25,"psx.js.jswidgets.favorites.favorites_menu.manage_favorites")),e.xp6(2),e.Q6J("id",t.favoriteCurrentPageButtonId)("disabled",t.isFavoriteCurrentPageDisabled),e.uIk("aria-label",e.lcZ(28,27,"psx.js.jswidgets.favorites.favorites_menu.favorite_current_page_ellipsis")),e.xp6(4),e.Oqu(e.lcZ(32,29,"psx.js.jswidgets.favorites.favorites_menu.favorite_current_page")))},dependencies:[H.sg,H.O5,Oo,Bt.X$],styles:["pds-icon[_ngcontent-%COMP%]{width:26px;height:26px}button.fav-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}button.fav-button[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#00427c;color:#00427c}button.fav-button[_ngcontent-%COMP%]:active   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#0075db;color:#0075db}button.fav-button[_ngcontent-%COMP%]:disabled   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}",".anchored.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]{position:inherit;box-shadow:none;max-width:240px;-webkit-border-start:1px solid #D3D3D3;border-inline-start:1px solid #D3D3D3;border-radius:0;height:calc(100vh - 61px);z-index:unset}.anchored.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-header[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child):not(:last-child)   pds-icon[_ngcontent-%COMP%]{fill:#0075db}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]{top:60px;min-width:240px;max-width:560px;width:auto}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-header[_ngcontent-%COMP%]{border-bottom:0}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{gap:10px;display:flex;width:100%;margin:0;padding:0}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:inset-inline-start;padding:5px 0}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{flex:1}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{-webkit-margin-start:auto;margin-inline-start:auto}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]{margin:0 20px}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-evenly;align-items:stretch}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;flex:1 0 25px}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:auto;margin-inline-end:auto;font-size:14px;font-weight:400;line-height:21px}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:45%}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button.pds-pop-over[_ngcontent-%COMP%]:hover:disabled, .pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button.pds-pop-over[_ngcontent-%COMP%]:focus:disabled{cursor:default}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button.pds-pop-over[_ngcontent-%COMP%]:hover:not([disabled]), .pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button.pds-pop-over[_ngcontent-%COMP%]:focus:not([disabled]){color:#333}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   .fav-line-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   .fav-line-item[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{flex:1 1 auto}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   .fav-category[_ngcontent-%COMP%]{margin:0;padding:25px 0 7px}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   .fav-category.fav-category-first[_ngcontent-%COMP%]{padding-top:0}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   .fav-category[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{font-weight:600}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   .fav-page[_ngcontent-%COMP%]{margin:0 10px;padding:2px 0}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   .fav-page.fav-page-first[_ngcontent-%COMP%]{border-top:1px solid}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .fav-page-container[_ngcontent-%COMP%]   .fav-page[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-footer[_ngcontent-%COMP%]{background-color:#f1f4f4;border-top:0}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-footer[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-evenly;align-items:stretch}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-footer[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;flex:1 0 35px}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-footer[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{margin:5px;flex:0 0 auto}.pds-modal.pds-drawer-mode.pds-dialog.favorite-menu-dialog[_ngcontent-%COMP%]   .favorites-modal-footer[_ngcontent-%COMP%]   div.pds-pop-over[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-margin-end:auto;margin-inline-end:auto}[_nghost-%COMP%]{display:flex;flex-direction:column;flex-wrap:nowrap}"]});class Do{constructor(){this.modeShiftSubject=new vs.X({mode:0})}tryFocus(n,t){setTimeout(()=>{const a=n.nativeElement.querySelector(t);null!=a?a.focus():this.tryFocus(n,t)})}getSortOrderChanged(n){let t=Number.parseInt(n);return isNaN(t)?new String(""):(t<1?t=1:t>99&&(t=Math.floor(t/10)),new Number(t))}}function D_(r,n){1&r&&e._UZ(0,"div",16)}function k_(r,n){if(1&r&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"pds-icon",19),e.TgZ(3,"span",20),e._uU(4),e.qZA()(),e._UZ(5,"pds-icon",21)(6,"pds-icon",21),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.name)}}function dv(r,n){1&r&&e._UZ(0,"div",31)}function uv(r,n){if(1&r&&(e.TgZ(0,"div",32),e._UZ(1,"pds-icon",19),e.TgZ(2,"span",20),e._uU(3),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.pageTitle)}}function rc(r,n){if(1&r&&(e.TgZ(0,"div",27),e.YNc(1,dv,1,0,"div",28),e.YNc(2,uv,4,1,"div",29),e.TgZ(3,"pss-page-display-line",30),e._UZ(4,"pds-icon",23)(5,"div",24),e.qZA()()),2&r){const t=n.$implicit,a=n.index,c=n.first,u=e.oxw(2),_=u.$implicit,S=u.index,F=e.oxw(2);e.Q6J("cdkDragData",_),e.xp6(3),e.Q6J("page",t)("index",a)("total",F.getPageCount(_))("isFirstPage",c)("categoryIndex",S)("reorderSuccessCallback",F.reorderPageCallback)}}function hv(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"pss-category-display-line",22),e._UZ(2,"pds-icon",23)(3,"div",24),e.qZA(),e.TgZ(4,"div",25),e.NdJ("cdkDropListDropped",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.dragDropPage(c))}),e.YNc(5,rc,6,7,"div",26),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index,u=t.first,_=e.oxw(2);e.xp6(1),e.Q6J("category",a)("index",c)("total",_.getCategoryCount())("isFirstCategory",u)("renameSuccessCallback",_.renameCategoryCallback)("reorderSuccessCallback",_.reorderCategoryCallback),e.xp6(3),e.Q6J("cdkDropListAutoScrollDisabled",!0)("cdkDropListData",a),e.xp6(1),e.Q6J("ngForOf",a.favoritePages)}}Do.\u0275fac=function(n){return new(n||Do)},Do.\u0275prov=e.Yz7({token:Do,factory:Do.\u0275fac,providedIn:"root"});const aw=function(r){return{arg0:r}};function pv(r,n){if(1&r&&(e.TgZ(0,"div",12),e.ALo(1,"translate"),e.YNc(2,D_,1,0,"div",13),e.YNc(3,k_,7,1,"div",14),e.YNc(4,hv,6,9,"ng-container",15),e.qZA()),2&r){const t=n.$implicit;e.uIk("aria-label",e.xi3(1,2,"psx.js.jswidgets.favorites.manage_favorites.__category",e.VKq(5,aw,t.name))),e.xp6(4),e.Q6J("ngIf",!t.isDeleted)}}function _v(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",1),e.NdJ("pdsRemoveDialog",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.closeDrawer())}),e.TgZ(1,"pds-dialog",2)(2,"h4"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"section",3)(6,"div",4),e._UZ(7,"pss-new-category-button",5),e.qZA(),e.TgZ(8,"div",6),e.NdJ("cdkDropListDropped",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.dragDropCategory(c))}),e.ALo(9,"translate"),e.YNc(10,pv,5,7,"div",7),e.qZA()(),e.TgZ(11,"footer")(12,"div",8)(13,"button",9),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.closeDrawer())}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.discard())}),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",11),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.save())}),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("returnFocusCallback",t.handleFocus),e.xp6(2),e.Oqu(e.lcZ(4,12,"psx.js.jswidgets.favorites.manage_favorites.manage_favorites")),e.xp6(4),e.Q6J("successCallback",t.addNewCategoryCallback),e.xp6(1),e.Q6J("cdkDropListAutoScrollDisabled",!0),e.uIk("aria-label",e.lcZ(9,14,"psx.js.jswidgets.favorites.manage_favorites.favorited_pages")),e.xp6(2),e.Q6J("ngForOf",t.dirtyState),e.xp6(3),e.Q6J("disabled",t.isModeShifted),e.xp6(1),e.Oqu(e.lcZ(15,16,t.isDirty?"psx.js.jswidgets.favorites.manage_favorites.cancel":"psx.js.jswidgets.favorites.manage_favorites.close")),e.xp6(2),e.Q6J("disabled",!t.isDirty||t.isModeShifted),e.xp6(1),e.Oqu(e.lcZ(18,18,"psx.js.jswidgets.favorites.manage_favorites.discard_changes")),e.xp6(2),e.Q6J("disabled",!t.isDirty||t.isModeShifted),e.xp6(1),e.Oqu(e.lcZ(21,20,"psx.js.jswidgets.favorites.manage_favorites.save"))}}class Ps{constructor(n,t,a,c,u,_,S){this.elementRef=n,this.dialogController=t,this.pdsToolkit=a,this.hub=c,this.translateUtil=u,this.contextService=_,this.liveAnnouncer=S,this.isOpen=!1,this.subscriptions=[],this.pageDuplicateIdCounter=0,this.newCategoryIdCounter=0,this.openFavoritesButtonId=Wo,this.manageFavoritesButtonId=oc,this.isDirty=!1,this.isModeShifted=!1,this.hasAnyFavoritedPage=!1,this.handleFocus=()=>document.querySelector(this.hasAnyFavoritedPage?`#${this.manageFavoritesButtonId}`:`#${this.openFavoritesButtonId}`),this.addNewCategoryCallback=F=>{const j={id:0,name:F,sortOrder:0,isDeleted:!1,favoritePages:[],focusId:"new-"+this.newCategoryIdCounter++},ue=Sl(this.dirtyState,j,Me=>Me===j?1:Me.isDeleted?2:0);this.dirtyState.splice(ue,0,j);for(let Me=ue;Me<this.dirtyState.length;Me++)this.dirtyState[Me].sortOrder=Me+1;this.setupContextMenus(this.dirtyState),this.makeDirty(),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.__category_has_been_added_to_position__",[F,""+(ue+1)])),setTimeout(()=>{this.elementRef.nativeElement.querySelector("#category-display-line-"+ue).scrollIntoView()})},this.renameCategoryCallback=(F,j)=>{const ue=F.name;F.name=j,this.setupContextMenus(this.dirtyState),this.makeDirty(),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.__category_was_renamed_to__",[ue,j]))},this.reorderCategoryCallback=(F,j)=>{const ue=this.dirtyState.filter(Ge=>!Ge.isDeleted).length;j>ue&&(j=ue);const Me=this.dirtyState.splice(F.sortOrder-1,1);this.dirtyState.splice(j-1,0,...Me),this.dirtyState.forEach((Ge,Ot)=>{Ge.sortOrder=Ot+1}),this.setupContextMenus(this.dirtyState),this.makeDirty(),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.__category_has_been_moved_to_position__",[F.name,j.toString()]))},this.reorderPageCallback=(F,j,ue)=>{const Me=this.dirtyState[ue],Ge=Me.favoritePages.filter(Vt=>!Vt.isDeleted).length;j>Ge&&(j=Ge);const Ot=Me.favoritePages.splice(F.sortOrder-1,1);Me.favoritePages.splice(j-1,0,...Ot),Me.favoritePages.forEach((Vt,kn)=>{Vt.sortOrder=kn+1,Vt.contextMenu=this.getPageContextMenu(Vt,kn,ue,this.dirtyState)}),this.makeDirty(),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.__has_been_moved_to_position__",[F.pageTitle,j.toString()]))},this.pdsToolkit.getPDSToolkitWhenReady.subscribe(F=>{this.pds=F,this.messagingService=F.serviceInstances.getMessageService()}),this.modeShiftSubject=this.contextService.modeShiftSubject}get open(){return this.isOpen}set open(n){n?this.hub.getFavsForUser().then(t=>{this.pageDuplicateIdCounter=0,this.newCategoryIdCounter=0,this.initData(t),this.isOpen=!0},t=>{throw this.isOpen=!1,this.displayErrorMessage(),t}):this.isOpen=!1}ngOnInit(){this.subscriptions.push(this.dialogController.manageFavoritesObservable.subscribe(n=>{this.open=n})),this.subscriptions.push(this.modeShiftSubject.subscribe(n=>{this.isModeShifted=0!==n.mode,this.elementRef.nativeElement.querySelectorAll('button[id^="pop-over-button-page-elilipsis"]').forEach(a=>{this.isModeShifted?a.setAttribute("disabled","true"):a.removeAttribute("disabled")})}))}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}initData(n){this.modeShiftSubject.next({mode:0}),this.isDirty=!1,this.cleanState=this.cloneState(n),this.dirtyState=this.cloneState(n),this.setupContextMenus(this.dirtyState),this.hasAnyFavoritedPage=this.hub.hasAnyFavoritedPage(n)}cloneState(n,t){const a=Boolean(t);let c=1;const u=n.map(_=>{let S=1;const F=_.favoritePages.map(ue=>{!a&&!Object.isFrozen(ue.pageCatalog)&&Object.freeze(ue.pageCatalog);const Me={favoritePageId:ue.favoritePageId,pageCatalogId:ue.pageCatalogId,pageTitle:ue.pageTitle,sortOrder:S++,isDeleted:Boolean(ue.isDeleted)};return a||(Me.parentCatagoryFocusId=_.id.toString(),Me.pageCatalog=ue.pageCatalog,Me.focusId=Me.favoritePageId.toString()),Me}),j={id:_.id,sortOrder:c++,name:_.name,isDeleted:Boolean(_.isDeleted),favoritePages:Wa(F,"sortOrder")};return a||(j.focusId=_.id.toString()),j});return Wa(u,"sortOrder")}setupContextMenus(n){n.forEach((t,a,c)=>{t.contextMenu=this.getCategoryContextMenu(t,a,c),t.favoritePages.forEach((u,_)=>{u.contextMenu=this.getPageContextMenu(u,_,a,c)})})}cleanUpContextMenus(n){n.forEach((t,a,c)=>{t.contextMenu=null,t.favoritePages.forEach((u,_)=>{u.contextMenu=null})})}getCategoryContextMenu(n,t,a){return[this.getCategoryRenameMenuItem(n,t),this.getCategoryDeleteMenuItem(n,t,a),this.getCategoryReorderMenuItem(n,t,a)]}getCategoryRenameMenuItem(n,t){return{id:"category-menu-button-rename-"+n.focusId,name:this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.rename"),iconName:"pencil",callback:()=>{this.modeShiftSubject.next({mode:2,index:t})}}}getCategoryDeleteMenuItem(n,t,a){return{id:"category-menu-button-delete-"+n.focusId,name:this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.delete"),iconName:"trash",callback:()=>{n.isDeleted=!0,a.splice(t,1),a.push(n);for(let c=t;c<a.length;c++)a[c].sortOrder=c+1;this.cleanUpContextMenus(this.dirtyState),setTimeout(()=>{this.setupContextMenus(this.dirtyState),this.makeDirty(),this.setFocusToFirstInput(),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.__category_has_been_deleted",[n.name]))},500)}}}getCategoryReorderMenuItem(n,t,a){let c={id:"category-menu-button-reorder-"+n.focusId,name:this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.reorder1"),iconName:"arrows-down-up",callback:()=>{this.modeShiftSubject.next({mode:3,index:t})}};return 1===a.filter(_=>!_.isDeleted).length&&(c.disable={isDisabled:()=>!0,disabledTooltip:""}),c}getPageContextMenu(n,t,a,c){return[this.getPageDuplicateMenuItem(n,a,c),this.getPageRemoveMenuItem(n,a,c),this.getPageMoveToMenuItem(n,c),this.getPageReorderMenuItem(n,t,a,c[a])]}getPageDuplicateMenuItem(n,t,a){let c={id:"duplicate-"+n.focusId,name:this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.duplicate"),iconName:"copy",callback:()=>{const u=Ol(a,{focusId:n.parentCatagoryFocusId}),_={favoritePageId:0,pageCatalogId:n.pageCatalogId,pageTitle:n.pageTitle,isDeleted:!1,sortOrder:n.sortOrder+1,pageCatalog:n.pageCatalog,parentCatagoryFocusId:u.focusId};_.focusId="dup-"+this.pageDuplicateIdCounter++,u.favoritePages.splice(n.sortOrder,0,_),u.favoritePages.forEach((S,F)=>{S.sortOrder=F+1,S.contextMenu=this.getPageContextMenu(S,F,t,a)}),this.makeDirty(),this.contextService.tryFocus(this.elementRef,'pds-pop-over[data-focus-id="'+n.focusId+'"] button[id^="pop-over-button-page-elilipsis"]'),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.__has_been_duplicated",[n.pageTitle]))}};return null==n.pageCatalog&&(c.disable={isDisabled:()=>!0,disabledTooltip:""}),c}getPageRemoveMenuItem(n,t,a){return{id:"remove-"+n.focusId,name:this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.remove"),iconName:"trash",callback:()=>{const c=Ol(a,{focusId:n.parentCatagoryFocusId});n.isDeleted=!0,c.favoritePages.splice(n.sortOrder-1,1),c.favoritePages.push(n),c.favoritePages.forEach((u,_)=>{u.sortOrder=_+1,u.contextMenu=this.getPageContextMenu(u,_,t,a)}),this.makeDirty(),this.setFocusToFirstInput(),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.__has_been_removed",[n.pageTitle]))}}}getPageMoveToMenuItem(n,t){let a=t.filter(u=>u.focusId!==n.parentCatagoryFocusId&&!u.isDeleted).map(u=>({id:"move-to-category-"+u.id+"-"+n.focusId,name:u.name,callback:()=>{const S=Ol(t,{focusId:n.parentCatagoryFocusId}),F=za(t,Ge=>Ge.focusId===u.focusId),j=t[F],ue=S.favoritePages.splice(n.sortOrder-1,1)[0];for(let Ge=ue.sortOrder-1;Ge<S.favoritePages.length;Ge++)S.favoritePages[Ge].sortOrder=Ge+1;const Me=Sl(j.favoritePages,ue,Ge=>Ge.favoritePageId===ue.favoritePageId&&Ge.pageCatalogId===ue.pageCatalogId?1:Ge.isDeleted?2:0);j.favoritePages.splice(Me,0,ue),ue.parentCatagoryFocusId=j.focusId;for(let Ge=Me;Ge<j.favoritePages.length;Ge++)j.favoritePages[Ge].sortOrder=Ge+1;this.setupContextMenus(t),this.makeDirty(),this.contextService.tryFocus(this.elementRef,'pds-pop-over[data-focus-id="'+ue.focusId+'"] button[id^="pop-over-button-page-elilipsis"]'),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.__has_been_moved_to__category",[ue.pageTitle,j.name]))}}));const c={id:"moveToParent-"+n.focusId,name:this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.move_to"),iconName:"arrow-right",children:a};return(!a.length||null==n.pageCatalog)&&(delete c.children,c.disable={isDisabled:()=>!0,disabledTooltip:""}),c}getPageReorderMenuItem(n,t,a,c){let u={id:"page-menu-button-reorder-"+n.focusId,name:this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.reorder2"),iconName:"arrows-down-up",callback:()=>{this.modeShiftSubject.next({mode:4,index:t,parentIndex:a})}},_=c.favoritePages.filter(S=>!S.isDeleted);return(null==n.pageCatalog||1===_.length)&&(u.disable={isDisabled:()=>!0,disabledTooltip:""}),u}closeDrawer(){this.isModeShifted||this.dialogController.setManageFavoritesShowing(!1)}discard(){this.dirtyState=this.cloneState(this.cleanState),this.setupContextMenus(this.dirtyState),this.isDirty=!1,this.setFocusToFirstInput(),this.liveAnnouncer.announce(this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.changes_have_been_discarded"))}save(){var n=this;return(0,Di.Z)(function*(){try{const t=n.cloneState(n.dirtyState,"PREPARE_FOR_SAVE");yield n.hub.saveAllFavorites(t),n.initData(yield n.hub.getFavsForUser()),n.displaySaveMessage(),n.setFocusToFirstInput()}catch(t){throw n.displayErrorMessage(),t}})()}getCategoryCount(){return this.dirtyState.filter(n=>!n.isDeleted).length}getPageCount(n){return n.favoritePages.filter(t=>!t.isDeleted).length}dragDropPage(n){const t=n.item.data,a=n.container.data;if(n.previousContainer.id===n.container.id){if(n.previousIndex===n.currentIndex)return;Dr(t.favoritePages,n.previousIndex,n.currentIndex);for(let c=0;c<t.favoritePages.length;c++)t.favoritePages[c].sortOrder=c+1}else{(function Om(r,n,t,a){const c=Pa(t,r.length-1),u=Pa(a,n.length);r.length&&n.splice(u,0,r.splice(c,1)[0])})(t.favoritePages,a.favoritePages,n.previousIndex,n.currentIndex),a.favoritePages[n.currentIndex].parentCatagoryFocusId=a.focusId;for(let c=n.previousIndex;c<t.favoritePages.length;c++)t.favoritePages[c].sortOrder=c+1;for(let c=n.currentIndex;c<a.favoritePages.length;c++)a.favoritePages[c].sortOrder=c+1}this.setupContextMenus(this.dirtyState),this.makeDirty()}dragDropCategory(n){if(n.previousIndex!==n.currentIndex){Dr(this.dirtyState,n.previousIndex,n.currentIndex);for(let a=n.previousIndex<n.currentIndex?n.previousIndex:n.currentIndex;a<this.dirtyState.length;a++)this.dirtyState[a].sortOrder=a+1;this.setupContextMenus(this.dirtyState),this.makeDirty()}}makeDirty(){this.isDirty=!0}displaySaveMessage(){this.messagingService.displayMessage("SUCCESS","FLOATING",this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.favorites_updated_successfully"))}displayErrorMessage(){this.messagingService.displayMessage("ERROR","FLOATING",this.translateUtil.translate("psx.js.jswidgets.favorites.manage_favorites.an_error_occurred_please_try_again"))}setFocusToFirstInput(){const n=this.elementRef.nativeElement.querySelector("*:enabled");n&&n.focus()}}Ps.\u0275fac=function(n){return new(n||Ps)(e.Y36(e.SBq),e.Y36(ui),e.Y36(Fl.B),e.Y36(rn),e.Y36(Kt.h),e.Y36(Do),e.Y36(qc))},Ps.\u0275cmp=e.Xpm({type:Ps,selectors:[["pss-manage-favorites"]],decls:1,vars:1,consts:[["class","pds-container",3,"pdsRemoveDialog",4,"ngIf"],[1,"pds-container",3,"pdsRemoveDialog"],["pssRemoveGlassClick","","data-is-drawer-mode","true",3,"returnFocusCallback"],[1,"manage-fav-body"],[1,"favorites-button-header"],[3,"successCallback"],["role","list","cdkDropList","","cdkDropListGroup","",1,"fav-page-container",3,"cdkDropListAutoScrollDisabled","cdkDropListDropped"],["role","group","class","category-drag-item","cdkDrag","","cdkDragPreviewContainer","parent","cdkDragLockAxis","y",4,"ngFor","ngForOf"],[1,"pds-modal-actions"],["id","manage-favs-cancel","pssTabHandlerBookend","dialog","type","button",3,"disabled","click"],["id","manage-favs-discard","type","button",3,"disabled","click"],["id","manage-favs-save","pssTabHandlerBookend","dialog","type","button",1,"pds-primary",3,"disabled","click"],["role","group","cdkDrag","","cdkDragPreviewContainer","parent","cdkDragLockAxis","y",1,"category-drag-item"],["class","drag-drop-placeholder category",4,"cdkDragPlaceholder"],["class","fav-category fav-category-preview","aria-hidden","true",4,"cdkDragPreview"],[4,"ngIf"],[1,"drag-drop-placeholder","category"],["aria-hidden","true",1,"fav-category","fav-category-preview"],[1,"fav-line-item"],["name","drag-handle",1,"fav-handle"],[1,"fav-text"],["name","ellipsis"],[3,"category","index","total","isFirstCategory","renameSuccessCallback","reorderSuccessCallback"],["cdkDragHandle","","name","drag-handle","aria-hidden","true",1,"fav-handle"],[1,"fav-handle","disabled-drag-handle"],["cdkDropList","",1,"page-drop-list",3,"cdkDropListAutoScrollDisabled","cdkDropListData","cdkDropListDropped"],["cdkDrag","","cdkDragPreviewContainer","parent",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragPreviewContainer","parent",3,"cdkDragData"],["class","drag-drop-placeholder page",4,"cdkDragPlaceholder"],["class","fav-page fav-line-item","aria-hidden","true",4,"cdkDragPreview"],[3,"page","index","total","isFirstPage","categoryIndex","reorderSuccessCallback"],[1,"drag-drop-placeholder","page"],["aria-hidden","true",1,"fav-page","fav-line-item"]],template:function(n,t){1&n&&e.YNc(0,_v,22,22,"div",0),2&n&&e.Q6J("ngIf",t.open)},styles:["pds-icon[_ngcontent-%COMP%]{width:26px;height:26px}button.fav-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}button.fav-button[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#00427c;color:#00427c}button.fav-button[_ngcontent-%COMP%]:active   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#0075db;color:#0075db}button.fav-button[_ngcontent-%COMP%]:disabled   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}","footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{-webkit-margin-end:auto;margin-inline-end:auto}.fav-page-container[_ngcontent-%COMP%]{margin:0}.fav-handle[_ngcontent-%COMP%], .fav-sort-order-text[_ngcontent-%COMP%], .fav-sort-order-input[_ngcontent-%COMP%]{-webkit-margin-end:4px;margin-inline-end:4px;-webkit-margin-start:4px;margin-inline-start:4px;width:30px;flex:0 0 auto;text-align:center;font-size:1.1rem;box-sizing:border-box}.fav-handle[_ngcontent-%COMP%]{cursor:move}.fav-handle.disabled-drag-handle[_ngcontent-%COMP%]{cursor:unset}.fav-line-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.fav-line-item[_ngcontent-%COMP%]   .fav-sort-order-input[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:0;padding-inline-end:0}.fav-line-item[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{flex:1 1 auto}.fav-category-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:column;gap:5px}.fav-category-preview[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:5px}.fav-category-preview[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{width:20px;height:20px;-webkit-margin-start:60px;margin-inline-start:60px}.fav-category-preview[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:5px}.fav-category[_ngcontent-%COMP%]{-webkit-margin-start:-38px;margin-inline-start:-38px;padding:36px 0 7px}.fav-category.fav-category-first[_ngcontent-%COMP%]{padding-top:0}.fav-category[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{font-weight:600}.fav-page[_ngcontent-%COMP%]{border-bottom:1px solid;padding:2px 0}.fav-page.fav-page-first[_ngcontent-%COMP%]{border-top:1px solid}.fav-page[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px}.fav-page[_ngcontent-%COMP%]   .fav-text.fav-disabled[_ngcontent-%COMP%]{opacity:45%}section.manage-fav-body[_ngcontent-%COMP%]{padding-top:0}section.manage-fav-body[_ngcontent-%COMP%]   .favorites-button-header[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:space-evenly;align-items:stretch;padding:10px 0;border-bottom:1px solid #838e91;margin-bottom:20px;position:sticky;top:0;background-color:#fff;z-index:100}.drag-drop-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1);box-sizing:border-box}.drag-drop-placeholder.page[_ngcontent-%COMP%]{min-height:37px}.drag-drop-placeholder.category[_ngcontent-%COMP%]{margin:0 30px}.cdk-drop-list-receiving.page-drop-list[_ngcontent-%COMP%]{border:dotted 3px #999;box-sizing:border-box}.cdk-drop-list.page-drop-list[_ngcontent-%COMP%]{min-height:37px}.category-drag-item[_ngcontent-%COMP%]{padding:0 60px}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#fffc;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;min-height:37px;padding:2px 0;border:none}.cdk-drag-preview.fav-category[_ngcontent-%COMP%]{width:470px}.cdk-drag-preview.fav-page[_ngcontent-%COMP%]{width:440px}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}"]});const fv=["emptyFavoritePopOver"];function gv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",1,2),e.NdJ("keydown.esc",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.closeDialog())})("keydown.Tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))}),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e._UZ(9,"div",5),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("id",t.emptyFavoriteDialogId),e.uIk("aria-describedby","dialogBody"),e.xp6(3),e.hij(" ",e.lcZ(5,4,"psx.js.jswidgets.favorites.empty_favorite_dialog.you_do_not_have_any_favorited_pages")," "),e.xp6(3),e.hij(" ",e.lcZ(8,6,"psx.js.jswidgets.favorites.empty_favorite_dialog.add_a_page_to_your_favorites_by_clicking_the_star_on_the_page_you_want_to_favorite")," ")}}class sc{constructor(n){this.dialogController=n,this.subscriptions=[],this.isOpen=!1,this.emptyFavoriteDialogId="emptyFavoriteDialog",this.openFavoritesButtonId=Wo}ngOnInit(){this.subscriptions.push(this.dialogController.emptyFavoriteDialogObservable.subscribe(n=>{this.isOpen=n,n?(document.addEventListener("click",t=>{this.clickout(t)},!0),setTimeout(()=>{document.getElementById(`${this.emptyFavoriteDialogId}`).focus()})):document.removeEventListener("click",t=>{this.clickout(t)},!0)}))}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}clickout(n){this.isOpen&&this.emptyFavoritePopOverElement&&!this.emptyFavoritePopOverElement.nativeElement.contains(n.target)&&(this.closeDialog(),n.stopPropagation())}closeDialog(){this.isOpen&&(this.isOpen=!1,document.removeEventListener("click",n=>{this.clickout(n)},!0),setTimeout(()=>{document.getElementById(`${this.openFavoritesButtonId}`).focus()}))}handleTabKey(n){n.preventDefault()}}function mv(r,n){1&r&&e._UZ(0,"div",5)}function E_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("favoritesRemoveDrawer",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.closeDrawer())}),e._UZ(1,"pss-favorites-menu",3),e.YNc(2,mv,1,0,"div",4),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("currentPageCatalogId",t.pageCatalogId)("isDistrict",t.isDistrict)("isAnchored",t.isAnchored)("close",t.closeCallBack)("togglePinDrawer",t.togglePinDrawer),e.xp6(1),e.Q6J("ngIf",!t.isAnchored)}}sc.\u0275fac=function(n){return new(n||sc)(e.Y36(ui))},sc.\u0275cmp=e.Xpm({type:sc,selectors:[["pss-empty-favorite-dialog"]],viewQuery:function(n,t){if(1&n&&e.Gf(fv,5),2&n){let a;e.iGM(a=e.CRH())&&(t.emptyFavoritePopOverElement=a.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["tabindex","0","role","dialog","aria-modal","true","aria-labelledby","dialogHeader",1,"empty-favorite-popup",3,"id","keydown.esc","keydown.Tab","keydown.shift.tab"],["emptyFavoritePopOver",""],["id","dialogHeader","aria-hidden","true",1,"empty-favorite-popup-header"],["id","dialogBody",1,"empty-favorite-popup-body"],[1,"dialog-overlay"]],template:function(n,t){1&n&&e.YNc(0,gv,10,8,"div",0),2&n&&e.Q6J("ngIf",t.isOpen)},dependencies:[H.O5,Bt.X$],styles:[".empty-favorite-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:10px 5px;gap:5px;width:300px;height:120px;background-color:#fff;box-shadow:8px 8px 12px #0003;border-radius:4px;color:#333;font-family:Open Sans;line-height:21px;position:absolute;top:60px;inset-inline-end:120px;z-index:9000}.empty-favorite-popup[_ngcontent-%COMP%]   .empty-favorite-popup-header[_ngcontent-%COMP%]{width:280px;height:41px;padding:10px 15px 10px 10px;font-weight:600}.empty-favorite-popup[_ngcontent-%COMP%]   .empty-favorite-popup-body[_ngcontent-%COMP%]{width:280px;height:83px;padding:10px 15px 10px 10px}",".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;inset-inline-start:0;inset-inline-end:0;bottom:0;background:rgba(0,0,0,.25);z-index:8500}"]});class Zr{constructor(n,t){this.dialogController=n,this.hub=t,this.isDistrict=!1,this.anchorFavoritesClass="anchor-favorites",this.containerFrameId="container-frame",this.containerId="container",this.favoritesDrawerPinnedKey="pssFavoritesDrawerPinned",this.openFavoritesButtonId=Wo,this.isOpen=!1,this.isAnchored=!1,this.subscriptions=[],this.closeCallBack=()=>{this.closeDrawer()},this.togglePinDrawer=()=>{this.isAnchored?this.unpinDrawer():this.pinDrawer()}}get pageCatalogId(){return+this.page_catalog_id}get showMenu(){return this.isOpen}set showMenu(n){this.isOpen=n}ngOnInit(){this.subscriptions.push(this.dialogController.favoritesMenuObservable.subscribe(n=>this.showMenu=n)),this.isAnchored=JSON.parse(localStorage.getItem(this.favoritesDrawerPinnedKey+"_"+this.user_dcid)),this.hub.getFavsForUser().then(n=>{let t=this.hub.hasAnyFavoritedPage(n);this.isAnchored&&(t?(this.pinDrawer(),this.dialogController.setFavoritesMenuShowing(!0)):this.closeDrawer(!1,!1,!0))},n=>{throw n})}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}closeDrawer(n,t,a){this.isAnchored&&this.unpinDrawer(t),this.dialogController.setFavoritesMenuShowing(!1),!a&&!n&&document.querySelector(`#${this.openFavoritesButtonId}`).focus()}pinDrawer(){this.isAnchored=!0,localStorage.setItem(this.favoritesDrawerPinnedKey+"_"+this.user_dcid,JSON.stringify(this.isAnchored));const n=document.getElementById(this.containerId);if(null!=n)return void n.classList.add(this.anchorFavoritesClass);const t=document.getElementById(this.containerFrameId);null==t?this.closeDrawer(!1,!0):t.classList.add(this.anchorFavoritesClass)}unpinDrawer(n){this.isAnchored=!1,(null==n||!1===n)&&localStorage.setItem(this.favoritesDrawerPinnedKey+"_"+this.user_dcid,JSON.stringify(this.isAnchored));const t=document.getElementById(this.containerId);if(null!=t)return void t.classList.remove(this.anchorFavoritesClass);const a=document.getElementById(this.containerFrameId);null==a||a.classList.remove(this.anchorFavoritesClass)}}Zr.\u0275fac=function(n){return new(n||Zr)(e.Y36(ui),e.Y36(rn))},Zr.\u0275cmp=e.Xpm({type:Zr,selectors:[["pss-favorites-menu-container"]],inputs:{page_catalog_id:"page_catalog_id",default_category:"default_category",isDistrict:["is_district","isDistrict"],user_dcid:"user_dcid"},decls:4,vars:3,consts:[["class","pds-container",3,"favoritesRemoveDrawer",4,"ngIf"],[3,"pageCatalogId","default_category"],[1,"pds-container",3,"favoritesRemoveDrawer"],[3,"currentPageCatalogId","isDistrict","isAnchored","close","togglePinDrawer"],["class","dialog-overlay",4,"ngIf"],[1,"dialog-overlay"]],template:function(n,t){1&n&&(e._UZ(0,"pss-empty-favorite-dialog"),e.YNc(1,E_,3,6,"div",0),e._UZ(2,"pss-manage-favorites")(3,"pss-add-favorite-dialog",1)),2&n&&(e.xp6(1),e.Q6J("ngIf",t.showMenu),e.xp6(2),e.s9C("default_category",t.default_category),e.Q6J("pageCatalogId",t.pageCatalogId))},dependencies:[H.O5,Po,Ps,Ts,sc],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;inset-inline-start:0;inset-inline-end:0;bottom:0;background:rgba(0,0,0,.25);z-index:8500}"]});class ac{constructor(n,t){this.hub=n,this.translateUtil=t,this.translateUtil.getPSSTranslations("psx.js.jswidgets.favorites","psx.js.jswidgets.favorites.add_favorite_dialog.cancel")}get pageCatalogId(){return+this.page_catalog_id}ngOnInit(){this.hub.getFavsForUser()}}ac.\u0275fac=function(n){return new(n||ac)(e.Y36(rn),e.Y36(Kt.h))},ac.\u0275cmp=e.Xpm({type:ac,selectors:[["pss-favorites"]],inputs:{page_catalog_id:"page_catalog_id",default_category:"default_category"},decls:2,vars:1,consts:[[3,"pageCatalogId"]],template:function(n,t){1&n&&e._UZ(0,"pss-open-favorites")(1,"pss-add-favorite",0),2&n&&(e.xp6(1),e.Q6J("pageCatalogId",t.pageCatalogId))},dependencies:[tc,ic],styles:["[_nghost-%COMP%]{display:flex}"]});class tr{constructor(n){this.http=n}getBannerPreference(n){return this.http.get("/ws/preferences/core/user/pref/"+n)}setBannerPreference(n,t){return this.http.post("/ws/preferences/core/user/pref/"+n+"/"+t,{})}}function Cv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",1),e._UZ(1,"div",2),e.TgZ(2,"div",3),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",4)(6,"button",5),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"button",6),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.closeBanner())}),e._UZ(10,"pds-icon",7),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,t.bannerText)),e.xp6(2),e.s9C("href",t.destinationURL,e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,5,t.buttonText))}}tr.\u0275fac=function(n){return new(n||tr)(e.LFG(W.eN))},tr.\u0275prov=e.Yz7({token:tr,factory:tr.\u0275fac,providedIn:"root"});class cc{constructor(n){this.bannerHttp=n,this.destinationURL="https://docs.powerschool.com/PSHSA/new-experience",this.bannerText="psx.html.admin.home.introducing_the_new_powerschool_sis_experience",this.buttonText="psx.html.admin.home.learn_more",this.showing=!1}ngOnInit(){"1"===this.pref_value?this.close():(this.showing=!0,"complete"===document.readyState||"interactive"===document.readyState?setTimeout(()=>{this.checkLeftNavShift()},1):document.addEventListener("DOMContentLoaded",()=>{this.checkLeftNavShift()}))}checkLeftNavShift(){this.showing&&document.body.classList.add("banner-shift")}closeBanner(){this.close(),this.bannerHttp.setBannerPreference(this.pref_name,1).subscribe(n=>{})}close(){this.showing=!1,document.body.classList.remove("banner-shift")}}cc.\u0275fac=function(n){return new(n||cc)(e.Y36(tr))},cc.\u0275cmp=e.Xpm({type:cc,selectors:[["pss-fullwidthbanner"]],inputs:{pref_name:"pref_name",pref_value:"pref_value"},decls:1,vars:1,consts:[["class","full-width-banner",4,"ngIf"],[1,"full-width-banner"],[1,"img"],[1,"banner-text"],["id","new-look-video-link","target","_blank",3,"href"],["id","learn-more-banner-button",1,"banner-button"],["id","close-banner-button",1,"close-wrapper",3,"click"],["name","x-alt"]],template:function(n,t){1&n&&e.YNc(0,Cv,11,7,"div",0),2&n&&e.Q6J("ngIf",t.showing)},dependencies:[H.O5,Bt.X$],styles:[".full-width-banner[_ngcontent-%COMP%]{display:flex;height:70px;flex-direction:row;justify-content:flex-start;align-items:center;background-color:#032e51;color:#fff;margin-top:-1px}.full-width-banner[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:70px;min-width:120px;width:120px;border:none;margin-right:15px;background:url(/scripts/angular/img_sis_banner_new.3d133135fc846723.svg);background-repeat:no-repeat}.full-width-banner[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{flex-grow:3}.full-width-banner[_ngcontent-%COMP%]   .banner-button[_ngcontent-%COMP%]{height:27px;padding:4px 10px;background-color:#032e51;color:#fff;border:1px solid white;justify-self:flex-end;margin-right:20px}.full-width-banner[_ngcontent-%COMP%]   .close-wrapper[_ngcontent-%COMP%]{height:20px;width:20px;background-color:#032e51;border:none;justify-self:flex-end;margin-right:20px}.full-width-banner[_ngcontent-%COMP%]   .close-wrapper[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;width:20px;height:20px;position:relative;right:6px;bottom:3px}"]});class Ds{constructor(n){this.http=n}getSearchResults(n){const t={search:null===n?null:n.trim()};return this.http.post("/ws/globalsearch/search",t)}}Ds.\u0275fac=function(n){return new(n||Ds)(e.LFG(W.eN))},Ds.\u0275prov=e.Yz7({token:Ds,factory:Ds.\u0275fac,providedIn:"root"});class lc{constructor(n,t){this.globalSearchService=n,this.translationService=t}ngOnInit(){this.translationService.getPSSTranslations("psx.js.angular.globalsearch_component.","psx.js.angular.globalsearch_component.no_results_found"),this.waitOnToolkit()}waitOnToolkit(){powerSchoolDesignSystemToolkit?(this.globalSearch=powerSchoolDesignSystemToolkit.serviceInstances.getGlobalSearchService().getGlobalSearch(),this.translationService.get("psx.js.angular.globalsearch_component.no_results_found").subscribe(n=>{this.globalSearch.setNoSearchResultsHeaderText(n)}),this.translationService.get("psx.js.angular.globalsearch_component.search").subscribe(n=>{this.globalSearch.setSearchInputPlaceholderText(n)}),this.translationService.get("psx.js.angular.globalsearch_component.try_your_search_again").subscribe(n=>{this.globalSearch.setNoSearchResultsParagraphText(n)}),this.globalSearch.getThrottleCharacterStream().subscribe(n=>{0==n.trim().length?this.globalSearch.setSearchResults([]):this.globalSearchService.getSearchResults(n).subscribe(t=>{t.forEach(function(a){a&&a.items&&a.items.forEach(c=>{typeof appNavController<"u"&&c.requiredContext&&("student"==c.requiredContext&&"student"==c.context?c.onUserClick=appNavController.clickOnStudentLink:"staff"==c.requiredContext&&"staff"==c.context?c.onUserClick=appNavController.clickOnStaffLink:"student"==c.requiredContext&&"main"==c.context?c.onUserClick=appNavController.clickOnStudentGroupFunctionLink:"staff"==c.requiredContext&&"main"==c.context?c.onUserClick=appNavController.clickOnStaffGroupFunctionLink:"contact"==c.requiredContext&&(c.onUserClick=appNavController.clickOnContactGroupFunctionLink),("student"==c.context||"staff"==c.context)&&window.location.href.includes("&gs=true")&&(c.url=c.url+"&gs=true")),c.isNewTab&&(c.onUserClick=appNavController.openInNewTab)})}),this.globalSearch.setSearchResults(t)})})):setTimeout(()=>{this.waitOnToolkit()})}}lc.\u0275fac=function(n){return new(n||lc)(e.Y36(Ds),e.Y36(Kt.h))},lc.\u0275cmp=e.Xpm({type:lc,selectors:[["pss-global-search"]],decls:1,vars:0,template:function(n,t){1&n&&e._UZ(0,"pds-global-search")}});var I_=k(1668);class jr{constructor(n){this.http=n}wrapObject(n){return encodeURIComponent(JSON.stringify(n))}unwrapObject(n){var t;if(null!=n)try{t=JSON.parse(decodeURIComponent(n))}catch{console.warn("unwrapObject did not like unwrapping this value: "+n)}return t}savePrefValue(n,t){var a;if(null!=t)return a="string"==typeof t?t:this.wrapObject(t),this.http.post(`/ws/preferences/core/user/pref/${n}/${a}`,{headers:{"Content-Type":"application/json; charset=UTF-8"}})}getPrefValue(n){return this.http.get("/ws/preferences/core/user/pref/"+n,{headers:{"Content-Type":"application/json; charset=UTF-8"}})}}jr.\u0275fac=function(n){return new(n||jr)(e.LFG(W.eN))},jr.\u0275prov=e.Yz7({token:jr,factory:jr.\u0275fac});const vv=function(r,n){return{on:r,off:n}};class ks{constructor(n){this.prefService=n,this.current_value="0"}ngOnInit(){this.value="1"===this.current_value,radioSliderLoaded=!0}stateChanged(){this.prefService.savePrefValue(this.pref_name,this.value?1:0).subscribe(()=>{window.location.reload()},n=>{console.log(n)})}}ks.\u0275fac=function(n){return new(n||ks)(e.Y36(jr))},ks.\u0275cmp=e.Xpm({type:ks,selectors:[["pss-userprefswitch"]],inputs:{current_value:"current_value",pref_name:"pref_name",label:"label"},features:[e._Bn([jr])],decls:12,vars:10,consts:[[1,"prefSwitch"],["type","checkbox",1,"radioSlider",3,"id","name","ngModel","ngModelChange","change"],["ctrl","ngModel"],[1,"radioSlider",3,"for","ngClass","id"],[1,"txtOn"],[1,"txtOff"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"input",1,2),e.NdJ("ngModelChange",function(c){return t.value=c})("change",function(){return t.stateChanged()}),e.qZA(),e.TgZ(5,"label",3)(6,"span",4),e._uU(7,"On"),e.qZA(),e.TgZ(8,"em"),e._uU(9,"\xa0"),e.qZA(),e.TgZ(10,"span",5),e._uU(11,"Off"),e.qZA()()()),2&n&&(e.xp6(2),e.hij("",t.label," "),e.xp6(1),e.MGl("id","userPrefSwitch",t.pref_name,"")("name","userPrefSwitch",t.pref_name,""),e.Q6J("ngModel",t.value),e.xp6(2),e.MGl("for","userPrefSwitch",t.pref_name,"")("id","userPrefSwitch",t.pref_name,"Label"),e.Q6J("ngClass",e.WLB(7,vv,t.value,!t.value)))},dependencies:[H.mk,Qe.Wl,Qe.JJ,Qe.On]});var Lu=k(546);class nr{constructor(){}tab(n){const t=document.getElementById(this.container);if(t){const a=t.querySelectorAll("*:enabled");a.length&&n.target===a.item(a.length-1)&&(n.preventDefault(),a.item(0).focus())}}}nr.\u0275fac=function(n){return new(n||nr)},nr.\u0275dir=e.lG2({type:nr,selectors:[["","pssTabHandlerBookend",""]],hostBindings:function(n,t){1&n&&e.NdJ("keydown.tab",function(c){return t.tab(c)})},inputs:{container:["pssTabHandlerBookend","container"]}});class Es{constructor(){}shifttab(n){const t=document.getElementById(this.container);if(t){const a=t.querySelectorAll("*:enabled");a.length&&n.target===a.item(0)&&(n.preventDefault(),a.item(a.length-1).focus())}}}Es.\u0275fac=function(n){return new(n||Es)},Es.\u0275dir=e.lG2({type:Es,selectors:[["","pssShiftTabHandlerBookend",""]],hostBindings:function(n,t){1&n&&e.NdJ("keydown.shift.tab",function(c){return t.shifttab(c)})},inputs:{container:["pssShiftTabHandlerBookend","container"]}});const F_=function(r,n){return{arg0:r,arg1:n}};function Rl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",4),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.onSortOrderChange(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleReorderEscapeCancel(c))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleReorderEnterConfirm(c))})("focus",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.focusSelectAll(c))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.MGl("id","category-reorder-input-",t.index,"")("pssShiftTabHandlerBookend","category-display-line-",t.index,""),e.Q6J("ngModel",t.newSortOrder),e.uIk("aria-label",e.xi3(1,4,"psx.js.jswidgets.favorites.manage_favorites.enter_a_new_position_out_of__for__category",e.WLB(7,F_,t.total,t.category.name)))}}function Ur(r,n){if(1&r&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.category.sortOrder)}}function cw(r,n){1&r&&e.Hsn(0,0,["*ngIf","reorderMode === 'OFF' && !isDisabled && !isRenaming"])}function dc(r,n){1&r&&e.Hsn(0,1,["*ngIf","reorderMode === 'OFF' && isDisabled || isRenaming"])}const A_=function(r){return{arg0:r}};function yv(r,n){if(1&r&&(e._UZ(0,"pds-pop-over",8),e.ALo(1,"translate")),2&r){const t=e.oxw(2);e.MGl("id","category-elilipsis-",t.index,""),e.Q6J("linkItems",t.category.contextMenu),e.uIk("data-button-aria-text",e.xi3(1,3,"psx.js.jswidgets.favorites.manage_favorites.show_more_options_for__category",e.VKq(6,A_,t.category.name)))}}function Ru(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",9),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.cancelReorder())})("keydown.esc",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.handleReorderEscapeCancel(c))}),e.ALo(2,"translate"),e._UZ(3,"pds-icon",10),e.qZA(),e.TgZ(4,"button",11),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.confirmReorder())})("keydown.esc",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.handleReorderEscapeCancel(c))}),e.ALo(5,"translate"),e._UZ(6,"pds-icon",12),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.MGl("id","cancel-category-reorder-btn-",t.index,"")("pssTabHandlerBookend","category-display-line-",t.index,""),e.s9C("title",e.lcZ(2,7,"psx.js.jswidgets.favorites.manage_favorites.cancel_reordering_category")),e.xp6(3),e.MGl("id","confirm-category-reorder-btn-",t.index,"")("pssTabHandlerBookend","category-display-line-",t.index,""),e.s9C("title",e.lcZ(5,9,"psx.js.jswidgets.favorites.manage_favorites.confirm_reordering_category")),e.Q6J("disabled",""==t.newSortOrder||t.category.sortOrder===+t.newSortOrder)}}function bv(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"span",6),e._uU(2),e.qZA(),e.YNc(3,yv,2,8,"pds-pop-over",7),e.YNc(4,Ru,7,11,"ng-container",3),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.MGl("id","category-item-",t.index,""),e.xp6(1),e.Oqu(t.category.name),e.xp6(1),e.Q6J("ngIf","SELF"!==t.reorderMode),e.xp6(1),e.Q6J("ngIf","SELF"===t.reorderMode)}}function io(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",13),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.newCategoryName=c)})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleRenameEscapeCancel(c))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleRenameEnterConfirm(c))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",9),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.cancelRename())})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleRenameEscapeCancel(c))}),e.ALo(4,"translate"),e._UZ(5,"pds-icon",10),e.qZA(),e.TgZ(6,"button",11),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.confirmRename())})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleRenameEscapeCancel(c))}),e.ALo(7,"translate"),e._UZ(8,"pds-icon",12),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.MGl("id","category-rename-",t.index,"")("pssShiftTabHandlerBookend","category-display-line-",t.index,""),e.Q6J("ngModel",t.newCategoryName),e.uIk("aria-label",e.xi3(2,11,"psx.js.jswidgets.favorites.manage_favorites.enter_a_new_name_for__category",e.VKq(18,A_,t.category.name))),e.xp6(2),e.MGl("id","cancel-category-rename-btn-",t.index,"")("pssTabHandlerBookend","category-display-line-",t.index,""),e.s9C("title",e.lcZ(4,14,"psx.js.jswidgets.favorites.manage_favorites.cancel_renaming_category")),e.xp6(3),e.MGl("id","confirm-category-rename-btn-",t.index,"")("pssTabHandlerBookend","category-display-line-",t.index,""),e.s9C("title",e.lcZ(7,16,"psx.js.jswidgets.favorites.manage_favorites.confirm_renaming_category")),e.Q6J("disabled",!t.newCategoryName||!t.newCategoryName.trim()||t.newCategoryName==t.category.name)}}const uc=[[["","cdkDragHandle",""]],[["",8,"disabled-drag-handle"]]];class Ii{constructor(n,t){this.contextService=n,this.element=t,this.subscriptions=[],this._isDisabled=!1,this.isRenaming=!1,this.reorderMode="OFF",this.modeShiftSubject=this.contextService.modeShiftSubject}get isDisabled(){return this._isDisabled}set isDisabled(n){this._isDisabled=n;const t=this.element.nativeElement.querySelector(".pds-pop-over-trigger-button");t&&(n?t.setAttribute("disabled","true"):t.removeAttribute("disabled"))}ngOnInit(){this.subscriptions.push(this.modeShiftSubject.subscribe(n=>{switch(n.mode){case 0:this.reorderMode="OFF",this.isDisabled=!1;break;case 2:n.index===this.index?(this.newCategoryName=this.category.name,this.isRenaming=!0,this.setRenameFocus()):this.isDisabled=!0;break;case 3:n.index===this.index?(this.newSortOrder=this.category.sortOrder,this.reorderMode="SELF",this.setReorderFocus()):(this.reorderMode="OTHER",this.isDisabled=!0);break;default:this.isDisabled=!0}}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}onSortOrderChange(n){this.newSortOrder=this.contextService.getSortOrderChanged(n)}handleRenameEscapeCancel(n){n.stopPropagation(),this.cancelRename()}handleRenameEnterConfirm(n){n.stopPropagation(),this.newCategoryName&&this.newCategoryName.trim()&&this.confirmRename()}cancelRename(){this.closeRename()}confirmRename(){this.category.name!==this.newCategoryName?(this.closeRename(),this.renameCategory(this.category,this.newCategoryName)):this.closeRename()}closeRename(){this.isRenaming=!1,this.modeShiftSubject.next({mode:0}),this.returnFocus()}handleReorderEscapeCancel(n){n.stopPropagation(),this.cancelReorder()}handleReorderEnterConfirm(n){n.stopPropagation(),this.confirmReorder()}cancelReorder(){this.closeReorder()}confirmReorder(){""!=this.newSortOrder&&(this.closeReorder(),this.reorderCategory(this.category,this.newSortOrder))}closeReorder(){this.modeShiftSubject.next({mode:0}),this.returnFocus()}setRenameFocus(){this.contextService.tryFocus(this.element,"#category-rename-"+this.index)}setReorderFocus(){this.contextService.tryFocus(this.element,"#category-reorder-input-"+this.index)}returnFocus(){this.contextService.tryFocus(this.element,'[id^="pop-over-button-category-elilipsis"]')}focusSelectAll(n){n.target.select()}}function Bl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",3)(1,"pds-text-widget",4),e.NdJ("modelValueChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.newCategoryName=c.target.modelValue)})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscapeCancel(c))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEnterConfirm(c))}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.cancelAdd())})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscapeCancel(c))}),e.ALo(5,"translate"),e._UZ(6,"pds-icon",6),e.qZA(),e.TgZ(7,"button",7),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.confirmAdd())})("keydown.esc",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEscapeCancel(c))}),e.ALo(8,"translate"),e._UZ(9,"pds-icon",8),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("modelValue",t.newCategoryName),e.uIk("data-label-text",e.lcZ(2,8,"psx.js.jswidgets.favorites.manage_favorites.new_category"))("data-aria-label",e.lcZ(3,10,"psx.js.jswidgets.favorites.manage_favorites.enter_the_name_of_a_new_category")),e.xp6(3),e.MGl("id","cancel-category-add-btn-",t.index,""),e.s9C("title",e.lcZ(5,12,"psx.js.jswidgets.favorites.manage_favorites.cancel_new_category")),e.xp6(3),e.MGl("id","confirm-category-add-btn-",t.index,""),e.s9C("title",e.lcZ(8,14,"psx.js.jswidgets.favorites.manage_favorites.confirm_new_category")),e.Q6J("disabled",!t.newCategoryName||!t.newCategoryName.trim())}}Ii.\u0275fac=function(n){return new(n||Ii)(e.Y36(Do),e.Y36(e.SBq))},Ii.\u0275cmp=e.Xpm({type:Ii,selectors:[["pss-category-display-line"]],inputs:{category:"category",index:"index",isFirstCategory:"isFirstCategory",renameCategory:["renameSuccessCallback","renameCategory"],reorderCategory:["reorderSuccessCallback","reorderCategory"],total:"total"},ngContentSelectors:["[cdkDragHandle]",".disabled-drag-handle"],decls:7,vars:9,consts:[[1,"fav-category","fav-line-item",3,"id"],["class","fav-sort-order-input",3,"id","ngModel","pssShiftTabHandlerBookend","ngModelChange","keydown.esc","keydown.enter","focus",4,"ngIf"],["class","fav-sort-order-text",4,"ngIf"],[4,"ngIf"],[1,"fav-sort-order-input",3,"id","ngModel","pssShiftTabHandlerBookend","ngModelChange","keydown.esc","keydown.enter","focus"],[1,"fav-sort-order-text"],["aria-hidden","true","pssEllipsify","",1,"fav-text",3,"id"],["data-icon-name","ellipsis","data-is-button-blend","true",3,"id","linkItems",4,"ngIf"],["data-icon-name","ellipsis","data-is-button-blend","true",3,"id","linkItems"],["type","button",1,"pds-button-blend","pds-button-round","fav-button",3,"id","pssTabHandlerBookend","title","click","keydown.esc"],["name","x-alt"],["type","button",1,"pds-button-blend","pds-button-round","fav-button",3,"id","pssTabHandlerBookend","disabled","title","click","keydown.esc"],["name","checkmark-alt"],["type","text",1,"fav-rename-category",3,"id","ngModel","pssShiftTabHandlerBookend","ngModelChange","keydown.esc","keydown.enter"]],template:function(n,t){1&n&&(e.F$t(uc),e.TgZ(0,"div",0),e.YNc(1,Rl,2,10,"input",1),e.YNc(2,Ur,2,1,"span",2),e.YNc(3,cw,1,0,"ng-content",3),e.YNc(4,dc,1,0,"ng-content",3),e.YNc(5,bv,5,4,"ng-container",3),e.YNc(6,io,9,20,"ng-container",3),e.qZA()),2&n&&(e.ekj("fav-category-first",t.isFirstCategory),e.MGl("id","category-display-line-",t.index,""),e.xp6(1),e.Q6J("ngIf","SELF"===t.reorderMode),e.xp6(1),e.Q6J("ngIf","OTHER"===t.reorderMode),e.xp6(1),e.Q6J("ngIf","OFF"===t.reorderMode&&!t.isDisabled&&!t.isRenaming),e.xp6(1),e.Q6J("ngIf","OFF"===t.reorderMode&&t.isDisabled||t.isRenaming),e.xp6(1),e.Q6J("ngIf",!t.isRenaming),e.xp6(1),e.Q6J("ngIf",t.isRenaming))},dependencies:[H.O5,Qe.Fj,Qe.JJ,Qe.On,Oo,nr,Es,Bt.X$],styles:["pds-icon[_ngcontent-%COMP%]{width:26px;height:26px}button.fav-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}button.fav-button[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#00427c;color:#00427c}button.fav-button[_ngcontent-%COMP%]:active   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#0075db;color:#0075db}button.fav-button[_ngcontent-%COMP%]:disabled   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}","footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{-webkit-margin-end:auto;margin-inline-end:auto}.fav-page-container[_ngcontent-%COMP%]{margin:0}.fav-handle[_ngcontent-%COMP%], .fav-sort-order-text[_ngcontent-%COMP%], .fav-sort-order-input[_ngcontent-%COMP%]{-webkit-margin-end:4px;margin-inline-end:4px;-webkit-margin-start:4px;margin-inline-start:4px;width:30px;flex:0 0 auto;text-align:center;font-size:1.1rem;box-sizing:border-box}.fav-handle[_ngcontent-%COMP%]{cursor:move}.fav-handle.disabled-drag-handle[_ngcontent-%COMP%]{cursor:unset}.fav-line-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.fav-line-item[_ngcontent-%COMP%]   .fav-sort-order-input[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:0;padding-inline-end:0}.fav-line-item[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{flex:1 1 auto}.fav-category-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:column;gap:5px}.fav-category-preview[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:5px}.fav-category-preview[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{width:20px;height:20px;-webkit-margin-start:60px;margin-inline-start:60px}.fav-category-preview[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:5px}.fav-category[_ngcontent-%COMP%]{-webkit-margin-start:-38px;margin-inline-start:-38px;padding:36px 0 7px}.fav-category.fav-category-first[_ngcontent-%COMP%]{padding-top:0}.fav-category[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{font-weight:600}.fav-page[_ngcontent-%COMP%]{border-bottom:1px solid;padding:2px 0}.fav-page.fav-page-first[_ngcontent-%COMP%]{border-top:1px solid}.fav-page[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px}.fav-page[_ngcontent-%COMP%]   .fav-text.fav-disabled[_ngcontent-%COMP%]{opacity:45%}section.manage-fav-body[_ngcontent-%COMP%]{padding-top:0}section.manage-fav-body[_ngcontent-%COMP%]   .favorites-button-header[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:space-evenly;align-items:stretch;padding:10px 0;border-bottom:1px solid #838e91;margin-bottom:20px;position:sticky;top:0;background-color:#fff;z-index:100}.drag-drop-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1);box-sizing:border-box}.drag-drop-placeholder.page[_ngcontent-%COMP%]{min-height:37px}.drag-drop-placeholder.category[_ngcontent-%COMP%]{margin:0 30px}.cdk-drop-list-receiving.page-drop-list[_ngcontent-%COMP%]{border:dotted 3px #999;box-sizing:border-box}.cdk-drop-list.page-drop-list[_ngcontent-%COMP%]{min-height:37px}.category-drag-item[_ngcontent-%COMP%]{padding:0 60px}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#fffc;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;min-height:37px;padding:2px 0;border:none}.cdk-drag-preview.fav-category[_ngcontent-%COMP%]{width:470px}.cdk-drag-preview.fav-page[_ngcontent-%COMP%]{width:440px}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}","input.fav-rename-category[_ngcontent-%COMP%]{width:100%;-webkit-margin-end:5px;margin-inline-end:5px}"]});class Ln{constructor(n,t){this.contextService=n,this.element=t,this.subscriptions=[],this.isDisabled=!1,this.isAdding=!1,this.modeShiftSubject=this.contextService.modeShiftSubject}ngOnInit(){this.subscriptions.push(this.modeShiftSubject.subscribe(n=>{switch(n.mode){case 0:this.isDisabled=!1;break;case 1:this.newCategoryName="",this.isAdding=!0,this.setInputFocus();break;default:this.isDisabled=!0}}))}setInputFocus(){this.contextService.tryFocus(this.element,"#add-category-input")}returnFocus(){this.contextService.tryFocus(this.element,"#addCategoryButton")}enterAddMode(){this.modeShiftSubject.next({mode:1})}cancelAdd(){this.closeAdd()}confirmAdd(){this.closeAdd(),this.addCategory(this.newCategoryName)}closeAdd(){this.isAdding=!1,this.modeShiftSubject.next({mode:0}),this.returnFocus()}handleEscapeCancel(n){n.stopPropagation(),this.cancelAdd()}handleEnterConfirm(n){n.stopPropagation(),this.newCategoryName&&this.newCategoryName.trim()&&this.confirmAdd()}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}}Ln.\u0275fac=function(n){return new(n||Ln)(e.Y36(Do),e.Y36(e.SBq))},Ln.\u0275cmp=e.Xpm({type:Ln,selectors:[["pss-new-category-button"]],inputs:{addCategory:["successCallback","addCategory"]},decls:6,vars:5,consts:[["id","addCategoryButton","type","button","pssShiftTabHandlerBookend","dialog",1,"pds-button-blend","fav-button",3,"disabled","click"],["name","plus-alt"],["id","add-category-container","class","fav-add-category",4,"ngIf"],["id","add-category-container",1,"fav-add-category"],["name","add-category","pssShiftTabHandlerBookend","add-category-container",1,"pds-width-100",3,"modelValue","modelValueChange","keydown.esc","keydown.enter"],["type","button","pssTabHandlerBookend","add-category-container",1,"pds-button-blend","pds-button-round","fav-button",3,"id","title","click","keydown.esc"],["name","x-alt"],["type","button","pssTabHandlerBookend","add-category-container",1,"pds-button-blend","pds-button-round","fav-button",3,"id","disabled","title","click","keydown.esc"],["name","checkmark-alt"]],template:function(n,t){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return t.enterAddMode()}),e._UZ(1,"pds-icon",1),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,Bl,10,16,"div",2)),2&n&&(e.Q6J("disabled",t.isDisabled||t.isAdding),e.xp6(3),e.Oqu(e.lcZ(4,3,"psx.js.jswidgets.favorites.manage_favorites.add_category")),e.xp6(2),e.Q6J("ngIf",t.isAdding))},dependencies:[H.O5,nr,Es,Bt.X$],styles:["pds-icon[_ngcontent-%COMP%]{width:26px;height:26px}button.fav-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}button.fav-button[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#00427c;color:#00427c}button.fav-button[_ngcontent-%COMP%]:active   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#0075db;color:#0075db}button.fav-button[_ngcontent-%COMP%]:disabled   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}","footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{-webkit-margin-end:auto;margin-inline-end:auto}.fav-page-container[_ngcontent-%COMP%]{margin:0}.fav-handle[_ngcontent-%COMP%], .fav-sort-order-text[_ngcontent-%COMP%], .fav-sort-order-input[_ngcontent-%COMP%]{-webkit-margin-end:4px;margin-inline-end:4px;-webkit-margin-start:4px;margin-inline-start:4px;width:30px;flex:0 0 auto;text-align:center;font-size:1.1rem;box-sizing:border-box}.fav-handle[_ngcontent-%COMP%]{cursor:move}.fav-handle.disabled-drag-handle[_ngcontent-%COMP%]{cursor:unset}.fav-line-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.fav-line-item[_ngcontent-%COMP%]   .fav-sort-order-input[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:0;padding-inline-end:0}.fav-line-item[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{flex:1 1 auto}.fav-category-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:column;gap:5px}.fav-category-preview[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:5px}.fav-category-preview[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{width:20px;height:20px;-webkit-margin-start:60px;margin-inline-start:60px}.fav-category-preview[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:5px}.fav-category[_ngcontent-%COMP%]{-webkit-margin-start:-38px;margin-inline-start:-38px;padding:36px 0 7px}.fav-category.fav-category-first[_ngcontent-%COMP%]{padding-top:0}.fav-category[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{font-weight:600}.fav-page[_ngcontent-%COMP%]{border-bottom:1px solid;padding:2px 0}.fav-page.fav-page-first[_ngcontent-%COMP%]{border-top:1px solid}.fav-page[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px}.fav-page[_ngcontent-%COMP%]   .fav-text.fav-disabled[_ngcontent-%COMP%]{opacity:45%}section.manage-fav-body[_ngcontent-%COMP%]{padding-top:0}section.manage-fav-body[_ngcontent-%COMP%]   .favorites-button-header[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:space-evenly;align-items:stretch;padding:10px 0;border-bottom:1px solid #838e91;margin-bottom:20px;position:sticky;top:0;background-color:#fff;z-index:100}.drag-drop-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1);box-sizing:border-box}.drag-drop-placeholder.page[_ngcontent-%COMP%]{min-height:37px}.drag-drop-placeholder.category[_ngcontent-%COMP%]{margin:0 30px}.cdk-drop-list-receiving.page-drop-list[_ngcontent-%COMP%]{border:dotted 3px #999;box-sizing:border-box}.cdk-drop-list.page-drop-list[_ngcontent-%COMP%]{min-height:37px}.category-drag-item[_ngcontent-%COMP%]{padding:0 60px}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#fffc;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;min-height:37px;padding:2px 0;border:none}.cdk-drag-preview.fav-category[_ngcontent-%COMP%]{width:470px}.cdk-drag-preview.fav-page[_ngcontent-%COMP%]{width:440px}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}","[_nghost-%COMP%]{display:inherit;flex-flow:inherit;justify-content:inherit;align-items:inherit;flex:1 0 40px}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:5px}[_nghost-%COMP%] > button[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{flex:0 0 auto;margin:0}[_nghost-%COMP%] > button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-margin-end:auto;margin-inline-end:auto}.fav-add-category[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:flex-end;gap:5px;margin:5px 60px 10px 42px}"]});const Bu=function(r,n){return{arg0:r,arg1:n}};function Is(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",7),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.onSortOrderChange(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.handleReorderEscapeCancel(c))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.handleReorderEnterConfirm(c))})("focus",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.focusSelectAll(c))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.MGl("id","page-reorder-input-",t.index,"")("pssShiftTabHandlerBookend","page-display-line-",t.index,""),e.Q6J("ngModel",t.newSortOrder),e.uIk("aria-label",e.xi3(1,4,"psx.js.jswidgets.favorites.manage_favorites.enter_a_new_position_out_of__for__",e.WLB(7,Bu,t.total,t.page.pageTitle)))}}function Fs(r,n){if(1&r&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.page.sortOrder)}}function As(r,n){1&r&&e.Hsn(0,0,["*ngIf","reorderMode === 'OFF' && !isDisabled && !isRenaming"])}function Ns(r,n){1&r&&e.Hsn(0,1,["*ngIf","reorderMode === 'OFF' && isDisabled || isRenaming"])}const Ls=function(r){return{arg0:r}};function Rs(r,n){if(1&r&&(e._UZ(0,"pds-pop-over",9),e.ALo(1,"translate")),2&r){const t=e.oxw(2);e.hYB("id","page-elilipsis-",t.categoryIndex,"-",t.index,""),e.Q6J("linkItems",t.page.contextMenu),e.uIk("data-focus-id",t.page.focusId)("data-button-aria-text",e.xi3(1,5,"psx.js.jswidgets.favorites.manage_favorites.show_more_options_for__",e.VKq(8,Ls,t.page.pageTitle)))}}function Bs(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",10),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.cancelReorder())})("keydown.esc",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.handleReorderEscapeCancel(c))}),e.ALo(2,"translate"),e._UZ(3,"pds-icon",11),e.qZA(),e.TgZ(4,"button",12),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.confirmReorder())})("keydown.esc",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.handleReorderEscapeCancel(c))}),e.ALo(5,"translate"),e._UZ(6,"pds-icon",13),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.MGl("id","cancel-page-reorder-btn-",t.index,"")("pssTabHandlerBookend","page-display-line-",t.index,""),e.s9C("title",e.lcZ(2,7,"psx.js.jswidgets.favorites.manage_favorites.cancel_reordering_page")),e.xp6(3),e.MGl("id","confirm-page-reorder-btn-",t.index,"")("pssTabHandlerBookend","page-display-line-",t.index,""),e.s9C("title",e.lcZ(5,9,"psx.js.jswidgets.favorites.manage_favorites.confirm_reordering_page")),e.Q6J("disabled",""==t.newSortOrder||t.page.sortOrder===+t.newSortOrder)}}function Vs(r,n){if(1&r&&(e.TgZ(0,"div",1),e.YNc(1,Is,2,10,"input",2),e.YNc(2,Fs,2,1,"span",3),e.YNc(3,As,1,0,"ng-content",4),e.YNc(4,Ns,1,0,"ng-content",4),e.TgZ(5,"span",5),e._uU(6),e.qZA(),e.YNc(7,Rs,2,10,"pds-pop-over",6),e.YNc(8,Bs,7,11,"ng-container",4),e.qZA()),2&r){const t=e.oxw();e.ekj("fav-page-first",t.isFirstPage),e.MGl("id","page-display-line-",t.index,""),e.xp6(1),e.Q6J("ngIf","SELF"===t.reorderMode),e.xp6(1),e.Q6J("ngIf","OTHER"===t.reorderMode),e.xp6(1),e.Q6J("ngIf","OFF"===t.reorderMode&&!t.isDisabled&&!t.isRenaming),e.xp6(1),e.Q6J("ngIf","OFF"===t.reorderMode&&t.isDisabled||t.isRenaming),e.xp6(1),e.ekj("fav-disabled",null==t.page.pageCatalog),e.hYB("id","page-item-",t.categoryIndex,"-",t.index,""),e.xp6(1),e.Oqu(t.page.pageTitle),e.xp6(1),e.Q6J("ngIf","SELF"!==t.reorderMode),e.xp6(1),e.Q6J("ngIf","SELF"===t.reorderMode)}}const Hs=[[["","cdkDragHandle",""]],[["",8,"disabled-drag-handle"]]];class Zs{constructor(n,t){this.contextService=n,this.element=t,this.subscriptions=[],this._isDisabled=!1,this.reorderMode="OFF",this.modeShiftSubject=this.contextService.modeShiftSubject}get isDisabled(){return this._isDisabled}set isDisabled(n){this._isDisabled=n;const t=this.element.nativeElement.querySelector(".pds-pop-over-trigger-button");t&&(n?t.setAttribute("disabled","true"):t.removeAttribute("disabled"))}ngOnInit(){this.subscriptions.push(this.modeShiftSubject.subscribe(n=>{switch(n.mode){case 0:this.reorderMode="OFF",this.isDisabled=!1;break;case 4:if(n.index===this.index&&n.parentIndex===this.categoryIndex){this.newSortOrder=this.page.sortOrder,this.reorderMode="SELF",this.setReorderFocus();break}n.parentIndex===this.categoryIndex&&(this.reorderMode="OTHER");default:this.isDisabled=!0}}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}onSortOrderChange(n){this.newSortOrder=this.contextService.getSortOrderChanged(n)}handleReorderEscapeCancel(n){n.stopPropagation(),this.cancelReorder()}handleReorderEnterConfirm(n){n.stopPropagation(),this.confirmReorder()}cancelReorder(){this.closeReorder()}confirmReorder(){""!=this.newSortOrder&&(this.closeReorder(),this.reorderPage(this.page,this.newSortOrder,this.categoryIndex))}closeReorder(){this.modeShiftSubject.next({mode:0}),this.returnFocus()}setReorderFocus(){this.contextService.tryFocus(this.element,"#page-reorder-input-"+this.index)}returnFocus(){this.contextService.tryFocus(this.element,'[id^="pop-over-button-page-elilipsis"]')}focusSelectAll(n){n.target.select()}}Zs.\u0275fac=function(n){return new(n||Zs)(e.Y36(Do),e.Y36(e.SBq))},Zs.\u0275cmp=e.Xpm({type:Zs,selectors:[["pss-page-display-line"]],inputs:{page:"page",index:"index",isFirstPage:"isFirstPage",reorderPage:["reorderSuccessCallback","reorderPage"],categoryIndex:"categoryIndex",total:"total"},ngContentSelectors:["[cdkDragHandle]",".disabled-drag-handle"],decls:1,vars:1,consts:[["role","listitem","class","fav-page fav-line-item",3,"id","fav-page-first",4,"ngIf"],["role","listitem",1,"fav-page","fav-line-item",3,"id"],["class","fav-sort-order-input",3,"id","ngModel","pssShiftTabHandlerBookend","ngModelChange","keydown.esc","keydown.enter","focus",4,"ngIf"],["class","fav-sort-order-text",4,"ngIf"],[4,"ngIf"],["pssEllipsify","",1,"fav-text",3,"id"],["data-icon-name","ellipsis","data-is-button-blend","true",3,"id","linkItems",4,"ngIf"],[1,"fav-sort-order-input",3,"id","ngModel","pssShiftTabHandlerBookend","ngModelChange","keydown.esc","keydown.enter","focus"],[1,"fav-sort-order-text"],["data-icon-name","ellipsis","data-is-button-blend","true",3,"id","linkItems"],["type","button",1,"pds-button-blend","pds-button-round","fav-button",3,"id","pssTabHandlerBookend","title","click","keydown.esc"],["name","x-alt"],["type","button",1,"pds-button-blend","pds-button-round","fav-button",3,"id","disabled","pssTabHandlerBookend","title","click","keydown.esc"],["name","checkmark-alt"]],template:function(n,t){1&n&&(e.F$t(Hs),e.YNc(0,Vs,9,14,"div",0)),2&n&&e.Q6J("ngIf",!t.page.isDeleted)},dependencies:[H.O5,Qe.Fj,Qe.JJ,Qe.On,Oo,nr,Es,Bt.X$],styles:["pds-icon[_ngcontent-%COMP%]{width:26px;height:26px}button.fav-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}button.fav-button[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#00427c;color:#00427c}button.fav-button[_ngcontent-%COMP%]:active   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#0075db;color:#0075db}button.fav-button[_ngcontent-%COMP%]:disabled   [_ngcontent-%COMP%]:is(pds-icon, span)[_ngcontent-%COMP%]{fill:#677274;color:#677274}","footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{-webkit-margin-end:auto;margin-inline-end:auto}.fav-page-container[_ngcontent-%COMP%]{margin:0}.fav-handle[_ngcontent-%COMP%], .fav-sort-order-text[_ngcontent-%COMP%], .fav-sort-order-input[_ngcontent-%COMP%]{-webkit-margin-end:4px;margin-inline-end:4px;-webkit-margin-start:4px;margin-inline-start:4px;width:30px;flex:0 0 auto;text-align:center;font-size:1.1rem;box-sizing:border-box}.fav-handle[_ngcontent-%COMP%]{cursor:move}.fav-handle.disabled-drag-handle[_ngcontent-%COMP%]{cursor:unset}.fav-line-item[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.fav-line-item[_ngcontent-%COMP%]   .fav-sort-order-input[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:0;padding-inline-end:0}.fav-line-item[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{flex:1 1 auto}.fav-category-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:column;gap:5px}.fav-category-preview[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:5px}.fav-category-preview[_ngcontent-%COMP%] > pds-icon[_ngcontent-%COMP%]{width:20px;height:20px;-webkit-margin-start:60px;margin-inline-start:60px}.fav-category-preview[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:5px}.fav-category[_ngcontent-%COMP%]{-webkit-margin-start:-38px;margin-inline-start:-38px;padding:36px 0 7px}.fav-category.fav-category-first[_ngcontent-%COMP%]{padding-top:0}.fav-category[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{font-weight:600}.fav-page[_ngcontent-%COMP%]{border-bottom:1px solid;padding:2px 0}.fav-page.fav-page-first[_ngcontent-%COMP%]{border-top:1px solid}.fav-page[_ngcontent-%COMP%]   .fav-text[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px}.fav-page[_ngcontent-%COMP%]   .fav-text.fav-disabled[_ngcontent-%COMP%]{opacity:45%}section.manage-fav-body[_ngcontent-%COMP%]{padding-top:0}section.manage-fav-body[_ngcontent-%COMP%]   .favorites-button-header[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;justify-content:space-evenly;align-items:stretch;padding:10px 0;border-bottom:1px solid #838e91;margin-bottom:20px;position:sticky;top:0;background-color:#fff;z-index:100}.drag-drop-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1);box-sizing:border-box}.drag-drop-placeholder.page[_ngcontent-%COMP%]{min-height:37px}.drag-drop-placeholder.category[_ngcontent-%COMP%]{margin:0 30px}.cdk-drop-list-receiving.page-drop-list[_ngcontent-%COMP%]{border:dotted 3px #999;box-sizing:border-box}.cdk-drop-list.page-drop-list[_ngcontent-%COMP%]{min-height:37px}.category-drag-item[_ngcontent-%COMP%]{padding:0 60px}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#fffc;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;min-height:37px;padding:2px 0;border:none}.cdk-drag-preview.fav-category[_ngcontent-%COMP%]{width:470px}.cdk-drag-preview.fav-page[_ngcontent-%COMP%]{width:440px}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}"]});class Pn{constructor(n){this.http=n}getGradeLevels(){return this.http.get("/ws/xte/school/gradelevels").pipe((0,Ht.K)(n=>(0,N.of)({isError:!0,error:n})))}getSchedulingGradeLevels(){return this.http.post("/ws/schema/query/com.pearson.core.schools.scheduling_grade_levels",{}).pipe((0,Ht.K)(n=>(0,N.of)({isError:!0,error:n})))}getCurrentStudentSelectionCount(){return this.http.get("/ws/selectionservice/currentselection/student/ids/count")}}Pn.\u0275fac=function(n){return new(n||Pn)(e.LFG(W.eN))},Pn.\u0275prov=e.Yz7({token:Pn,factory:Pn.\u0275fac});var js=k(567),ke=(()=>{return(r=ke||(ke={})).students="students",r.staff="staff",r.contacts="contacts",ke;var r})();class ir{constructor(n){this.http=n,this.HTTP_OPTIONS={headers:new W.WM({"Content-Type":"application/json; charset=UTF-8"})}}getCodesets(n,t){let c=[];c.push(n);const u=JSON.stringify({code_types:c,parent_codeset_id:null===t?0:t});return this.http.post("/ws/schema/query/com.powerschool.core.codeset.codesets_by_types?pagesize=0",u,this.HTTP_OPTIONS).pipe((0,Ht.K)(_=>(0,N.of)({isError:!0,error:_})))}}ir.\u0275fac=function(n){return new(n||ir)(e.LFG(W.eN))},ir.\u0275prov=e.Yz7({token:ir,factory:ir.\u0275fac,providedIn:"root"});class hc{static getDayRoundedDate(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())}static isDateBetween(n,t,a){let c=!1,u=n instanceof Date?n:new Date(n);u=this.getDayRoundedDate(u);var _=u;t&&(t=t instanceof Date?t:new Date(t),_=this.getDayRoundedDate(t));var S=u;return a&&(a=a instanceof Date?a:new Date(a),S=this.getDayRoundedDate(a)),u.getTime()>=_.getTime()&&u.getTime()<=S.getTime()&&(c=!0),c}}class yi{constructor(n){this.http=n,this.pageContextSelectionChanged=!1,this.isInitializedSubject=new We.xQ,this.isInitialized=this.isInitializedSubject.asObservable(),this.selectedStudentCountSubject=new We.xQ,this.selectedStudentCount=this.selectedStudentCountSubject.asObservable(),this.selectedStaffCountSubject=new We.xQ,this.selectedStaffCount=this.selectedStaffCountSubject.asObservable(),this.staffHandleCloseEventSubject=new We.xQ,this.staffHandleCloseEvent=this.staffHandleCloseEventSubject.asObservable(),this.studentsHandleCloseEventSubject=new We.xQ,this.studentsHandleCloseEvent=this.studentsHandleCloseEventSubject.asObservable(),this.triggerModalDialogSubject=new We.xQ,this.triggerModalDialog=this.triggerModalDialogSubject.asObservable(),this.isGroupFunctionMOdalSubject=new We.xQ,this.isGroupFunctionModal=this.isGroupFunctionMOdalSubject.asObservable()}getIsInitialized(){return this.isInitialized}updateIsInitialized(n){this.isInitializedSubject.next(n)}getSelectedStudentCount(){return this.selectedStudentCount}updateSelectedStudentCount(n){this.selectedStudentCountSubject.next(n)}getSelectedStaffCount(){return this.selectedStaffCount}updateSelectedStaffCount(n){this.selectedStaffCountSubject.next(n)}getStaffHandleCloseEvent(){return this.staffHandleCloseEvent}updateStaffHandleCloseEvent(n){this.staffHandleCloseEventSubject.next(n)}getStudentsHandleCloseEvent(){return this.studentsHandleCloseEvent}updateStudentsHandleCloseEvent(n){this.studentsHandleCloseEventSubject.next(n)}getTriggerModalDialog(){return this.triggerModalDialog}updateTriggerModalDialog(n){this.triggerModalDialogSubject.next(n)}getPageContextSelectionChanged(){return this.pageContextSelectionChanged}updatePageContextSelectionChanged(n){this.pageContextSelectionChanged=n}getIsGroupFunctionModal(){return this.isGroupFunctionModal}updateIsGroupFunctionModal(n){this.isGroupFunctionMOdalSubject.next(n)}}yi.\u0275fac=function(n){return new(n||yi)(e.LFG(W.eN))},yi.\u0275prov=e.Yz7({token:yi,factory:yi.\u0275fac,providedIn:"root"});class $r{constructor(n,t,a){this.selectorName=n,this.keyElementId=t,this.deprecated=a,this.isComponentVisible=!1,a&&console.warn(`The '${n}' angular selector has been deprecated and will be removed in a future build, please see the developer docs for updated implementation.`),angularCustomizations.addCustomizableAngularSelector(n)}ngAfterViewInit(){this.applyCustomizationsForComponent()}setCustomizableAngularSelectors(n){angularCustomizations.setCustomizableAngularSelectors(n)}applyCustomizationsForComponent(){angularCustomizations.elementsToCustomize[this.selectorName]&&document.querySelector(`#${this.keyElementId}`)&&this.isComponentVisible?angularCustomizations.elementsToCustomize[this.selectorName].forEach(n=>{setTimeout(()=>{this.injectCustomization(n)},0)}):setTimeout(()=>{this.applyCustomizationsForComponent()},0)}injectCustomization(n){try{if(n.callback)n.callback();else if(n.before&&document.querySelector(n.before)){const t=document.createElement("template");t.innerHTML=n.element,document.querySelector(n.before).before(t.content.firstChild)}else if(n.append&&document.querySelector(n.append)){const t=document.createElement("template");t.innerHTML=n.element,document.querySelector(n.append).append(t.content.firstChild)}else if(n.after&&document.querySelector(n.after)){const t=document.createElement("template");t.innerHTML=n.element,document.querySelector(n.after).after(t.content.firstChild)}}catch(t){console.log(`Unable to attach Customization - ${JSON.stringify(n)} due to:`,t)}}exposeFunction(n,t,a,c){angularCustomizations.addAvailableFunctionsBySelector(this.selectorName,t,n,a,c)}}$r.\u0275fac=function(n){e.$Z()},$r.\u0275dir=e.lG2({type:$r});var dt=(()=>{return(r=dt||(dt={})).string="string",r.boolean="boolean",r.select="select",r.multiSelect="multi",r.date="date",r.number="number",dt;var r})(),$e=(()=>{return(r=$e||($e={})).greater=">",r.greater_equal=">=",r.less="<",r.less_equal="<=",r.equal="=",r.range="range",r.in="in",r.not_in="not in",r.contains="contains",$e;var r})();class or{constructor(n){this.http=n}getAccessLevel(n){const a=[this.makeFlsKeyObj(n)];return this.http.post("/ws/fieldlevelsecurity/access",a)}getAccessLevels(n){let a=[];return n.forEach(c=>{a.push(this.makeFlsKeyObj(c))}),this.http.post("/ws/fieldlevelsecurity/access",a).pipe((0,Ht.K)(c=>(0,N.of)({isError:!0,error:c})))}makeFlsKeyObj(n){var t=n.split(".");return 2===t.length?{tableName:t[0],fieldName:t[1]}:1===t.length?{tableName:"",fieldName:t[0]}:{tableName:"",fieldName:""}}}or.\u0275fac=function(n){return new(n||or)(e.LFG(W.eN))},or.\u0275prov=e.Yz7({token:or,factory:or.\u0275fac,providedIn:"root"});class xv{constructor(n){this.numberOfRows=0,this.pageNumber=1,this.rowsPerPageOptions=[10,25,50,100],this.rowsPerPage=100,this.rowsPerPageMax=1e3,this.rowsPerPageMaxLimitExceeded=!1,this.updatePaging=!1,this.refresh=typeof n<"u"?n:()=>{},this.sortColumnConfiguration=void 0,this.gridWidgetFilters=void 0,this.gridWidgetSimpleFilters=void 0,this.filteredItemsAllPages=void 0,this.pages=void 0,this.jumpToPageNumber=1}setPageNumber(n){this.pageNumber=n,this.updatePaging=!0}hasFilterParameters(){return!!this.gridWidgetFilters&&typeof this.gridWidgetFilters.find(t=>!!t.searchValue)<"u"}setNumberOfRows(n){this.numberOfRows=n,this.validatePageNumber()}getPageNumber(){return this.pageNumber}getRowsPerPage(){return this.rowsPerPage}getSortColumns(){if(typeof this.sortColumnConfiguration>"u")return[];const n=[];return this.sortColumnConfiguration.dataFields.forEach(t=>{n.push(t.fieldKey)}),n}getSortDirection(){if(!(typeof this.sortColumnConfiguration>"u"))return this.sortColumnConfiguration.reversed?"desc":"asc"}getFilterData(){return this.getLiteFilterData(this.gridWidgetFilters)}getSimpleFilterData(){return this.getLiteFilterData(this.gridWidgetSimpleFilters)}getLiteFilterData(n){const t=[];return n.forEach(a=>{const c=a.getCondensed();typeof c.value<"u"&&null!==c.value&&t.push(c)}),t}validateRowsPerPage(){null==this.rowsPerPage?this.rowsPerPage=10:"string"==typeof this.rowsPerPage&&(this.rowsPerPage=Math.abs(this.rowsPerPage)),(isNaN(this.rowsPerPage)||0===this.rowsPerPage)&&(this.rowsPerPage=10),this.rowsPerPage>this.rowsPerPageMax&&(this.rowsPerPage=this.rowsPerPageMax,this.rowsPerPageMaxLimitExceeded=!0)}limitRowsPerPageToMax(){return!isNaN(this.rowsPerPage)&&!this.rowsPerPageMaxLimitExceeded&&Math.abs(this.rowsPerPage)>this.rowsPerPageMax&&(this.rowsPerPage=this.rowsPerPageMax,!0)}validatePageNumber(){if(null==this.pageNumber?this.pageNumber=1:"string"==typeof this.pageNumber&&(this.pageNumber=Math.abs(this.pageNumber)),isNaN(this.pageNumber)&&(this.pageNumber=1),this.pageNumber>1&&this.numberOfRows>0){const n=Math.ceil(this.numberOfRows/this.rowsPerPage);this.pageNumber>n&&(this.pageNumber=n)}0===this.pageNumber&&(this.pageNumber=1)}getFilteredItemsForAllPage(){return this.filteredItemsAllPages}getPageData(n){const t=[];if(n&&n.length>0)for(let a=(this.pageNumber-1)*this.rowsPerPage;a<this.pageNumber*this.rowsPerPage&&a<n.length;a++)t.push(n[a]);return t}updatePaginationNumbers(){if(this.pageNumber<1||this.pageNumber>this.numberOfPages)return;const t=Math.min(5,this.numberOfPages);let a;if(this.pages=[],this.firstInListNumber=(this.pageNumber-1)*this.rowsPerPage+1,t<5)for(a=1;a<t+1;a++)this.pages.push(a);else{this.pages.push(this.pageNumber);let c=this.pageNumber,u=this.pageNumber,_=1===c,S=u===this.numberOfPages;for(a=1;a<t;a++)a%2!=0&&!S||_?(this.pages.push(++u),S=u===this.numberOfPages):(this.pages.unshift(--c),_=1===c)}}updateNumberOfPages(){this.validateRowsPerPage(),this.validatePageNumber();const n=Math.ceil(this.numberOfRows/this.rowsPerPage);return this.pageNumber>n&&n>0?this.pageNumber=n:this.pageNumber<=0&&(this.pageNumber=1),n!==this.numberOfPages&&(this.numberOfPages=n,!0)}}class pc extends xv{constructor(n,t,a,c){super(c),void 0!==a&&void 0!==a.rowsPerPage&&(this.rowsPerPage=a.rowsPerPage,this.validateRowsPerPage()),this.items=n,this.ids=[],this.resetSavedIds(t)}selectionChange(n){this.reversed&&!n.inSelection||!this.reversed&&n.inSelection?this.ids.push(n.id):this.ids.splice(this.ids.indexOf(n.id),1),this.checkAll=0===this.ids.length&&!0===this.reversed,this.ids.length===this.numberOfRows&&!this.reversed&&this.resetSavedIds(!0)}toggleSelectionBoxes(){this.resetSavedIds(this.checkAll)}resetSavedIds(n){this.ids=[],this.reversed=n,this.checkAll=n,this.items.forEach(t=>{t.inSelection=n})}isInSelection(n){let t=0;return(this.reversed&&-1===this.ids.indexOf(n.id)||!this.reversed&&-1!==this.ids.indexOf(n.id))&&(t=1),1===t}getSelectedFilteredItemsForAllPage(){const n=[];return this.getFilteredItemsForAllPage().forEach(a=>{this.isInSelection(a)&&n.push(a.id)}),n}sizeOfIds(){return this.ids.length}getTotalSelected(){return this.reversed?this.numberOfRows-this.sizeOfIds():this.sizeOfIds()}remove(n){let t=!1;if(this.ids.length>0){const a=this.ids.indexOf(n.id);-1!==a&&(this.ids.splice(a,1),t=!0)}return t}add(n){let t=!1;return this.reversed&&!this.ids.includes(n)&&(this.ids.push(n),t=!0),t}updateItems(n){this.items=n,this.checkAll?this.toggleSelectionBoxes():this.items.forEach(t=>{t.inSelection=this.isInSelection(t)})}}class Vl{constructor(){}getEncodedFilters(n){return n.map(t=>(t.filterName=encodeURIComponent(t.filterName),t.filterValue=t.filterValue?encodeURIComponent(t.filterValue):void 0,t.valueForDisplay=t.valueForDisplay?encodeURIComponent(t.valueForDisplay):void 0,t.keysTranslated=t.keysTranslated,t.messageKey=t.messageKey?encodeURIComponent(t.messageKey):void 0,t.search=t.search?encodeURIComponent(t.search):void 0,t))}}class Dn extends Vl{constructor(n){super(),this.http=n}getStudents(n,t,a,c,u,_=!1){const S={search:null===n?null:encodeURIComponent(n),page:t,pageSize:a,fields:c,includeRemote:u,isScheduler:_};return this.http.post("/ws/selectionservice/selection/student",S).pipe((0,Ht.K)(F=>(0,N.of)({isError:!0,error:F})))}searchStudents(n,t,a,c,u){const _={search:null===n?null:encodeURIComponent(n),page:t,pageSize:a,fields:c,includeRemote:u};return this.http.post("/ws/selectionservice/selection/student/smartsearch",_)}getCurrentStudentSelection(n,t,a){let c=new W.LE;return c=c.set("page",n),c=c.set("pageSize",t),a&&(c=c.set("fields",a)),this.http.get("/ws/selectionservice/currentselection/student",{params:c})}getCurrentStudentSelectionIds(){return this.http.get("/ws/selectionservice/currentselection/student/ids")}setStudentSelectionBySearch(n,t,a,c,u,_,S=!1){const F={mode:n,search:encodeURIComponent(t),page:a,pageSize:c,fields:u,includeRemote:_,isScheduler:S};return this.http.post("/ws/selectionservice/currentselection/student",F).pipe((0,Ht.K)(j=>(0,N.of)({isError:!0,error:j})))}setStudentSelectionByFilters(n,t,a,c,u,_=!1){const S={filters:this.getEncodedFilters(n),page:t,pageSize:a,fields:c,includeRemote:u,isScheduler:_};return this.http.post("/ws/selectionservice/currentselection/student",S).pipe((0,Ht.K)(F=>(0,N.of)({isError:!0,error:F})))}alterStudentSelectionUsingSearch(n,t,a,c,u,_,S,F=!1){const j={mode:n,search:encodeURIComponent(t),omitIds:"["+a.join()+"]",page:c,pageSize:u,fields:_,includeRemote:S,isScheduler:F};return this.http.post("/ws/selectionservice/currentselection/student",j).pipe((0,Ht.K)(ue=>(0,N.of)({isError:!0,error:ue})))}alterStudentSelectionUsingIds(n,t,a,c,u){const _={mode:n,ids:"["+t.join()+"]",page:a,pageSize:c,fields:u};return this.http.post("/ws/selectionservice/currentselection/student",_).pipe((0,Ht.K)(S=>(0,N.of)({isError:!0,error:S})))}updateStudentFilters(n,t=!1){return this.http.post("/ws/selectionservice/currentselection/student/filters",{filters:this.getEncodedFilters(n),isScheduler:t})}checkStudentSelectionUpdated(n){return this.http.post("/ws/selectionservice/currentselection/student/updated",n)}}Dn.\u0275fac=function(n){return new(n||Dn)(e.LFG(W.eN))},Dn.\u0275prov=e.Yz7({token:Dn,factory:Dn.\u0275fac});const wv=["searchMenu"],Hl=["searchInput"],Zl=["multiselectadvanced"];class rr{constructor(n){this.translationService=n,this.advancedMode=!1,this.filterAdded=new e.vpe,this.currentSelectFieldDisplayValue="",this.currentSelectFieldValues=[],this.customFieldsStyles=JSON.stringify({dropDownButton:{"margin-inline-start":0,flex:"1 0 auto",display:"flex"},dropDownButtonList:{margin:"27px 0 0","margin-inline-start":0},dropDown:{margin:0,"padding-top":0,"padding-bottom":0,"padding-inline-start.px":5}}),this.customOptionsStyles=JSON.stringify({dropDownButton:{"margin-inline-start":0,flex:"1 0 auto",display:"flex"},dropDownButtonList:{margin:"27px 0 0","margin-inline-start":0},dropDown:{margin:0,"padding-top":0,"padding-bottom":0,"padding-inline-start.px":5}}),this.searchFilter="",this.selectionValues={usedSearchTypeFields:[],usedSearchTypeFieldsDisplay:[],handpickedFolks:[]}}set content(n){this.updateContent(n)}addFilter(){if("boolean"===this.selectedField.type)this.filterAdded.emit({filterName:this.selectedField.name,filterValue:this.selectedField.selected,valueForDisplay:this.selectedField.selected,keysTranslated:this.selectedField.keysTranslated,messageKey:this.selectedField.messageKey});else if("select"===this.selectedField.type)this.currentSelectFieldValues.length>0&&this.filterAdded.emit({filterName:this.selectedField.name,filterValue:`${this.selectedField.name}=${this.currentSelectFieldValues}`,valueForDisplay:this.currentSelectFieldDisplayValue,keysTranslated:this.selectedField.keysTranslated,messageKey:this.selectedField.messageKey});else if("multi"===this.selectedField.type){const n=[];if(this.currentSelectFieldValues.forEach(t=>{n.push(t)}),n.length>0){const t=`${this.selectedField.name} in ${n.join()}`;this.filterAdded.emit({filterName:this.selectedField.name,filterValue:t,valueForDisplay:this.currentSelectFieldDisplayValue,keysTranslated:this.selectedField.keysTranslated,messageKey:this.selectedField.messageKey}),this.selectedField.options.forEach(c=>{c.selected=!1}),this.currentSelectFieldDisplayValue="",this.currentSelectFieldValues=[],this.advancedMode&&this.multiselectadvanced.clearMultiChoices()}}else if("number"===this.selectedField.type){let n=this.searchFilter.trim();if(0===n.length)return;const t=this.selectedComparator?this.selectedComparator.messageKey:"",a=this.selectedComparator?this.selectedComparator.value:"";let c="",u=this.getOperationFromPrefix(n);u.length>0&&(c=n.substring(0,1),n=n.substring(1).trim());const _=n.startsWith("/");_&&(c+=n.substring(0,1),n=n.substring(1).trim());const S={filterName:this.selectedField.name,filterValue:`${_?"/":""} ${this.selectedField.name} ${a} ${n}`,valueForDisplay:`${t} ${c}${n}`,keysTranslated:this.selectedField.keysTranslated,messageKey:this.selectedField.messageKey};u.length>0&&(S.op=u),this.filterAdded.emit(S),this.searchFilter=""}else if("date"===this.selectedField.type){let n=this.searchFilter.trim();if(0===n.length)return;if(this.selectedComparator){const t=`${this.selectedField.name}${this.advancedMode?"Advanced":this.mySearchType}`,a=`${t}_hidden`,c=this.selectedComparator?this.selectedComparator.value:"";let u="";const _=this.getOperationFromPrefix(n);_.length>0&&(u=n.substring(0,1),n=n.substring(1).trim());const S=n.startsWith("/");S&&(u+=n.substring(0,1),n=n.substring(1).trim());const F={filterName:this.selectedField.name,filterValue:`${S?"/":""} ${this.selectedField.name} ${c} ${n}`,valueForDisplay:`${c} ${u}${n}`,keysTranslated:this.selectedField.keysTranslated,messageKey:this.selectedField.messageKey};_.length>0&&(F.op=_),this.filterAdded.emit(F),this.searchFilter="";const j=new Date;$j(`#${a}`).val(get_localized_date(j)),$j(`#${t}`).val("")}}else if("string"===this.selectedField.type){let n=this.searchFilter.trim(),t="",a="";const c=this.selectedComparator?this.selectedComparator.messageKey:"",u=this.selectedComparator?this.selectedComparator.value:"",_={filterName:this.selectedField.name,filterValue:t,keysTranslated:this.selectedField.keysTranslated,messageKey:this.selectedField.messageKey};let S=this.getOperationFromPrefix(n);if(S.length>0&&(_.op=S,a=n.substring(0,1),n=n.substring(1).trim()),"all"!==this.selectedField.name){const F=n.startsWith("/");F&&(a+=n.substring(0,1),n=n.substring(1).trim()),""===u?n.startsWith("=")||n.toLowerCase().startsWith("in ")||n.startsWith("#")?t=n:n.endsWith("@")||n.startsWith("@")?t="="+n:(t="="+n,t+="@"):t=n,t=`${F?"/":""} ${this.selectedField.name} ${u} ${t}`,_.valueForDisplay=(c.length>0?`${c} `:"")+`${a}${n}`}else t=n,_.valueForDisplay=`${a}${n}`,this.selectionValues.usedSearchTypeFields.push(this.selectedField.name);_.filterValue=t.trim(),this.filterAdded.emit(_),this.searchFilter=""}}updateContent(n){this.searchInput=n}selectField(n,t){!t&&this.selectedField===n||(("select"===this.selectedField.type||"multi"===this.selectedField.type)&&this.selectedField.options.forEach(a=>{a.selected=!1}),this.selectedField=n,this.searchFilter="","select"===this.selectedField.type||"multi"===this.selectedField.type?this.clearSelectedMultiField():"date"===this.selectedField.type?this.clearSelectedDateField():("number"===this.selectedField.type||"string"===this.selectedField.type)&&this.clearSelectedStringField())}clearSelectedMultiField(){this.selectedField.options.forEach(n=>{n.selected=!1}),this.currentSelectFieldValues=[],this.currentSelectFieldDisplayValue="",this.advancedMode&&this.multiselectadvanced&&this.multiselectadvanced.clearMultiChoices()}clearSelectedDateField(){this.selectedComparator=this.selectedField.comparators&&this.selectedField.comparators.length>0?this.selectedField.comparators[0]:null,initBehaviors(),setTimeout(()=>{const n=`${this.selectedField.name}${this.advancedMode?"Advanced":this.mySearchType}`,t=`${n}_error`,a=`${n}_hidden`,c=get_date_text();$j(`#${n}`).val(""),$j(`#${n}`).attr("placeholder",c),$j(`#${t}`)&&$j(`#${t}`).text(""),$j(`#${a}`).on("input",function(){$j(`#${n}`).val($j(`#${a}`).val()),$j(`#${t}`).text("")})})}clearSelectedStringField(){this.selectedComparator=this.selectedField.comparators&&this.selectedField.comparators.length>0?this.selectedField.comparators[0]:null}clearSelectedFieldInAdvanced(){if(this.advancedMode&&(this.searchFilter="",this.selectedField))switch(this.selectedField.type){case"select":break;case"multi":this.clearSelectedMultiField();break;case"date":this.clearSelectedDateField();break;case"number":case"string":this.clearSelectedStringField()}}toggleFocus(n){this.inputHasFocus=n}updateSelectFieldValue(n){if(n instanceof Array){const t=[];this.currentSelectFieldValues=[],n.forEach(a=>{this.selectedField.keysTranslated||a.keysTranslated?(t.push(a.messageKey),this.currentSelectFieldValues.push(a.value)):this.translationService.get(a.messageKey).subscribe(c=>{t.push(c),this.currentSelectFieldValues.push(a.value)})}),this.currentSelectFieldDisplayValue=t.join(", ")}else this.currentSelectFieldValues=[],this.currentSelectFieldValues.push(n.value),this.selectedField.keysTranslated||n.keysTranslated?this.currentSelectFieldDisplayValue=n.messageKey:this.translationService.get(n.messageKey).subscribe(t=>{this.currentSelectFieldDisplayValue=t})}updateSelectedComparator(n){this.selectedComparator=n}getOperationFromPrefix(n){let t=n.charAt(0);return"&"===t?"intersect":"+"===t?"add":""}findField(n,t){const a=n.findIndex(c=>c.name===t);return a>=0?n[a]:null}getOptionDisplayValue(n,t){let a="";const c=n.options.findIndex(_=>"string"==typeof _.value?_.value===t:"number"==typeof _.value?_.value===parseInt(t):void 0),u=n.options[c];return n.keysTranslated||u.keysTranslated?a=u.messageKey:this.translationService.get(u.messageKey).subscribe(_=>{a=_}),a}getQuickLinkFilter(n,t){let a,c="",u="";if(0===t.search("gender=")){a=this.findField(n,"gender"),c=t;const _=t.replace("gender=","");u=this.getOptionDisplayValue(a,_)}else if(0===t.search("grade_level=")){a=this.findField(n,"grade_level"),c=t;const _=t.replace("grade_level=","");u=this.getOptionDisplayValue(a,_)}else if(0===t.search("staffStatus=")){a=this.findField(n,"staffStatus"),c=t;const _=t.replace("staffStatus=","");u=this.getOptionDisplayValue(a,_)}else"all"===t?a=this.findField(n,"all"):(a=this.findField(n,"all"),c=t,u=t);return a?(this.advancedMode?this.clearSelectedFieldInAdvanced():this.selectField(a,!0),{filterName:a.name,filterValue:c,op:"set",valueForDisplay:u,keysTranslated:a.keysTranslated,messageKey:a.messageKey}):null}dateChanged(n){this.validateDateUsingWidget(!1)}dateUpdated(n){this.validateDateUsingWidget(!0)}validateDateUsingWidget(n){const t=`${this.selectedField.name}${this.advancedMode?"Advanced":this.mySearchType}`,a=`${t}_error`,c=`${t}_hidden`,u=`${c}_error`;if(n&&0==$j(`#${a}`).text().length)return;let _=this.searchFilter.trim();0!==_.length?(_=this.getDateFromSearchString(_),$j(`#${c}`).val(_),validateDate($j(`#${c}`)),setTimeout(()=>{$j(`#${u}`)&&($j(`#${a}`).text($j(`#${u}`).text()),$j(`#${u}`).remove())})):$j(`#${a}`).text("")}getDateFromSearchString(n){let t=n.trim();return this.getOperationFromPrefix(n).length>0&&(t=t.substring(1).trim()),t.startsWith("/")&&(t=t.substring(1).trim()),t}}rr.\u0275fac=function(n){return new(n||rr)(e.Y36(Kt.h))},rr.\u0275cmp=e.Xpm({type:rr,selectors:[["base-advanced-searchbar"]],viewQuery:function(n,t){if(1&n&&(e.Gf(wv,5),e.Gf(Hl,5),e.Gf(Zl,5)),2&n){let a;e.iGM(a=e.CRH())&&(t.searchMenu=a.first),e.iGM(a=e.CRH())&&(t.content=a.first),e.iGM(a=e.CRH())&&(t.multiselectadvanced=a.first)}},inputs:{mySearchType:"mySearchType",advancedMode:"advancedMode"},outputs:{filterAdded:"filterAdded"},features:[e._Bn([Pn,Dn])],decls:0,vars:0,template:function(n,t){},styles:[".searchbar_container[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:row}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]{display:flex;flex:1 0 auto}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]{display:flex;margin:auto 20px;width:100%}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;margin:auto 20px;padding:3px 10px;background-color:#d3d3d3;border-radius:4px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0;-webkit-margin-start:20px;margin-inline-start:20px;border-radius:4px;border:1px solid lightgray}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:100%;padding:0 10px;-webkit-margin-end:10px;margin-inline-end:10px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   #studentSearchInput[_ngcontent-%COMP%], .searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   #teacherSearchInput[_ngcontent-%COMP%], .searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0;border-radius:4px;border:1px solid lightgray}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-with-drop[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:100%;padding:0 10px;display:flex}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-with-drop[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0;border-radius:4px;border:1px solid lightgray;-webkit-margin-start:20px;margin-inline-start:20px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:50%;padding:0 10px;-webkit-margin-end:10px;margin-inline-end:10px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:30px;padding:0;border-radius:4px;border:1px solid lightgray}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half-with-drop[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:50%;padding:0 10px;display:flex}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half-with-drop[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:115px;height:30px;padding:0;border-radius:4px;border:1px solid lightgray;-webkit-margin-start:20px;margin-inline-start:20px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half-with-drop[_ngcontent-%COMP%]   .adjusted-error-message[_ngcontent-%COMP%]{display:block;margin:0;-webkit-margin-start:20px;margin-inline-start:20px}.searchbar_container[_ngcontent-%COMP%]   .addField[_ngcontent-%COMP%]{margin:0 10px;-webkit-margin-start:0;margin-inline-start:0;padding:5px;height:32px;width:32px}.searchbar_container[_ngcontent-%COMP%]   .addField[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;margin:0;height:20px;width:20px}.searchbar_container[_ngcontent-%COMP%]   .searchbarHelp[_ngcontent-%COMP%]{margin:0;padding:0;height:30px;width:30px}.searchbar_container[_ngcontent-%COMP%]   .searchbarHelp[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;margin:5px;height:20px;width:20px}.search-links[_ngcontent-%COMP%]{background-color:#eee;margin:10px;padding:0 10px;-webkit-padding-start:5px;padding-inline-start:5px;border-radius:4px}.search-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 10px}.search-links[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{-webkit-margin-start:15px;margin-inline-start:15px;vertical-align:text-bottom}.search-links[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-margin-end:-10px;margin-inline-end:-10px;vertical-align:middle}.search-links[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding:0;margin:0}.search-links[_ngcontent-%COMP%]   pss-dropdownbutton[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{-webkit-margin-start:20px;margin-inline-start:20px}.search-links[_ngcontent-%COMP%]   pss-dropdownbutton[_ngcontent-%COMP%] + input[type=checkbox][_ngcontent-%COMP%]{-webkit-margin-start:30px;margin-inline-start:30px}.search-links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0}.staff-search-links[_ngcontent-%COMP%], .student-search-links[_ngcontent-%COMP%]{min-height:30px}.contact-search-links[_ngcontent-%COMP%]{min-height:40px}div.quick-search-links[_ngcontent-%COMP%]{min-height:30px;line-height:30px;padding:0;margin:0}div.quick-search-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;height:30px;line-height:30px;min-width:.75em;border-radius:4px;text-align:center;padding:0 .4em}div.quick-search-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3bfcc}div.quick-search-links[_ngcontent-%COMP%]   a.letter-link[_ngcontent-%COMP%]{min-width:20px;padding:0}.search-results[_ngcontent-%COMP%]{position:fixed;z-index:200;min-width:80px;width:auto;overflow:hidden;text-align:start;border:1px solid #aaaaaa;background-color:#fff;box-shadow:0 5px 10px #0006;border-radius:4px;display:none}.search-results.showResults[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:400px;overflow:auto}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:-ms-grid;-ms-grid-columns:minmax(25%,1fr) 60px;-ms-grid-rows:30px 30px;display:grid;grid-template-columns:minmax(25%,1fr) 60px;grid-template-rows:30px 30px;white-space:nowrap}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#a3bfcc;cursor:pointer}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .staff-name[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .student-name[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:1;-ms-grid-column:1;-ms-grid-column-span:1;grid-column-start:1;grid-column-end:1;grid-row-start:1;grid-row-end:1;margin:10px 10px 3px}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .staff-info[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]{-ms-grid-row:2;-ms-grid-row-span:1;-ms-grid-column:1;-ms-grid-column-span:1;grid-column-start:1;grid-column-end:1;grid-row-start:2;grid-row-end:2;margin:3px 10px 10px}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .addButton[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:2;-ms-grid-column:2;-ms-grid-column-span:2;grid-column-start:2;grid-column-end:2;grid-row-start:1;grid-row-end:3;padding:15px}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .addButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;height:28px;width:28px}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .addButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{height:100%;width:100%;fill:#fff}"]});class Fi extends Vl{constructor(n){super(),this.http=n}getTeachers(n,t,a,c){const u={search:encodeURIComponent(n),staffStatus:t,page:a,pageSize:c};return this.http.post("/ws/selectionservice/selection/teacher",u).pipe((0,Ht.K)(_=>(0,N.of)({isError:!0,error:_})))}searchUsers(n,t,a,c){return this.http.post("/ws/selectionservice/selection/user/smartsearch",{search:encodeURIComponent(n),staffStatus:t,page:a,pageSize:c})}getCurrentStaffSelectionIds(){return this.http.get("/ws/selectionservice/currentselection/teacher/ids")}getCurrentTeacherSelection(n,t){return this.http.get("/ws/selectionservice/currentselection/teacher",{params:{page:n,pageSize:t}})}setTeacherSelectionBySearch(n,t,a,c){const u={mode:"set",search:encodeURIComponent(n),staffStatus:t,page:a,pageSize:c};return this.http.post("/ws/selectionservice/currentselection/teacher",u).pipe((0,Ht.K)(_=>(0,N.of)({isError:!0,error:_})))}alterTeacherSelectionUsingSearch(n,t,a,c,u,_){const S={mode:n,search:encodeURIComponent(t),staffStatus:a,omitIds:"["+c.join()+"]",page:u,pageSize:_};return this.http.post("/ws/selectionservice/currentselection/teacher",S).pipe((0,Ht.K)(F=>(0,N.of)({isError:!0,error:F})))}alterTeacherSelectionUsingFilters(n,t,a,c,u){const _={filters:this.getEncodedFilters(n),staffStatus:t,omitIds:a?"["+a.join()+"]":"[]",page:c,pageSize:u};return this.http.post("/ws/selectionservice/currentselection/teacher",_).pipe((0,Ht.K)(S=>(0,N.of)({isError:!0,error:S})))}alterTeacherSelectionUsingIds(n,t,a,c){const u={mode:n,ids:"["+t.join()+"]",page:a,pageSize:c};return this.http.post("/ws/selectionservice/currentselection/teacher",u).pipe((0,Ht.K)(_=>(0,N.of)({isError:!0,error:_})))}updateStaffFilters(n){return this.http.post("/ws/selectionservice/currentselection/teacher/filters",{filters:this.getEncodedFilters(n)})}checkStaffSelectionUpdated(n){return this.http.post("/ws/selectionservice/currentselection/teacher/updated",n)}}Fi.\u0275fac=function(n){return new(n||Fi)(e.LFG(W.eN))},Fi.\u0275prov=e.Yz7({token:Fi,factory:Fi.\u0275fac});const Us="use_current_selection",$s="contact_active_status",jl="access_account_status";class ko{constructor(n){this.http=n}getParents(n,t,a,c,u){return this.http.post("/ws/selectionservice/selection/guardian",{lastName:t,firstName:n,email:a,page:c,pageSize:u})}searchForContacts(n,t,a){let c=new W.LE;return c=c.set("page",n),c=c.set("pagesize",t),c=c.set("count","true"),a[Us]&&!0===a[Us]&&(c=c.set("dofor","selection:selectedstudents")),this.http.post("/ws/schema/query/com.powerschool.core.contacts.contact_search2",a,{params:c}).pipe((0,Ht.K)(u=>(0,N.of)({isError:!0,error:u})))}setSelectedContactIds(n){return this.http.post("/ws/contacts/selectedContactIds",n)}}ko.\u0275fac=function(n){return new(n||ko)(e.LFG(W.eN))},ko.\u0275prov=e.Yz7({token:ko,factory:ko.\u0275fac});const Hu=["dropDownButton"];function N_(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.uIk("id","dropDownButton_"+t.id+"_text"),e.xp6(1),e.Oqu(t.currentChoice.messageKey)}}function L_(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=e.oxw();e.uIk("id","dropDownButton_"+t.id+"_text"),e.xp6(1),e.Oqu(e.lcZ(2,2,t.currentChoice.messageKey))}}function Zu(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.messageKey)}}function R_(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.messageKey))}}const Mv=function(r,n){return{highlighted:r,selected:n}};function B_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",8),e.NdJ("keyup.arrowdown",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.traverseDownList(c))})("keyup.arrowup",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.traverseUpList(c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleTabKey(c))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleEnterKey(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleTabKey(c))})("mouseover",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(2);return e.KtG(_.handleMouseOver(c,u))})("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.updateChoice(c))}),e._UZ(1,"span"),e.YNc(2,Zu,2,1,"ng-container",3),e.YNc(3,R_,3,3,"ng-container",3),e.qZA()}if(2&r){const t=e.oxw(),a=t.index,c=t.$implicit,u=e.oxw(2);e.hYB("id","dropDownButton_",u.id,"_",a,""),e.Q6J("ngClass",e.WLB(6,Mv,u.highlightedIndex===a,c===u.currentChoice)),e.uIk("aria-labelledBy","dropDownButton_"+u.id+"_"+a+"_text"),e.xp6(2),e.Q6J("ngIf",u.keysTranslated||c.keysTranslated),e.xp6(1),e.Q6J("ngIf",!u.keysTranslated&&!c.keysTranslated)}}function V_(r,n){if(1&r&&(e.ynx(0),e.YNc(1,B_,4,9,"li",7),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",""!==t.value)}}const ju=function(r){return{concealed:r}};function H_(r,n){if(1&r&&(e.TgZ(0,"ul",5),e.YNc(1,V_,2,1,"ng-container",6),e.qZA()),2&r){const t=e.oxw();e.Q6J("ngStyle",t.customStyle?t.customStyle.dropDownButtonList:"")("ngClass",e.VKq(3,ju,!t.showMenu)),e.xp6(1),e.Q6J("ngForOf",t.choices)}}function Sv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"input",11),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2).$implicit;return e.KtG(u.selected=c)})("change",function(){e.CHM(t);const c=e.oxw(2).$implicit,u=e.oxw(2);return e.KtG(u.updateChoice(c))}),e.qZA(),e.TgZ(2,"label",12),e._uU(3),e.qZA()()}if(2&r){const t=e.oxw(2),a=t.index,c=t.$implicit,u=e.oxw(2);e.xp6(1),e.hYB("id","dropDownButton_",u.id,"_checkbox_",a,""),e.Q6J("ngModel",c.selected),e.xp6(1),e.MGl("for","option_",a,""),e.uIk("id","dropDownButton_"+u.id+"_"+a+"_text"),e.xp6(1),e.Oqu(c.messageKey)}}function Z_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"input",11),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2).$implicit;return e.KtG(u.selected=c)})("change",function(){e.CHM(t);const c=e.oxw(2).$implicit,u=e.oxw(2);return e.KtG(u.updateChoice(c))}),e.qZA(),e.TgZ(2,"label",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&r){const t=e.oxw(2),a=t.index,c=t.$implicit,u=e.oxw(2);e.xp6(1),e.hYB("id","dropDownButton_",u.id,"_checkbox_",a,""),e.Q6J("ngModel",c.selected),e.xp6(1),e.MGl("for","option_",a,""),e.uIk("id","dropDownButton_"+u.id+"_"+a+"_text"),e.xp6(1),e.Oqu(e.lcZ(4,6,c.messageKey))}}const j_=function(r){return{highlighted:r}};function Uu(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",10),e.NdJ("keyup.arrowdown",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.traverseDownList(c))})("keyup.arrowup",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.traverseUpList(c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleTabKey(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleTabKey(c))})("keydown.space",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(2);return e.KtG(_.handleSpaceKey(c,u))})("mouseover",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(2);return e.KtG(_.handleMouseOver(c,u))})("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.updateChoice(c,!c.selected))}),e.YNc(1,Sv,4,6,"span",3),e.YNc(2,Z_,5,8,"span",3),e.qZA()}if(2&r){const t=e.oxw(),a=t.index,c=t.$implicit,u=e.oxw(2);e.hYB("id","dropDownButton_",u.id,"_",a,""),e.Q6J("ngClass",e.VKq(6,j_,u.highlightedIndex===a)),e.uIk("aria-labelledBy","dropDownButton_"+u.id+"_"+a+"_text"),e.xp6(1),e.Q6J("ngIf",u.keysTranslated||c.keysTranslated),e.xp6(1),e.Q6J("ngIf",!u.keysTranslated&&!c.keysTranslated)}}function Ul(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Uu,3,8,"li",9),e.BQk()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",""!==t.value)}}function $u(r,n){if(1&r&&(e.TgZ(0,"ul",5),e.YNc(1,Ul,2,1,"ng-container",6),e.qZA()),2&r){const t=e.oxw();e.Q6J("ngStyle",t.customStyle?t.customStyle.dropDownButtonList:"")("ngClass",e.VKq(3,ju,!t.showMenu)),e.xp6(1),e.Q6J("ngForOf",t.choices)}}class sr{constructor(n,t){this.eRef=n,this.renderer=t,this.isMultiSelect=!1,this.keysTranslated=!1,this.selectedChoice=new e.vpe,this.showMenu=!1,this.multiSelectedChoices=[],this.isDisabled=!1,this.highlightedIndex=0}set updateCustomStyles(n){this.customStyle=n&&""!==n?JSON.parse(n):""}set updateChoices(n){n!==this.choices&&(this.multiSelectedChoices=[],this.choices=n,this.currentChoice=this.choices[0],this.isDisabled=!n||0===n.length)}ngOnInit(){if(!this.isMultiSelect){let n=this.choices.filter(t=>!0===t.selected);n&&n.length>0&&(this.currentChoice=n[0])}this.choices&&0!==this.choices.length?""===this.choices[0].value&&(this.highlightedIndex=1):this.isDisabled=!0}clickout(n){!this.eRef.nativeElement.contains(n.target)&&this.showMenu&&(this.showMenu=!1,this.highlightedIndex=0,this.button.nativeElement.focus(),document.removeEventListener("click",t=>this.clickout(t),!0),window.removeEventListener("keydown",this.handleArrowKeys,!1))}updateChoice(n,t){if(this.isMultiSelect){if(null!=t&&(n.selected=t),n.selected)this.multiSelectedChoices.includes(n)||this.multiSelectedChoices.push(n);else if(this.multiSelectedChoices.includes(n)){const a=this.multiSelectedChoices.findIndex(c=>c===n);a>-1&&this.multiSelectedChoices.splice(a,1)}this.selectedChoice.emit(this.multiSelectedChoices)}else this.currentChoice=n,this.selectedChoice.emit(n),this.showMenu=!1,this.button.nativeElement.focus(),this.highlightedIndex=""===this.choices[0].value?1:this.choices.indexOf(this.currentChoice),document.removeEventListener("click",a=>this.clickout(a),!0),window.removeEventListener("keydown",this.handleArrowKeys,!1)}toggleMenu(n,t){n.stopPropagation(),this.showMenu=!this.showMenu,this.showMenu&&!t?(this.button.nativeElement.focus(),setTimeout(()=>{const a=document.getElementById(`dropDownButton_${this.id}_${this.highlightedIndex}`);a&&a.focus({preventScroll:!0})},0),window.addEventListener("keydown",this.handleArrowKeys,!1),document.addEventListener("click",a=>this.clickout(a),!0)):(this.button.nativeElement.focus(),this.highlightedIndex=0,""===this.choices[0].value&&(this.highlightedIndex=1),window.removeEventListener("keydown",this.handleArrowKeys,!1),document.removeEventListener("click",a=>this.clickout(a),!0))}handleArrowKeys(n){[32,37,38,39,40].indexOf(n.keyCode)>-1&&n.preventDefault()}handleTabKey(n){this.toggleMenu(n),n.shiftKey&&this.button.nativeElement.focus()}handleEnterKey(n){this.showMenu?this.isMultiSelect||this.updateChoice(this.choices[this.highlightedIndex]):this.toggleMenu(n),n.preventDefault()}handleSpaceKey(n,t){t.selected=!t.selected,this.updateChoice(t),n.preventDefault()}traverseDownList(n){this.highlightedIndex+1<this.choices.length&&(this.highlightedIndex++,document.getElementById(`dropDownButton_${this.id}_${this.highlightedIndex}`).focus({preventScroll:!0})),n.preventDefault()}traverseUpList(n){n.preventDefault(),this.highlightedIndex-1>=(""===this.choices[0].value?1:0)&&(this.highlightedIndex--,document.getElementById(`dropDownButton_${this.id}_${this.highlightedIndex}`).focus({preventScroll:!0}))}handleMouseOver(n,t){this.highlightedIndex=t,document.getElementById(`dropDownButton_${this.id}_${this.highlightedIndex}`).focus({preventScroll:!0})}clearMultiChoices(){this.multiSelectedChoices=[]}}sr.\u0275fac=function(n){return new(n||sr)(e.Y36(e.SBq),e.Y36(e.Qsj))},sr.\u0275cmp=e.Xpm({type:sr,selectors:[["pss-dropdownbutton"]],viewQuery:function(n,t){if(1&n&&e.Gf(Hu,5),2&n){let a;e.iGM(a=e.CRH())&&(t.button=a.first)}},inputs:{updateCustomStyles:["customStyle","updateCustomStyles"],id:"id",isMultiSelect:"isMultiSelect",keysTranslated:"keysTranslated",updateChoices:["choices","updateChoices"]},outputs:{selectedChoice:"selectedChoice"},decls:7,vars:10,consts:[[1,"dropDownButton",3,"id","ngStyle","keydown.esc"],["type","button",1,"dropdown",3,"id","disabled","ngStyle","keydown.esc","keydown.enter","click"],["dropDownButton",""],[4,"ngIf"],["class","dropDownList",3,"ngStyle","ngClass",4,"ngIf"],[1,"dropDownList",3,"ngStyle","ngClass"],[4,"ngFor","ngForOf"],["class","list-item","tabindex","-1",3,"id","ngClass","keyup.arrowdown","keyup.arrowup","keydown.shift.tab","keydown.enter","keydown.tab","mouseover","click",4,"ngIf"],["tabindex","-1",1,"list-item",3,"id","ngClass","keyup.arrowdown","keyup.arrowup","keydown.shift.tab","keydown.enter","keydown.tab","mouseover","click"],["class","list-item","tabindex","-1",3,"id","ngClass","keyup.arrowdown","keyup.arrowup","keydown.shift.tab","keydown.tab","keydown.space","mouseover","click",4,"ngIf"],["tabindex","-1",1,"list-item",3,"id","ngClass","keyup.arrowdown","keyup.arrowup","keydown.shift.tab","keydown.tab","keydown.space","mouseover","click"],["type","checkbox",3,"id","ngModel","ngModelChange","change"],[3,"for"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("keydown.esc",function(c){return t.toggleMenu(c,!0)}),e.TgZ(1,"button",1,2),e.NdJ("keydown.esc",function(c){return t.toggleMenu(c,!0)})("keydown.enter",function(c){return t.handleEnterKey(c)})("click",function(c){return t.toggleMenu(c)}),e.YNc(3,N_,2,2,"span",3),e.YNc(4,L_,3,4,"span",3),e.qZA(),e.YNc(5,H_,2,5,"ul",4),e.YNc(6,$u,2,5,"ul",4),e.qZA()),2&n&&(e.MGl("id","dropDownButtonContainer_",t.id,""),e.Q6J("ngStyle",t.customStyle?t.customStyle.dropDownButton:""),e.xp6(1),e.MGl("id","dropDownButton__",t.id,""),e.Q6J("disabled",t.isDisabled)("ngStyle",t.customStyle?t.customStyle.dropDown:""),e.uIk("aria-labelledBy","dropDownButton_"+t.id+"_text"),e.xp6(2),e.Q6J("ngIf",t.keysTranslated||t.currentChoice&&t.currentChoice.keysTranslated),e.xp6(1),e.Q6J("ngIf",!t.keysTranslated&&t.currentChoice&&!t.currentChoice.keysTranslated),e.xp6(1),e.Q6J("ngIf",!t.isMultiSelect),e.xp6(1),e.Q6J("ngIf",t.isMultiSelect))},dependencies:[Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,H.PC,Bt.X$],styles:['div.dropDownButton[_ngcontent-%COMP%]{display:inline-block;margin-inline:10px -10px}div.dropDownButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;overflow:hidden;line-height:1.18em;color:#000;-webkit-padding-end:35px;padding-inline-end:35px;border:1px solid #aaaaaa;height:32px;background-color:#fff}div.dropDownButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;background:url(/scripts/angular/select.711b39c82fba77ec.svg);width:100%;height:100%;inset-block:0;inset-inline:0;background-color:transparent;background-size:30px 30px;background-position:100% 100%;background-repeat:no-repeat;background-origin:border-box}div.dropDownButton[_ngcontent-%COMP%]   ul.dropDownList[_ngcontent-%COMP%]{position:absolute;z-index:200;height:auto;min-width:80px;width:auto;margin-block:-5px 0;margin-inline:0 10px;overflow:hidden;text-align:start;border:1px solid #aaaaaa;background-color:#fff;box-shadow:0 5px 10px #0006;border-radius:4px}div.dropDownButton[_ngcontent-%COMP%]   ul.dropDownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 10px}']});const U_=["searchTypeButton"],$_=function(r,n){return{highlighted:r,selected:n}};function G_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("keyup.arrowdown",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.traverseDownList(c))})("keyup.arrowup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.traverseUpList(c))})("mouseover",function(c){const _=e.CHM(t).index,S=e.oxw();return e.KtG(S.handleMouseOver(c,_))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleEnterKey(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleTabKey(c))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.updateChoice(u))}),e._UZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&r){const t=n.$implicit,a=n.index,c=e.oxw();e.MGl("id","search_type_",t,""),e.Q6J("ngClass",e.WLB(5,$_,c.highlightedIndex===a,c.searchChoice===t)),e.xp6(2),e.hij("",e.lcZ(3,3,"psx.js.angular.searchswitch_component."+t)," ")}}const q_=function(r){return{modal:r}},K_=function(r){return{contacts:r}},J_=function(r){return{concealed:r}};class ar{constructor(n,t){this.eRef=n,this.availableSearchTypes=[],this.modal=!1,this.searchChoiceChange=new e.vpe,this.showMenu=!1,this.SEARCH_CHOICES=ke,this.highlightedIndex=0,t.getPSSTranslations("psx.js.angular.searchswitch_component","psx.js.angular.searchswitch_component.contacts")}ngOnInit(){}clickout(n){this.eRef.nativeElement.contains(n.target)||(this.showMenu=!1,document.removeEventListener("click",t=>this.clickout(t),!0),window.removeEventListener("keydown",this.handleArrowKeys,!1))}updateChoice(n){n!==this.searchChoice&&(this.searchChoice=n.trim(),this.searchChoiceChange.emit(n)),this.showMenu=!1,document.removeEventListener("click",t=>this.clickout(t),!0),window.removeEventListener("keydown",this.handleArrowKeys,!1)}toggleMenu(n){n.stopPropagation(),this.showMenu=!this.showMenu,this.showMenu?(setTimeout(()=>{document.getElementById(`search_type_${this.availableSearchTypes[this.availableSearchTypes.indexOf(this.searchChoice)]}`).focus()},0),window.addEventListener("keydown",this.handleArrowKeys,!1),document.addEventListener("click",t=>this.clickout(t),!0),this.highlightedIndex=this.availableSearchTypes.indexOf(this.searchChoice)):(window.removeEventListener("keydown",this.handleArrowKeys,!1),document.removeEventListener("click",t=>this.clickout(t),!0),this.highlightedIndex=0,this.button.nativeElement.focus())}handleArrowKeys(n){[32,37,38,39,40].indexOf(n.keyCode)>-1&&n.preventDefault()}handleEnterKey(n){this.showMenu?this.updateChoice(this.availableSearchTypes[this.highlightedIndex]):this.toggleMenu(n),n.preventDefault()}handleTabKey(n){this.toggleMenu(n),n.shiftKey&&this.button.nativeElement.focus()}traverseDownList(n){this.highlightedIndex+1<this.availableSearchTypes.length&&(this.highlightedIndex++,document.getElementById(`search_type_${this.availableSearchTypes[this.highlightedIndex]}`).focus({preventScroll:!0})),n.preventDefault()}traverseUpList(n){n.preventDefault(),this.highlightedIndex-1>=0&&(this.highlightedIndex--,document.getElementById(`search_type_${this.availableSearchTypes[this.highlightedIndex]}`).focus({preventScroll:!0}))}handleMouseOver(n,t){this.highlightedIndex=t,document.getElementById(`search_type_${this.availableSearchTypes[this.highlightedIndex]}`).focus({preventScroll:!0})}}function cr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-searchswitch",15),e.NdJ("searchChoiceChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchChoice(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("modal",t.modal)("searchChoice",t.searchType)("availableSearchTypes",t.availableSearchTypes)}}function Ov(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-dropdownbutton",3),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.updateSelectedComparator(c))}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("id",t.selectedField.name+"comparators")("choices",t.selectedField.comparators)("customStyle",t.customOptionsStyles)}}function Tv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.searchFilter=c)})("keyup",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.searchText(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.addFilter())}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.isDisabled)("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy())}}function Gu(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",23),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.searchFilter=c)})("keyup",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.searchText(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.addFilter())}),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy())}}function Gr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",24),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.searchFilter=c)})("keyup",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.searchText(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.addFilter())}),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy())}}function qu(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Gu,1,2,"input",21),e.YNc(2,Gr,1,2,"input",22),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","staff"===t.mySearchType),e.xp6(1),e.Q6J("ngIf","students"===t.mySearchType)}}function Pv(r,n){1&r&&e._UZ(0,"pds-icon",42)}function Ku(r,n){1&r&&e._UZ(0,"pds-icon",43)}function lw(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.schoolAbbreviation)}}function dw(r,n){1&r&&e._UZ(0,"pds-icon",44)}function Dv(r,n){1&r&&e._UZ(0,"pds-icon",45)}function kv(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",33),e.YNc(2,Pv,1,0,"pds-icon",34),e.YNc(3,Ku,1,0,"pds-icon",35),e.qZA(),e.TgZ(4,"div",36),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectStaff(c,u))}),e._uU(5),e.qZA(),e.TgZ(6,"div",37),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectStaff(c,u))}),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.YNc(9,lw,2,1,"span",19),e.qZA(),e.TgZ(10,"div",38),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.addRemovePerson(c,u))}),e.TgZ(11,"button",39),e.NdJ("blur",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(3);return e.KtG(_.handleDropdownTabKay(c,u))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.addRemovePerson(c,u))}),e.YNc(12,dw,1,0,"pds-icon",40),e.YNc(13,Dv,1,0,"pds-icon",41),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index,u=e.oxw(3);e.xp6(2),e.Q6J("ngIf",1==a.status),e.xp6(1),e.Q6J("ngIf",1!=a.status),e.xp6(2),e.Oqu(a.name),e.xp6(3),e.Oqu(a.teacherNumber),e.xp6(1),e.Q6J("ngIf",u.isDistrict),e.xp6(2),e.MGl("id","addRemoveStaff",c,""),e.uIk("aria-label",u.getAriaLabel(a.inSelection)+" "+a.name),e.xp6(1),e.Q6J("ngIf",!a.inSelection),e.xp6(1),e.Q6J("ngIf",a.inSelection)}}function Q_(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",46),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectDBField(c,u))}),e._UZ(2,"pds-icon",47),e.qZA(),e.TgZ(3,"div",48),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectDBField(c,u))}),e._uU(4),e.qZA(),e.TgZ(5,"div",38),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectDBField(c,u))}),e.TgZ(6,"button",49),e.NdJ("blur",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(3);return e.KtG(_.handleDropdownTabKay(c,u))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectDBField(c,u))}),e._UZ(7,"pds-icon",44),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index;e.xp6(4),e.Oqu(a.name),e.xp6(2),e.MGl("id","selectStaffDBField",c,"")}}function Ev(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",46),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.runStoredSearch(c,u))}),e._UZ(2,"pds-icon",9),e.qZA(),e.TgZ(3,"div",48),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.runStoredSearch(c,u))}),e._uU(4),e.qZA(),e.TgZ(5,"div",38),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.runStoredSearch(c,u))}),e.TgZ(6,"button",49),e.NdJ("blur",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(3);return e.KtG(_.handleDropdownTabKay(c,u))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.runStoredSearch(c,u))}),e._UZ(7,"pds-icon",50),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index;e.xp6(4),e.Oqu(a.name),e.xp6(2),e.MGl("id","runStaffStoredSearch",c,"")}}ar.\u0275fac=function(n){return new(n||ar)(e.Y36(e.SBq),e.Y36(Kt.h))},ar.\u0275cmp=e.Xpm({type:ar,selectors:[["pss-searchswitch"]],viewQuery:function(n,t){if(1&n&&e.Gf(U_,5),2&n){let a;e.iGM(a=e.CRH())&&(t.button=a.first)}},inputs:{availableSearchTypes:"availableSearchTypes",searchChoice:"searchChoice",modal:"modal"},outputs:{searchChoiceChange:"searchChoiceChange"},decls:7,vars:13,consts:[["type","button","id","search_switch_btn","tabindex","0",1,"search_switch",3,"ngClass","click","keydown.enter"],["searchTypeButton",""],["name","chevron-down"],[1,"dropDownList",3,"ngClass","keydown.esc"],["class","list-item","tabindex","-1",3,"id","ngClass","keyup.arrowdown","keyup.arrowup","mouseover","keydown.enter","keydown.tab","keydown.shift.tab","click",4,"ngFor","ngForOf"],["tabindex","-1",1,"list-item",3,"id","ngClass","keyup.arrowdown","keyup.arrowup","mouseover","keydown.enter","keydown.tab","keydown.shift.tab","click"]],template:function(n,t){1&n&&(e.TgZ(0,"button",0,1),e.NdJ("click",function(c){return t.toggleMenu(c)})("keydown.enter",function(c){return t.handleEnterKey(c)}),e._uU(2),e.ALo(3,"translate"),e._UZ(4,"pds-icon",2),e.qZA(),e.TgZ(5,"div",3),e.NdJ("keydown.esc",function(c){return t.toggleMenu(c)}),e.YNc(6,G_,4,8,"div",4),e.qZA()),2&n&&(e.Q6J("ngClass",e.VKq(7,q_,t.modal))("ngClass",e.VKq(9,K_,"contacts"===t.searchChoice)),e.xp6(2),e.Oqu(e.lcZ(3,5,"psx.js.angular.searchswitch_component."+t.searchChoice)),e.xp6(3),e.Q6J("ngClass",e.VKq(11,J_,!t.showMenu)),e.xp6(1),e.Q6J("ngForOf",t.availableSearchTypes))},dependencies:[H.mk,H.sg,Bt.X$],styles:["button.search_switch[_ngcontent-%COMP%]{border-start-start-radius:4px;border-end-start-radius:4px;border-start-end-radius:0;border-end-end-radius:0;height:32px;line-height:1.5em;width:auto;margin:0;text-align:start;display:flex;padding:5px 10px}button.search_switch[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:14px;width:14px;padding:0;-webkit-padding-start:20px;padding-inline-start:20px;position:relative;inset-inline-end:0px;top:4px}.dropDownList[_ngcontent-%COMP%]{border-radius:4px;position:absolute;background:white;border:solid 1px lightgray}.dropDownList[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px 8px;-webkit-padding-start:8px;padding-inline-start:8px;display:flex;flex-direction:row;align-items:center}"]});const an=function(r){return{highlight:r}};function Y_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",32),e.NdJ("keydown.shift.enter",function(c){const _=e.CHM(t).$implicit,S=e.oxw(3);return e.KtG(S.addRemovePerson(c,_))})("keydown.enter",function(c){const _=e.CHM(t).$implicit,S=e.oxw(3);return e.KtG(S.selectSearchResult(c,_))})("keyup",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.valueUpdated(c))})("focus",function(){const u=e.CHM(t).index,_=e.oxw(3);return e.KtG(_.handleTabFocus(u))})("keydown.backspace",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleBackspaceKey(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handledEscKey(c))}),e.YNc(1,kv,14,9,"ng-container",19),e.YNc(2,Q_,8,2,"ng-container",19),e.YNc(3,Ev,8,2,"ng-container",19),e.qZA()}if(2&r){const t=n.$implicit,a=n.index,c=e.oxw(3);e.Q6J("id",c.getSmartSearchItemId(a))("ngClass",e.VKq(5,an,c.highlightedIndex===a)),e.xp6(1),e.Q6J("ngIf","staff"===t.type),e.xp6(1),e.Q6J("ngIf","field"===t.type),e.xp6(1),e.Q6J("ngIf","storedSearch"===t.type)}}function Iv(r,n){1&r&&(e.TgZ(0,"span",51),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.searchbar_component.when_autocomplete_results_are_available__staff")))}const z_=function(r){return{0:r}};function W_(r,n){if(1&r&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,"psx.js.angular.searchbar_component.__results_found__staff",e.VKq(4,z_,t.searchResults.length)))}}const X_=function(r){return{showResults:r}};function ef(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",25,26),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.searchFilter=c)})("keyup",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.smartSearch(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.addFilter())})("focus",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleFocus(!0))})("blur",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleFocus(!1))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.handleTabKey(c,!0))}),e.qZA(),e.TgZ(3,"ul",27,28),e.YNc(5,Y_,4,7,"li",29),e.qZA(),e.YNc(6,Iv,3,3,"span",30),e.YNc(7,W_,3,6,"div",31),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.searchFilter),e.xp6(2),e.MGl("id","",t.mySearchType,"Results"),e.Q6J("ngClass",e.VKq(6,X_,t.searchResults.length>0)),e.xp6(2),e.Q6J("ngForOf",t.searchResults),e.xp6(1),e.Q6J("ngIf","staff"===t.mySearchType),e.xp6(1),e.Q6J("ngIf",t.searchResults.length>0)}}function tf(r,n){1&r&&e._UZ(0,"pds-icon",42)}function Gs(r,n){1&r&&e._UZ(0,"pds-icon",43)}function Fv(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.schoolAbbreviation)}}function Av(r,n){1&r&&e._UZ(0,"pds-icon",44)}function nf(r,n){1&r&&e._UZ(0,"pds-icon",45)}function Nv(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",33),e.YNc(2,tf,1,0,"pds-icon",34),e.YNc(3,Gs,1,0,"pds-icon",35),e.qZA(),e.TgZ(4,"div",36),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectStudent(c,u))}),e._uU(5),e.qZA(),e.TgZ(6,"div",37),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectStudent(c,u))}),e.YNc(7,Fv,2,1,"span",19),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"div",57),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.addRemovePerson(c,u))})("blur",function(c){e.CHM(t);const u=e.oxw(4);return e.KtG(u.valueUpdated(c))}),e.TgZ(13,"button",39),e.NdJ("blur",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(3);return e.KtG(_.handleDropdownTabKay(c,u))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.addRemovePerson(c,u))}),e.YNc(14,Av,1,0,"pds-icon",40),e.YNc(15,nf,1,0,"pds-icon",41),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index,u=e.oxw(3);e.xp6(2),e.Q6J("ngIf",0==a.enrollStatus),e.xp6(1),e.Q6J("ngIf",0!=a.enrollStatus),e.xp6(2),e.Oqu(a.lastFirst),e.xp6(2),e.Q6J("ngIf",u.isDistrict),e.xp6(2),e.Oqu(a.studentNumber),e.xp6(2),e.Oqu(a.gradeLevel),e.xp6(2),e.MGl("id","addRemoveStudent",c,""),e.uIk("aria-label",u.getAriaLabel(a.inSelection)+" "+a.lastFirst),e.xp6(1),e.Q6J("ngIf",!a.inSelection),e.xp6(1),e.Q6J("ngIf",a.inSelection)}}function rf(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",46),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectDBField(c,u))}),e._UZ(2,"pds-icon",47),e.qZA(),e.TgZ(3,"div",48),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectDBField(c,u))}),e._uU(4),e.qZA(),e.TgZ(5,"div",38),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectDBField(c,u))}),e.TgZ(6,"button",49),e.NdJ("blur",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(3);return e.KtG(_.handleDropdownTabKay(c,u))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.selectDBField(c,u))}),e._UZ(7,"pds-icon",44),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index;e.xp6(4),e.Oqu(a.name),e.xp6(2),e.MGl("id","selectStudentDBField",c,"")}}function uw(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",46),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.runStoredSearch(c,u))}),e._UZ(2,"pds-icon",9),e.qZA(),e.TgZ(3,"div",48),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.runStoredSearch(c,u))}),e._uU(4),e.qZA(),e.TgZ(5,"div",38),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.runStoredSearch(c,u))}),e.TgZ(6,"button",49),e.NdJ("blur",function(c){e.CHM(t);const u=e.oxw().index,_=e.oxw(3);return e.KtG(_.handleDropdownTabKay(c,u))})("keydown.enter",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.runStoredSearch(c,u))}),e._UZ(7,"pds-icon",50),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(),a=t.$implicit,c=t.index;e.xp6(4),e.Oqu(a.name),e.xp6(2),e.MGl("id","runStudentStoredSearch",c,"")}}function sf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",56),e.NdJ("keydown.enter",function(c){const _=e.CHM(t).$implicit,S=e.oxw(3);return e.KtG(S.selectSearchResult(c,_))})("keydown.shift.enter",function(c){const _=e.CHM(t).$implicit,S=e.oxw(3);return e.KtG(S.addRemovePerson(c,_))})("keyup",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.valueUpdated(c))})("focus",function(){const u=e.CHM(t).index,_=e.oxw(3);return e.KtG(_.handleTabFocus(u))})("keydown.backspace",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handleBackspaceKey(c))})("keydown.esc",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.handledEscKey(c))}),e.YNc(1,Nv,16,10,"ng-container",19),e.YNc(2,rf,8,2,"ng-container",19),e.YNc(3,uw,8,2,"ng-container",19),e.qZA()}if(2&r){const t=n.$implicit,a=n.index,c=e.oxw(3);e.Q6J("id",c.getSmartSearchItemId(a))("ngClass",e.VKq(5,an,c.highlightedIndex===a)),e.xp6(1),e.Q6J("ngIf","student"===t.type),e.xp6(1),e.Q6J("ngIf","field"===t.type),e.xp6(1),e.Q6J("ngIf","storedSearch"===t.type)}}function Ju(r,n){1&r&&(e.TgZ(0,"span",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.searchbar_component.when_autocomplete_results_are_available__student")))}function oo(r,n){if(1&r&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,"psx.js.angular.searchbar_component.__results_found__student",e.VKq(4,z_,t.searchResults.length)))}}function Lv(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",53,26),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.searchFilter=c)})("keyup",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.smartSearch(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.addFilter())})("focus",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleFocus(!0))})("blur",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleFocus(!1))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.handleTabKey(c,!0))}),e.qZA(),e.TgZ(3,"ul",27,28),e.YNc(5,sf,4,7,"li",54),e.qZA(),e.YNc(6,Ju,3,3,"span",55),e.YNc(7,oo,3,6,"div",31),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.searchFilter),e.xp6(2),e.MGl("id","",t.mySearchType,"Results"),e.Q6J("ngClass",e.VKq(6,X_,t.searchResults.length>0)),e.xp6(2),e.Q6J("ngForOf",t.searchResults),e.xp6(1),e.Q6J("ngIf","students"===t.mySearchType),e.xp6(1),e.Q6J("ngIf",t.searchResults.length>0)}}const Qu=function(r,n){return{"inline-max":r,"inline-with-drop":n}};function ro(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("keydown.arrowdown",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.traverseDownList(c))})("keydown.arrowup",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.traverseUpList())}),e.YNc(1,Ov,1,3,"pss-dropdownbutton",17),e.YNc(2,Tv,1,3,"input",18),e.YNc(3,qu,3,2,"ng-container",19),e.YNc(4,ef,8,8,"ng-container",19),e.YNc(5,Lv,8,8,"ng-container",19),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.WLB(6,Qu,!t.selectedField.comparators,t.selectedField.comparators)),e.xp6(1),e.Q6J("ngIf",t.selectedField.comparators),e.xp6(1),e.Q6J("ngIf","contacts"===t.mySearchType),e.xp6(1),e.Q6J("ngIf","all"!==t.selectedField.name),e.xp6(1),e.Q6J("ngIf","all"===t.selectedField.name&&"staff"===t.mySearchType),e.xp6(1),e.Q6J("ngIf","all"===t.selectedField.name&&"students"===t.mySearchType)}}function Ai(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-dropdownbutton",3),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.updateSelectedComparator(c))}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("id",t.selectedField.name+"comparators")("choices",t.selectedField.comparators)("customStyle",t.customOptionsStyles)}}function Ni(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",59),e.YNc(1,Ai,1,3,"pss-dropdownbutton",17),e.TgZ(2,"input",60),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.searchFilter=c)})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addFilter())}),e.qZA()()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.WLB(5,Qu,!t.selectedField.comparators,t.selectedField.comparators)),e.xp6(1),e.Q6J("ngIf",t.selectedField.comparators),e.xp6(1),e.Q6J("id",t.selectedField.name+t.mySearchType)("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy())}}function af(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",61)(1,"input",62),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedField.selected=c)})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addFilter())}),e.qZA(),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.s9C("id",t.selectedField.id),e.Q6J("ngModel",t.selectedField.selected),e.xp6(2),e.Oqu(t.selectedField.label)}}function cf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-dropdownbutton",3),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.updateSelectedComparator(c))}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("id",t.selectedField.name+"comparators")("choices",t.selectedField.comparators)("customStyle",t.customOptionsStyles)}}const Rv=function(r,n){return{"inline-half":r,"inline-half-with-drop":n}};function Bv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",59),e.YNc(1,cf,1,3,"pss-dropdownbutton",17),e.TgZ(2,"span")(3,"b",63)(4,"input",64),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.searchFilter=c)})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addDateFilter())})("blur",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.dateChanged(c))})("keyup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.dateUpdated(c))}),e.qZA()(),e._UZ(5,"p",65),e.qZA(),e.TgZ(6,"span",66),e._UZ(7,"input",67),e.qZA()()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.WLB(7,Rv,!t.selectedField.comparators,t.selectedField.comparators)),e.xp6(1),e.Q6J("ngIf",t.selectedField.comparators),e.xp6(3),e.Q6J("id",t.selectedField.name+t.mySearchType)("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy()),e.xp6(1),e.Q6J("id",t.selectedField.name+t.mySearchType+"_error"),e.xp6(2),e.Q6J("id",t.selectedField.name+t.mySearchType+"_hidden")}}function Vv(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.currentSelectFieldDisplayValue)}}function Hv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",61)(1,"pss-dropdownbutton",68),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectFieldValue(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addFilter())}),e.qZA(),e.YNc(2,Vv,2,1,"span",19),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("id",t.selectedField.name+t.mySearchType)("choices",t.selectedField.options)("customStyle",t.customOptionsStyles)("isMultiSelect",!0),e.xp6(1),e.Q6J("ngIf",t.currentSelectFieldDisplayValue.length>0)}}function Yu(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",61)(1,"pss-dropdownbutton",69),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectFieldValue(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addFilter())}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("id",t.selectedField.name+t.mySearchType)("choices",t.selectedField.options)("customStyle",t.customOptionsStyles)}}function _c(r,n){if(1&r&&(e.TgZ(0,"a",70),e._UZ(1,"pds-icon",71),e.qZA()),2&r){const t=e.oxw();e.MGl("id","searchbar_help_",t.mySearchType,"")}}function Zv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",81),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink(u))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink(u))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","staff_quick_search_letter_link_"+t),e.xp6(1),e.Oqu(t)}}function lf(r,n){if(1&r&&(e.TgZ(0,"div",74),e.YNc(1,Zv,2,2,"a",80),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.nameLetters)}}function jv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("staffStatus="+u.value))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("staffStatus="+u.value))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","select_staff_type_"+t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.messageKey))}}function df(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("gender="+u.value))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("gender="+u.value))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","select_staff_gender_"+t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.messageKey))}}function uf(r,n){if(1&r&&(e.TgZ(0,"div",74),e.YNc(1,jv,3,4,"a",82),e.YNc(2,df,3,4,"a",82),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.staffStatus),e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.gendersForStaff)}}function $l(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.advancedModeHandler(!0))})("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.advancedModeHandler(!0))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.MGl("id","advancedModeToggleBtn",t.mySearchType,""),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.advanced"))}}function Uv(r,n){if(1&r&&(e.TgZ(0,"div",72),e.YNc(1,lf,2,1,"div",73),e.YNc(2,uf,3,2,"div",73),e.TgZ(3,"div",74)(4,"a",75),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"a",76),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"a",77),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"a",78),e.ALo(14,"translate"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,$l,3,4,"a",79),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.displayQuickSearchNameLetters),e.xp6(1),e.Q6J("ngIf",t.quickSearchLinks.staffStatus&&t.quickSearchLinks.staffStatus.length>0||t.quickSearchLinks.gendersForStaff&&t.quickSearchLinks.gendersForStaff.length>0),e.xp6(3),e.Oqu(e.lcZ(6,11,"psx.html.admin_faculty.search.staff_directory")),e.xp6(2),e.MGl("id","storedSearches",t.mySearchType,""),e.xp6(1),e.Oqu(e.lcZ(9,13,"psx.html.admin_faculty.search.stored_searches")),e.xp6(2),e.MGl("id","storedSelections",t.mySearchType,""),e.xp6(1),e.Oqu(e.lcZ(12,15,"psx.html.admin_faculty.search.stored_selections")),e.xp6(2),e.MGl("id","fieldList",t.mySearchType,"")("title","",e.lcZ(14,17,"psx.html.admin_fields.tchrfieldlist_yui.field_list"),":"),e.xp6(2),e.Oqu(e.lcZ(16,19,"psx.html.admin_faculty.search.view_field_list")),e.xp6(2),e.Q6J("ngIf",!t.modal)}}function hf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",81),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink(u))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink(u))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","selectStudents_"+t),e.xp6(1),e.Oqu(t)}}function pf(r,n){if(1&r&&(e.TgZ(0,"div",74),e.YNc(1,hf,2,2,"a",80),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.nameLetters)}}const qr=function(r){return{arg0:r}};function Gl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("grade_level="+u.grade_level))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("grade_level="+u.grade_level))}),e.ALo(1,"translate"),e._uU(2),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","grade_"+t.grade_text),e.uIk("aria-label",e.xi3(1,3,"psx.html.admin.home.functions.grade.search.link",e.VKq(6,qr,t.grade_text))),e.xp6(2),e.Oqu(t.grade_text)}}function zu(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("gender="+u.value))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("gender="+u.value))}),e.ALo(1,"translate"),e._uU(2),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","select_student_gender_"+t.value),e.uIk("aria-label",e.xi3(1,3,"psx.html.admin.home.functions.gender.search.link",e.VKq(6,qr,t.value))),e.xp6(2),e.Oqu(t.value)}}function Wu(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",88),e.NdJ("change",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.remoteEnrollmentsHandler())})("ngModelChange",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.includeRemoteEnrollments=c)}),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("ngModel",t.includeRemoteEnrollments)}}function _f(r,n){1&r&&(e.TgZ(0,"label",89),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.include_remote_enrollments")))}function ff(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",74),e.YNc(1,Gl,3,8,"a",82),e.YNc(2,zu,3,8,"a",82),e.TgZ(3,"a",85),e.NdJ("keydown.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectByQuickLink("all"))})("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectByQuickLink("all"))}),e.ALo(4,"translate"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Wu,1,1,"input",86),e.YNc(8,_f,3,3,"label",87),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.gradeLevels),e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.gendersForStudent),e.xp6(1),e.uIk("aria-label",e.lcZ(4,6,"psx.html.admin.home.functions.all.search.link")),e.xp6(2),e.Oqu(e.lcZ(6,8,"psx.html.admin.home.all")),e.xp6(2),e.Q6J("ngIf",!t.isDistrict),e.xp6(1),e.Q6J("ngIf",!t.isDistrict)}}function gf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("sched_nextyeargrade="+u.grade_level))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("sched_nextyeargrade="+u.grade_level))}),e.ALo(1,"translate"),e._uU(2),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","grade_"+t.grade_text),e.uIk("aria-label",e.xi3(1,3,"psx.html.admin.home.functions.grade.search.link",e.VKq(6,qr,t.grade_text))),e.xp6(2),e.Oqu(t.grade_text)}}function mf(r,n){if(1&r&&(e.TgZ(0,"div",74)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,gf,3,8,"a",82),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"psx.html.admin_powerschedule_students.white.next_year_grade_level")),e.xp6(2),e.Q6J("ngForOf",t.quickSearchLinks.gradeLevels)}}function Cf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("grade_level="+u.grade_level))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("grade_level="+u.grade_level))}),e.ALo(1,"translate"),e._uU(2),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","grade_"+t.grade_text),e.uIk("aria-label",e.xi3(1,3,"psx.html.admin.home.functions.grade.search.link",e.VKq(6,qr,t.grade_text))),e.xp6(2),e.Oqu(t.grade_text)}}function vf(r,n){if(1&r&&(e.TgZ(0,"div",74)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Cf,3,8,"a",82),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"psx.html.admin_powerschedule_students.white.current_year_grade_level")),e.xp6(2),e.Q6J("ngForOf",t.quickSearchLinks.currentGradeLevels)}}function yf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("gender="+u.value))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectByQuickLink("gender="+u.value))}),e.ALo(1,"translate"),e._uU(2),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","select_student_gender_"+t.value),e.uIk("aria-label",e.xi3(1,3,"psx.html.admin.home.functions.gender.search.link",e.VKq(6,qr,t.value))),e.xp6(2),e.Oqu(t.value)}}function $v(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",74)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,yf,3,8,"a",82),e.TgZ(5,"a",85),e.NdJ("keydown.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectByQuickLink("all"))})("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectByQuickLink("all"))}),e.ALo(6,"translate"),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,4,"psx.html.admin_powerschedule_students.white.other_options")),e.xp6(2),e.Q6J("ngForOf",t.quickSearchLinks.gendersForStudent),e.xp6(1),e.uIk("aria-label",e.lcZ(6,6,"psx.html.admin.home.functions.all.search.link")),e.xp6(2),e.Oqu(e.lcZ(8,8,"psx.html.admin.home.all"))}}function Gv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",74)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"pss-dropdownbutton",90),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.selectPagePref(c))}),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"psx.js.angular.searchbar_component.preferred_page")),e.xp6(2),e.Q6J("id",t.preferredPage)("choices",t.scheduleFieldPreferences)}}function qv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",83),e.NdJ("keydown.enter",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.advancedModeHandler(!0))})("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.advancedModeHandler(!0))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.MGl("id","advancedModeToggleBtn",t.mySearchType,""),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.advanced"))}}function Kv(r,n){if(1&r&&(e.TgZ(0,"div",74)(1,"a",91),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"a",92),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"a",93),e.ALo(8,"translate"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,qv,3,4,"a",79),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.MGl("id","storedSearches",t.mySearchType,""),e.xp6(1),e.Oqu(e.lcZ(3,8,"psx.html.admin.home.stored_searches")),e.xp6(2),e.MGl("id","storedSelections",t.mySearchType,""),e.xp6(1),e.Oqu(e.lcZ(6,10,"psx.html.admin.home.stored_selections")),e.xp6(2),e.MGl("id","fieldList",t.mySearchType,"")("title","",e.lcZ(8,12,"psx.html.admin_fields.fieldlist_yui.field_list"),":"),e.xp6(2),e.Oqu(e.lcZ(10,14,"psx.html.admin.home.view_field_list")),e.xp6(2),e.Q6J("ngIf",!t.modal)}}function Jv(r,n){if(1&r&&(e.TgZ(0,"div",84),e.YNc(1,pf,2,1,"div",73),e.YNc(2,ff,9,10,"div",73),e.YNc(3,mf,5,4,"div",73),e.YNc(4,vf,5,4,"div",73),e.YNc(5,$v,9,10,"div",73),e.YNc(6,Gv,5,5,"div",73),e.YNc(7,Kv,12,16,"div",73),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.displayQuickSearchNameLetters),e.xp6(1),e.Q6J("ngIf",!t.isScheduler),e.xp6(1),e.Q6J("ngIf",t.isScheduler&&t.quickSearchLinks.gradeLevels.length>0),e.xp6(1),e.Q6J("ngIf",t.isScheduler&&t.quickSearchLinks.currentGradeLevels.length>0),e.xp6(1),e.Q6J("ngIf",t.isScheduler),e.xp6(1),e.Q6J("ngIf",t.isScheduler),e.xp6(1),e.Q6J("ngIf",!t.isScheduler)}}function Qv(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",81),e.NdJ("keydown.enter",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectContactsByQuickLink(u))})("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.selectContactsByQuickLink(u))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","contacts_quick_search_letter_link_"+t),e.xp6(1),e.Oqu(t)}}function Yv(r,n){if(1&r&&(e.TgZ(0,"div",74),e.YNc(1,Qv,2,2,"a",80),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.nameLetters)}}function zv(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"label",99),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"pss-dropdownbutton",100),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.updateContactStatus(c))}),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,t.contactStatus.messageKey)),e.xp6(2),e.Q6J("choices",t.contactStatus.options)("keysTranslated",t.contactStatus.keysTranslated)}}function Wv(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.selectedStudentCount)}}function Xv(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"0"),e.qZA())}function ey(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",101),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.switchSearchType("students"))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(t.selectedStudentCount)}}function ty(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",94),e.YNc(1,Yv,2,1,"div",73),e.TgZ(2,"div",74),e.YNc(3,zv,5,5,"ng-container",19),e.TgZ(4,"label",95),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"pss-dropdownbutton",96),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateAccessAccountStatus(c))}),e.qZA(),e.TgZ(8,"input",97),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.filterByStudents=c)})("change",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.filterByStudentsHandler())}),e.qZA(),e.TgZ(9,"label",98),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._uU(12," ("),e.YNc(13,Wv,2,1,"span",19),e.YNc(14,Xv,2,0,"span",19),e.YNc(15,ey,3,1,"span",19),e._uU(16,") "),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.displayQuickSearchNameLetters),e.xp6(2),e.Q6J("ngIf",t.quickSearchLinks.isContactActiveAccess),e.xp6(2),e.Oqu(e.lcZ(6,11,t.accessAccountStatus.messageKey)),e.xp6(2),e.Q6J("choices",t.accessAccountStatus.options)("keysTranslated",t.accessAccountStatus.keysTranslated),e.xp6(1),e.Q6J("ngModel",t.filterByStudents)("disabled",0===t.selectedStudentCount),e.xp6(2),e.Oqu(e.lcZ(11,13,"psx.js.angular.searchbar_component.filter_by_current_student_selection")),e.xp6(3),e.Q6J("ngIf",t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",!t.isGroupFunctionModal&&0===t.selectedStudentCount),e.xp6(1),e.Q6J("ngIf",!t.isGroupFunctionModal&&t.selectedStudentCount>0)}}function ny(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",103),e.NdJ("click",function(){const u=e.CHM(t).index,_=e.oxw(2);return e.KtG(_.removeFilter(u))}),e._uU(1),e._UZ(2,"pds-icon",105),e.qZA()}if(2&r){const t=n.$implicit;e.MGl("id","filter_",n.index,""),e.xp6(1),e.Oqu(t)}}const bf=function(r){return{showFilters:r}};function iy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",102)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",103),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.clearAllFilters())}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,ny,3,2,"button",104),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.VKq(9,bf,t.selectionValues.usedSearchTypeFieldsDisplay.length>0)),e.xp6(2),e.Oqu(e.lcZ(3,5,"psx.js.angular.searchbar_component.current_selection")),e.xp6(2),e.MGl("id","clearAllFilters",t.mySearchType,""),e.xp6(1),e.Oqu(e.lcZ(6,7,"psx.js.angular.searchbar_component.clear_all")),e.xp6(2),e.Q6J("ngForOf",t.selectionValues.usedSearchTypeFieldsDisplay)}}function oy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",103),e.NdJ("click",function(){const u=e.CHM(t).index,_=e.oxw(2);return e.KtG(_.removeFilter(u))}),e._uU(1),e._UZ(2,"pds-icon",105),e.qZA()}if(2&r){const t=n.$implicit;e.MGl("id","filter_",n.index,""),e.xp6(1),e.Oqu(t)}}function ry(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",102)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",103),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.clearAllFilters())}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,oy,3,2,"button",104),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.VKq(9,bf,t.displayContactsFilters)),e.xp6(2),e.Oqu(e.lcZ(3,5,"psx.js.angular.searchbar_component.current_search")),e.xp6(2),e.MGl("id","clearAllFilters",t.mySearchType,""),e.xp6(1),e.Oqu(e.lcZ(6,7,"psx.js.angular.searchbar_component.clear_all")),e.xp6(2),e.Q6J("ngForOf",t.selectionValues.usedSearchTypeFieldsDisplay)}}const xf=function(r,n){return{contacts:r,modal:n}},St="psx.js.angular.searchbar_component";class Eo extends rr{constructor(n,t,a,c,u){super(t),this.eRef=n,this.translationService=t,this.studentSearchServices=a,this.staffSearchServices=c,this.contextService=u,this.availableSearchTypes=[],this.includeRemoteEnrollments=!1,this.isScheduler=!1,this.scheduleFieldPreferences=[],this.schedulerequestyearid=0,this.searchType="students",this.modal=!1,this.isGroupFunctionModal=!1,this.delayFilter=300,this.hideSearchSwitch=!1,this.selectedStudentCount=0,this.filters=[],this.searchTypeChange=new e.vpe,this.filterRemoved=new e.vpe,this.clearFilters=new e.vpe,this.updateAdvancedMode=new e.vpe,this.updateRemoteEnrollments=new e.vpe,this.addId=new e.vpe,this.updatedFilter=new e.vpe,this.updateFilterByStudents=new e.vpe,this.updatedSelection=new e.vpe,this.updatedPagePref=new e.vpe,this.usedSearchTypeFields=[],this.currentSelectFieldDisplayValue="",this.currentSelectFieldValues=[],this.searchResults=[],this.backupSearchResults={students:[],staff:[],storedSearches:[],fields:[]},this.smartSearchDisabled=!(!smartSearchDisablePref||"1"!==smartSearchDisablePref),this.displayQuickSearchNameLetters=!(!displayQuickSearchNameLettersPref||"1"!==displayQuickSearchNameLettersPref),this.selectionValues={usedSearchTypeFields:[],usedSearchTypeFieldsDisplay:[],handpickedFolks:[]},this.searchFilter="",this.highlightedIndex=-1,this.holdOnTraverseDown=!1,this.displayContactsFilters=!1,this.isDisabled=!1,this.filterByStudents=!1,this.selectionIds=[],this.CONTACT_STATUS_KEY="pssContactStatus",this.ACCESS_ACCOUNT_STATUS_KEY="pssAccessAccountStatus",this.BLANK_OPTION={name:"blank",type:dt.string,messageKey:"",keysTranslated:!0},this.contactStatus={messageKey:St+".status",name:$s,type:dt.select,options:[{messageKey:St+".all4",keysTranslated:!1,value:"all"},{messageKey:St+".active",keysTranslated:!1,value:"active"},{messageKey:St+".inactive",keysTranslated:!1,value:"inactive"}],value:"all",keysTranslated:!1},this.accessAccountStatus={messageKey:St+".access_status",name:jl,type:dt.select,options:[{messageKey:St+".all4",keysTranslated:!1,value:"all"},{messageKey:St+".no_access_account",keysTranslated:!1,value:"no_access_account"},{messageKey:St+".any_access_account",keysTranslated:!1,value:"any_access_account"},{messageKey:St+".active_access_account",keysTranslated:!1,value:"active_access_account"},{messageKey:St+".inactive_access_account",keysTranslated:!1,value:"inactive_access_account"}],value:"all",keysTranslated:!1},this.customFieldsStyles=JSON.stringify({dropDownButton:{"margin-inline-start":0,flex:"1 0 auto",display:"flex"},dropDownButtonList:{margin:"31px 0 0","margin-inline-start":0},dropDown:{margin:0,"padding-top":0,"padding-bottom":0,"padding-inline-start.px":5,"border-start-start-radius":0,"border-end-start-radius":0}}),this.customOptionsStyles=JSON.stringify({dropDownButton:{"margin-inline-start":0,flex:"1 0 auto",display:"flex"},dropDownButtonList:{margin:"31px 0 0","margin-inline-start":0},dropDown:{margin:0,"padding-top":0,"padding-bottom":0,"padding-inline-start.px":5}}),t.getPSSTranslations(St,`${St}.all`),t.get(`${St}.added_student`).subscribe(_=>{this.addStudentMessage=_}),t.get(`${St}.added_staff`).subscribe(_=>{this.addStaffMessage=_})}set updateURL(n){this.url=n}set updateSelectionIds(n){this.selectionIds=n,this.searchResults.length>0&&this.evaluateInSelection()}set updateSelectedStudentCount(n){this.selectedStudentCount=n}set updateFilters(n){this.filters=n,this.updateDisplayFilters()}ngOnInit(){if(this.selectionIds||(this.selectionIds=[]),this.availableSearchTypeFields=this.fields.slice(0),this.availableSearchTypeFields&&0!==this.availableSearchTypeFields.length?this.selectedField=this.availableSearchTypeFields[0]:this.isDisabled=!0,this.selectedField&&("string"===this.selectedField.type?document.addEventListener("click",t=>this.clickout(t),!0):document.removeEventListener("click",t=>this.clickout(t),!0)),this.fields.findIndex(t=>"last_name"===t.name)<0&&(this.displayQuickSearchNameLetters=!1),(!this.quickSearchLinks.nameLetters||0===this.quickSearchLinks.nameLetters.length)&&(this.displayQuickSearchNameLetters=!1),this.searchType!==ke.contacts&&(this.translationService.get(this.searchType===ke.students?`${St}.add_student`:`${St}.add_staff`).subscribe(c=>{this.addMsgKey=c}),this.translationService.get(this.searchType===ke.students?`${St}.remove_student`:`${St}.remove_staff`).subscribe(c=>{this.removeMsgKey=c})),this.mySearchType===ke.contacts){const t=localStorage.getItem(this.CONTACT_STATUS_KEY);if(t){const c=this.contactStatus.options.filter(u=>u.value===t);c&&c.length>0&&(c[0].selected=!0,this.contactStatus.value=t)}const a=localStorage.getItem(this.ACCESS_ACCOUNT_STATUS_KEY);if(a){const c=this.accessAccountStatus.options.filter(u=>u.value===a);c&&c.length>0&&(c[0].selected=!0,this.accessAccountStatus.value=a)}}}updateContent(n){this.searchInput=n}clearAllFilters(){this.searchFilter="",this.availableSearchTypeFields=this.fields.slice(0),this.selectionValues.usedSearchTypeFields=[],this.clearFilters.emit(),document.getElementById(this.getSearchBarId()).focus()}clickout(n){(!this.eRef.nativeElement.contains(n.target)||this.searchResults.length>0&&!this.searchMenu.nativeElement.contains(n.target))&&(this.searchMenu&&(this.searchMenu.nativeElement.scrollTop=0,this.highlightedIndex=-1),this.searchResults=[])}clearSearchResults(){this.searchMenu.nativeElement.scrollTop=0,this.highlightedIndex=-1,this.searchResults=[]}updateSearchChoice(n){this.searchType=n,this.availableSearchTypeFields=this.fields.slice(0),this.availableSearchTypeFields=this.availableSearchTypeFields.filter(t=>!this.selectionValues.usedSearchTypeFields.includes(t.name)||"all"===t.name),this.searchFilter="",this.selectedField=this.availableSearchTypeFields[0],this.isDisabled=!1,this.searchResults=[],this.searchTypeChange.emit(this.searchType)}selectField(n,t){this.searchResults=[],super.selectField(n,t),"string"===n.type?document.addEventListener("click",a=>this.clickout(a),!0):document.removeEventListener("click",a=>this.clickout(a),!0)}selectPagePref(n){this.updatedPagePref.emit(n.value)}advancedModeHandler(n){null!=n&&(this.advancedMode=n),this.advancedMode||(this.availableSearchTypeFields=this.availableSearchTypeFields.filter(t=>!this.selectionValues.usedSearchTypeFields.includes(t.name)||"all"===t.name),this.selectedField=this.availableSearchTypeFields[0]),this.updateAdvancedMode.emit(this.advancedMode)}remoteEnrollmentsHandler(){this.updateRemoteEnrollments.emit(this.includeRemoteEnrollments)}filterByStudentsHandler(){this.updateFilterByStudents.emit(this.filterByStudents)}toggleFocus(n){this.inputHasFocus=n}valueUpdated(n){this.searchResults.length>0&&!this.isScheduler&&(13===n.which||n.metaKey||"Meta"===n.key?n.preventDefault():((!(n.which<47||n.which>111&&n.which<91)||27===n.which||32===n.which||8===n.which)&&(27===n.which&&(this.searchFilter=""),!this.inputHasFocus&&27!==n.which&&(this.searchInput.nativeElement.focus(),8!==n.which&&(this.searchFilter+=n.key)),this.highlightedIndex=-1,this.smartSearch(n)),(37===n.which||39===n.which&&!this.inputHasFocus)&&n.preventDefault()))}handleTabFocus(n){const t=this.getSmartSearchItemId(n),a=document.getElementById(t);n>0&&document.getElementById(this.getSmartSearchItemId(n-1)).classList.remove("highlight"),a.className="highlight",this.highlightedIndex=n,a.focus({preventScroll:!0})}handleDropdownTabKay(n,t){this.searchResults.length===this.highlightedIndex+1&&this.handleTabKey(n,!0)}searchText(n){if(!this.advancedMode&&13!==n.keyCode&&27!==n.keyCode&&!n.metaKey&&"Meta"!==n.key){let t="";if("contacts"!==this.searchType)if(this.searchFilter.length>0){const a=this.selectedComparator?this.selectedComparator.value:"";"all"!==this.selectedField.name?(this.searchFilter.startsWith("=")||this.searchFilter.toLowerCase().startsWith("in ")?t=this.searchFilter:this.searchFilter.endsWith("@")||this.searchFilter.startsWith("@")?t="="+this.searchFilter:(t="="+this.searchFilter,t+="@"),t=`${this.selectedField.name} ${a} ${t}`):t=this.searchFilter,"students"===this.searchType?this.studentSearchServices.getStudents(t,1,50,null,this.includeRemoteEnrollments).subscribe(c=>{this.searchFilter===t&&(this.backupSearchResults.students=c.students,this.evaluateInSelection())}):"staff"===this.searchType&&this.staffSearchServices.getTeachers(t,0,1,50).subscribe(c=>{this.searchFilter===t&&(this.backupSearchResults.staff=this.processStaffData(c),this.evaluateInSelection())})}else this.searchResults=[]}this.highlightedIndex=-1}smartSearch(n){if(!(this.smartSearchDisabled||this.isScheduler||this.searchFilter.startsWith("+")||this.searchFilter.startsWith("&"))&&(-1===[37,38,39,40].indexOf(n.keyCode)||this.inputHasFocus)){if(!this.advancedMode&&13!==n.keyCode&&27!==n.keyCode&&!n.metaKey&&"Meta"!==n.key)if(this.searchFilter.length>0){const t=this.searchFilter;switch(this.searchType){case ke.students:this.keyTypePause&&clearTimeout(this.keyTypePause),this.keyTypePause=setTimeout(()=>{this.studentSearchServices.searchStudents(this.searchFilter,1,50,"student_number,grade_level,enroll_status",this.includeRemoteEnrollments).subscribe(a=>{this.searchFilter===t&&(this.backupSearchResults.students=a.students,this.backupSearchResults.storedSearches=a.storedSearches,this.backupSearchResults.fields=a.fields,this.evaluateInSelection(),window.addEventListener("keydown",c=>{this.handleArrowKeysForAutocomplete(c)},!1))})},this.delayFilter);break;case ke.staff:this.keyTypePause&&clearTimeout(this.keyTypePause),this.keyTypePause=setTimeout(()=>{this.staffSearchServices.searchUsers(this.searchFilter,0,1,50).subscribe(a=>{this.searchFilter===t&&(this.backupSearchResults.staff=this.processStaffData(a),this.backupSearchResults.storedSearches=a.storedSearches,this.backupSearchResults.fields=a.fields,this.evaluateInSelection(),window.addEventListener("keydown",c=>{this.handleArrowKeysForAutocomplete(c)},!1))})},this.delayFilter)}}else this.searchResults=[],window.removeEventListener("keydown",t=>{this.handleArrowKeysForAutocomplete(t)},!1);this.highlightedIndex=-1}}selectSearchResult(n,t){switch(t.type){case"student":this.selectStudent(n,t);break;case"staff":this.selectStaff(n,t);break;case"field":this.selectDBField(n,t);break;case"storedSearch":this.runStoredSearch(n,t)}}runStoredSearch(n,t){let a;switch(this.clearAllFilters(),this.searchType){case ke.students:a=`/admin/studentlist/functions.html?ac=dbquery&stored_query=${t.id}`;break;case ke.staff:a=`/admin/facultylist/functions.html?ac=dbtchrquery&stored_query=${t.id}`;break;default:return}window.location.href=a}selectStudent(n,t){this.contextService.getSelectedStudentCount().subscribe(a=>{if(this.isScheduler)window.location.href=`${this.preferredPage}?frn=001${t.dcid}&schedulerequestyearid=${this.schedulerequestyearid}`;else{let u="/admin/students/home.html";this.studentSearchServices.setStudentSelectionByFilters([{filterName:"selected_by_hand",ids:`[${t.id}]`,op:"set",valueForDisplay:t.lastFirst,messageKey:`${St}.selected`}],1,50,null,this.includeRemoteEnrollments,!1).subscribe(S=>{u=this.getURL(`001${t.dcid}`),window.location.href=`${u}`})}}),this.clearAllFilters()}getURL(n){if(!this.url)return`${this.searchType===ke.students?"/admin/students/home.html":"/admin/faculty/home.html"}?frn=${n}`;if(!(this.url.indexOf("frn=")>-1)){if(this.url.indexOf("selectstudent=")>-1||this.url.indexOf("selectteacher=")>-1){let t=this.url.substring(0,this.url.indexOf("?"));return t+=`?frn=${n}`,this.searchType===ke.staff&&(t+="&dispic=1"),t}return this.url}if(this.url.indexOf("frn=???")>-1)return this.url.replace("???",`${n}`);{let t=this.url.indexOf("frn="),a=this.url.indexOf("&",t);if(t>-1)return this.url.replace(a>-1?this.url.substring(t,a):this.url.substring(t),`frn=${n}`)}}selectDBField(n,t){this.searchFilter=t.name,this.clearSearchResults(),document.getElementById(this.getSearchBarId()).focus()}evaluateInSelection(){const n="inSelection";switch(this.searchType){case ke.students:this.searchResults=this.backupSearchResults.students.slice(0),this.searchResults.forEach(t=>{t.type="student",t[n]=this.selectionIds.includes(t.id)});break;case ke.staff:this.searchResults=this.backupSearchResults.staff.slice(0),this.searchResults.forEach(t=>{t.type="staff",t[n]=this.selectionIds.includes(t.id)});break;default:return}this.backupSearchResults.storedSearches.forEach(t=>{t.type="storedSearch",this.searchResults.push(t)}),this.backupSearchResults.fields.forEach(t=>{this.searchResults.push({name:t,type:"field"})})}addRemovePerson(n,t){if(this.searchType===ke.students){if("student"!==t.type)return}else{if(this.searchType!==ke.staff)return;if("staff"!==t.type)return}const a=t,c=this.filters.length-1,u=this.filters[c];if(a.inSelection){if(!u||"hand_picked"!==u.filterName)return this.addId.emit({omitIds:`[${a.id}]`,filterName:"hand_picked",valueForDisplay:a.name,keysTranslated:!1,messageKey:St+".removed_"}),void n.stopPropagation();{let _=!1;const S=u.omitIds?JSON.parse(u.omitIds):[],F=u.ids?JSON.parse(u.ids):[];if(F.length>0){const j=F.findIndex(ue=>ue===a.id);if(j>-1)if(_=!0,F.splice(j,1),F.length>0)u.ids=`[${F.join(",")}]`;else{if(delete u.ids,!(S.length>0))return this.removeFilter(c),void n.stopPropagation();u.messageKey=`${St}.removed_`}}if(!_)if(S.length>0){if(S.findIndex(ue=>ue===a.id)>-1)return;S.push(a.id),u.omitIds=`[${S.join(",")}]`}else u.omitIds=`[${a.id}]`,u.messageKey=`${St}.added__removed__`}}else{if(!u||"hand_picked"!==u.filterName)return this.addId.emit({ids:`[${a.id}]`,filterName:"hand_picked",valueForDisplay:a.name,keysTranslated:!1,messageKey:St+".added_"}),void n.stopPropagation();{let _=!1;const S=u.omitIds?JSON.parse(u.omitIds):[],F=u.ids?JSON.parse(u.ids):[];if(0===c&&u.clearSelection&&(u.clearSelection=!1),S.length>0){const j=S.findIndex(ue=>ue===a.id);if(j>-1)if(_=!0,S.splice(j,1),S.length>0)u.omitIds=`[${S.join(",")}]`;else{if(delete u.omitIds,!(F.length>0))return void this.removeFilter(c);u.messageKey=`${St}.added_`}}if(!_)if(F.length>0){if(F.findIndex(ue=>ue===a.id)>-1)return;F.push(a.id),u.ids=`[${F.join(",")}]`}else u.ids=`[${a.id}]`,u.messageKey=`${St}.added__removed__`}}this.updatedFilter.emit({index:c,filter:u}),n.stopPropagation()}selectStaff(n,t){this.contextService.getSelectedStaffCount().subscribe(a=>{let c="/admin/faculty/home.html";const u={filterName:"selected_by_hand",ids:`[${t.id}]`,op:"set",valueForDisplay:t.name,messageKey:`${St}.selected`};loadingDialog(),this.staffSearchServices.alterTeacherSelectionUsingFilters([u],t.status,null,1,50).subscribe(_=>{c=this.getURL(`005${t.dcid}`),window.location.href=`${c}`})}),this.clearAllFilters()}updateContactStatus(n){this.contactStatus.value=n.value,localStorage.setItem(this.CONTACT_STATUS_KEY,n.value)}updateAccessAccountStatus(n){this.accessAccountStatus.value=n.value,localStorage.setItem(this.ACCESS_ACCOUNT_STATUS_KEY,n.value)}updateSelectedComparator(n){this.selectedComparator=n}addContactFilter(){this.searchResults=[];let n=[];const t={filterName:this.contactStatus.name,filterValue:this.contactStatus.value,valueForDisplay:this.contactStatus.value,keysTranslated:!1,messageKey:St+"."+this.contactStatus.value},a={filterName:this.accessAccountStatus.name,filterValue:this.accessAccountStatus.value,valueForDisplay:this.accessAccountStatus.value,keysTranslated:!1,messageKey:St+"."+this.accessAccountStatus.value};if("string"===this.selectedField.type){const c={filterName:this.selectedField.name,filterValue:"phone_number"===this.selectedField.name?this.searchFilter.trim().replace(/\D/g,""):this.searchFilter.trim(),valueForDisplay:"phone_number"===this.selectedField.name?this.searchFilter.trim().replace(/\D/g,""):this.searchFilter.trim(),keysTranslated:this.selectedField.keysTranslated,messageKey:this.selectedField.messageKey};""!==c.filterValue&&(this.updateUsedContactsSearchTypeField(c.filterName),(!this.availableSearchTypeFields||0===this.availableSearchTypeFields.length)&&(this.isDisabled=!0),n.push(c)),this.quickSearchLinks.isContactActiveAccess&&n.push(t),n.push(a),this.filterAdded.emit(n),this.searchFilter=""}}addFilter(){if("contacts"===this.searchType)this.addContactFilter();else if(this.searchResults=[],"boolean"===this.selectedField.type)this.updateUsedSearchTypeFields(),super.addFilter(),this.selectedField=this.availableSearchTypeFields[0];else if("select"===this.selectedField.type)this.currentSelectFieldValues.length>0&&(this.updateUsedSearchTypeFields(),super.addFilter(),this.selectedField=this.availableSearchTypeFields[0]);else if("multi"===this.selectedField.type){const n=[];this.currentSelectFieldValues.forEach(t=>{n.push(t)}),n.length>0&&(this.updateUsedSearchTypeFields(),super.addFilter(),this.selectedField=this.availableSearchTypeFields[0])}else if("number"===this.selectedField.type){if(0===this.searchFilter.trim().length)return;this.updateUsedSearchTypeFields(),super.addFilter(),this.selectedField=this.availableSearchTypeFields[0],this.searchFilter="",this.selectedComparator=null}else if("date"===this.selectedField.type){const n=`${this.selectedField.name}${this.mySearchType}`,t=`${n}_error`,c=`${n}_hidden_error`;if(this.searchFilter=$j(`#${n}`).val(),this.selectedComparator&&this.searchFilter.trim().length>0){let u=$j(`#${t}`).text();if(u.trim().length>0||(u=$j(`#${c}`).text(),u.trim().length>0))return;this.updateUsedSearchTypeFields(),super.addFilter(),this.selectedField=this.availableSearchTypeFields[0],this.searchFilter="",this.selectedComparator=null}}else if("string"===this.selectedField.type){if(this.selectedComparator&&0===this.searchFilter.trim().length)return;"all"!==this.selectedField.name&&this.updateUsedSearchTypeFields(),super.addFilter(),this.selectedField=this.availableSearchTypeFields[0],this.searchFilter="",this.selectedComparator=null}}addDateFilter(n){const t=`${this.selectedField.name}${this.mySearchType}_error`,a=`${this.selectedField.name}${this.mySearchType}_hidden`,c=`${a}_error`;let u=this.searchFilter.trim();0!==u.length?(u=this.getDateFromSearchString(u),$j(`#${a}`).val(u),validateDate($j(`#${a}`)),setTimeout(()=>{$j(`#${c}`)&&($j(`#${t}`).text($j(`#${c}`).text()),$j(`#${c}`).remove()),this.addFilter()})):$j(`#${t}`).text("")}getAriaLabelledBy(){return"add_search_filter_btn"}getAriaLabel(n){return n?this.removeMsgKey:this.addMsgKey}updateUsedContactsSearchTypeField(n){n&&this.selectionValues.usedSearchTypeFields.push(n),this.availableSearchTypeFields=this.fields.slice(0),this.availableSearchTypeFields=this.availableSearchTypeFields.filter(t=>!this.selectionValues.usedSearchTypeFields.includes(t.name))}updateUsedSearchTypeFields(n){this.selectedField&&(n?this.selectionValues.usedSearchTypeFields.push(n):(this.selectionValues.usedSearchTypeFields.push(this.selectedField.name),this.availableSearchTypeFields=this.fields.slice(0),this.availableSearchTypeFields=this.availableSearchTypeFields.filter(t=>!this.selectionValues.usedSearchTypeFields.includes(t.name)||"all"===t.name)))}handleBackspaceKey(n){n.preventDefault(),this.searchInput.nativeElement.focus(),this.searchFilter=this.searchFilter.substring(0,this.searchFilter.length-1)}handleTabKey(n,t){this.clearSearchResults(),n.shiftKey&&!t&&this.searchInput.nativeElement.focus()}handledEscKey(n){n.preventDefault(),n.stopPropagation(),this.searchInput.nativeElement.focus(),this.clearSearchResults()}handleArrowKeysForAutocomplete(n){const t=document.activeElement.parentElement,a=document.getElementById(`${this.mySearchType}Results`);a&&t===a&&[32,37,38,39,40].indexOf(n.keyCode)>-1&&n.preventDefault()}traverseDownList(n){if(this.searchResults.length>0&&this.highlightedIndex+1<this.searchResults.length){this.highlightedIndex++;const t=this.getSmartSearchItemId(this.highlightedIndex),a=document.getElementById(t),c=a.parentElement;c.getBoundingClientRect().bottom<a.getBoundingClientRect().bottom&&(c.scrollTop=c.scrollTop+a.offsetHeight),a.focus({preventScroll:!0})}}traverseUpList(){if(this.searchResults.length>0&&this.highlightedIndex-1>=0){this.highlightedIndex--;const n=this.getSmartSearchItemId(this.highlightedIndex),t=document.getElementById(n),a=t.parentElement;t.getBoundingClientRect().top<a.getBoundingClientRect().top&&(a.scrollTop=t.offsetTop),t.focus({preventScroll:!0})}else this.highlightedIndex>-1&&this.highlightedIndex--,this.highlightedIndex<-1?this.highlightedIndex=-1:(setTimeout(()=>{this.searchInput.nativeElement.focus({preventScroll:!0})},0),this.searchFilter+=" ",this.searchFilter=this.searchFilter.substr(0,this.searchFilter.length-1))}getSmartSearchItemId(n){let t="";const a=this.searchResults[n];switch(a.type){case"student":t="student_"+a.id;break;case"staff":t="staff_"+a.id;break;case"field":t="field_"+a.name;break;case"storedSearch":t="stored_search_"+a.id}return t.toLowerCase()}updateDisplayFilters(){"contacts"===this.mySearchType&&(this.filters=this.filters.filter(n=>n.filterName!==$s&&n.filterName!==jl),this.displayContactsFilters=this.filters.length>0),this.selectionValues.usedSearchTypeFields=new Array(this.filters.length),this.selectionValues.usedSearchTypeFieldsDisplay=new Array(this.filters.length),this.filters.forEach((n,t)=>{if(n.advanced)if("[]"===n.omitIds&&!n.ids||!n.omitIds&&"[]"===n.ids)this.translationService.get(`${St}.${n.messageKey}`,{0:n.valueForDisplay}).subscribe(c=>{this.selectionValues.usedSearchTypeFields[t]="advanced",this.selectionValues.usedSearchTypeFieldsDisplay[t]=`${c}`});else{let a;a={0:n.valueForDisplay},this.translationService.get(`${St}.${n.messageKey}`,a).subscribe(c=>{this.selectionValues.usedSearchTypeFields[t]="advanced",this.selectionValues.usedSearchTypeFieldsDisplay[t]=`${c}`})}else if(n.filterName.startsWith("hand_picked")){let a,c,u;n.ids&&(a=JSON.parse(n.ids)),n.omitIds&&(c=JSON.parse(n.omitIds)),a&&c?u={0:a.length,1:c.length}:(a&&(u={0:a.length}),c&&(u={0:c.length})),this.translationService.get(n.messageKey,u).subscribe(_=>{this.selectionValues.usedSearchTypeFields[t]=n.filterName,this.selectionValues.usedSearchTypeFieldsDisplay[t]=`${_}`})}else n.filterName.startsWith("ext")||n.filterName.startsWith("selected_by_hand")?this.translationService.get(n.messageKey,{0:n.valueForDisplay}).subscribe(c=>{this.selectionValues.usedSearchTypeFields[t]=n.filterName,this.selectionValues.usedSearchTypeFieldsDisplay[t]=`${c}`}):n.keysTranslated?n.messageKey?(this.selectionValues.usedSearchTypeFields[t]=n.filterName,this.selectionValues.usedSearchTypeFieldsDisplay[t]=`${n.messageKey}: ${n.valueForDisplay}`):(this.selectionValues.usedSearchTypeFields[t]=n.filterName,this.selectionValues.usedSearchTypeFieldsDisplay[t]=`${n.valueForDisplay}`):this.translationService.get(n.messageKey).subscribe(a=>{this.selectionValues.usedSearchTypeFields[t]=n.filterName,this.selectionValues.usedSearchTypeFieldsDisplay[t]=`${a}: ${n.valueForDisplay}`})}),"contacts"===this.searchType?this.updateUsedContactsSearchTypeField():this.updateUsedSearchTypeFields(),this.availableSearchTypeFields&&this.availableSearchTypeFields.length>0?(this.selectedField=this.availableSearchTypeFields[0],this.isDisabled=!1):this.selectedField=this.BLANK_OPTION}removeFilter(n){if(n>-1){this.selectionValues.usedSearchTypeFields.splice(n,1),this.selectionValues.usedSearchTypeFieldsDisplay.splice(n,1),this.availableSearchTypeFields=this.fields.slice(0),this.selectionValues.usedSearchTypeFields.length>0&&(this.availableSearchTypeFields=this.availableSearchTypeFields.filter(a=>!this.selectionValues.usedSearchTypeFields.includes(a.name)||"all"===a.name)),this.selectedField=this.availableSearchTypeFields[0],this.isDisabled=!1,this.filterRemoved.emit(n);let t="contacts"===this.searchType?this.selectionValues.usedSearchTypeFields.length:this.selectionValues.usedSearchTypeFields.length-1;0===t?document.getElementById(this.getSearchBarId()).focus():n<t?document.getElementById("filter_"+n).focus():document.getElementById("filter_"+("contacts"===this.searchType?t:t-1)).focus()}}processStaffData(n){if("staff"===this.searchType){const t="name",a="teacherNumber",c=[];return n.users.forEach(u=>{this.translationService.get("psx.js.angular.staffsearch_component.__",{0:u.lastName,1:u.firstName}).subscribe(_=>{u.schoolStaff.forEach(S=>{S[t]=_,S[a]=u.teacherNumber,c.push(S)})})}),c}}switchSearchType(n){n!==this.searchType&&this.searchTypeChange.emit(n)}getSearchBarId(){return"students"==this.searchType?"studentSearchInput":"staff"==this.searchType?"teacherSearchInput":"contactSearchInput"}selectByQuickLink(n){const t=this.getQuickLinkFilter(this.fields,n);t&&(this.filters=[],this.updatedSelection.emit([t]))}selectContactsByQuickLink(n){this.filters.length>0&&this.clearAllFilters(),this.availableSearchTypeFields=this.fields.slice(0),this.selectedField=this.availableSearchTypeFields[0],this.searchFilter=n,this.addContactFilter()}errorWithFilter(n){this.availableSearchTypeFields=this.fields.slice(0);const t=this.selectionValues.usedSearchTypeFields.lastIndexOf(n.filterName);t>=0&&this.selectionValues.usedSearchTypeFields.splice(t,1),this.selectionValues.usedSearchTypeFields.length>0&&(this.availableSearchTypeFields=this.availableSearchTypeFields.filter(a=>!this.selectionValues.usedSearchTypeFields.includes(a.name)||"all"===a.name)),this.selectedField=this.availableSearchTypeFields[0]}getFieldsCustomStyles(){return this.hideSearchSwitch||this.isScheduler?this.customOptionsStyles:this.customFieldsStyles}}Eo.\u0275fac=function(n){return new(n||Eo)(e.Y36(e.SBq),e.Y36(Kt.h),e.Y36(Dn),e.Y36(Fi),e.Y36(yi))},Eo.\u0275cmp=e.Xpm({type:Eo,selectors:[["pss-searchbar"]],inputs:{availableSearchTypes:"availableSearchTypes",isDistrict:"isDistrict",includeRemoteEnrollments:"includeRemoteEnrollments",isScheduler:"isScheduler",preferredPage:"preferredPage",scheduleFieldPreferences:"scheduleFieldPreferences",schedulerequestyearid:"schedulerequestyearid",searchType:"searchType",fields:"fields",modal:"modal",isGroupFunctionModal:"isGroupFunctionModal",updateURL:["url","updateURL"],hideSearchSwitch:"hideSearchSwitch",updateSelectionIds:["selectionIds","updateSelectionIds"],quickSearchLinks:"quickSearchLinks",updateSelectedStudentCount:["selectedStudentCount","updateSelectedStudentCount"],updateFilters:["filters","updateFilters"]},outputs:{searchTypeChange:"searchTypeChange",filterRemoved:"filterRemoved",clearFilters:"clearFilters",updateAdvancedMode:"updateAdvancedMode",updateRemoteEnrollments:"updateRemoteEnrollments",addId:"addId",updatedFilter:"updatedFilter",updateFilterByStudents:"updateFilterByStudents",updatedSelection:"updatedSelection",updatedPagePref:"updatedPagePref"},features:[e._Bn([Pn,Dn,Fi,ko]),e.qOj],decls:21,vars:24,consts:[[1,"searchbar_container",3,"ngClass"],[3,"modal","searchChoice","availableSearchTypes","searchChoiceChange",4,"ngIf"],[1,"searchFields"],[3,"id","choices","customStyle","selectedChoice"],[3,"ngClass","keydown.arrowdown","keydown.arrowup",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","inline",4,"ngIf"],["type","button",1,"addField",3,"id","click"],[1,"screen_readers_only"],["name","search"],["class","button searchbarHelp","href","https://docs.powerschool.com/PSHSA/latest/?contentKey=search","target","_blank",3,"id",4,"ngIf"],["class","search-links staff-search-links",4,"ngIf"],["class","search-links student-search-links",4,"ngIf"],["class","search-links contact-search-links",4,"ngIf"],["class","filter-buttons",3,"ngClass",4,"ngIf"],[3,"modal","searchChoice","availableSearchTypes","searchChoiceChange"],[3,"ngClass","keydown.arrowdown","keydown.arrowup"],[3,"id","choices","customStyle","selectedChoice",4,"ngIf"],["id","contactSearchInput","name","contactSearchInput","type","text",3,"disabled","ngModel","ngModelChange","keyup","keydown.enter",4,"ngIf"],[4,"ngIf"],["id","contactSearchInput","name","contactSearchInput","type","text",3,"disabled","ngModel","ngModelChange","keyup","keydown.enter"],["id","teacherSearchInput","name","teacherSearchInput","type","text",3,"ngModel","ngModelChange","keyup","keydown.enter",4,"ngIf"],["id","studentSearchInput","name","studentSearchInput","type","text",3,"ngModel","ngModelChange","keyup","keydown.enter",4,"ngIf"],["id","teacherSearchInput","name","teacherSearchInput","type","text",3,"ngModel","ngModelChange","keyup","keydown.enter"],["id","studentSearchInput","name","studentSearchInput","type","text",3,"ngModel","ngModelChange","keyup","keydown.enter"],["id","teacherSearchInput","name","teacherSearchInput","type","text","autocomplete","off","aria-describedby","initInstrStaff","aria-owns","results","aria-expanded","false","aria-autocomplete","both","aria-activedescendant","",3,"ngModel","ngModelChange","keyup","keydown.enter","focus","blur","keydown.shift.tab"],["searchInput",""],["role","menubar",1,"search-results",3,"id","ngClass"],["searchMenu",""],["tabindex","0","role","menuitem",3,"id","ngClass","keydown.shift.enter","keydown.enter","keyup","focus","keydown.backspace","keydown.esc",4,"ngFor","ngForOf"],["id","initInstrStaff","style","display: none;",4,"ngIf"],["aria-live","assertive","class","screen_readers_only",4,"ngIf"],["tabindex","0","role","menuitem",3,"id","ngClass","keydown.shift.enter","keydown.enter","keyup","focus","keydown.backspace","keydown.esc"],[1,"search-result-type"],["name","user",4,"ngIf"],["name","user-x","class","inactive",4,"ngIf"],[1,"search-result-name",3,"click"],[1,"search-result-info",3,"click"],[1,"search-result-action",3,"click"],["type","button","tabindex","0",3,"id","blur","keydown.enter"],["name","plus-alt",4,"ngIf"],["name","minus-alt",4,"ngIf"],["name","user"],["name","user-x",1,"inactive"],["name","plus-alt"],["name","minus-alt"],[1,"search-result-type",3,"click"],[1,"table"],[1,"search-result-single-line",3,"click"],["type","button",3,"id","blur","keydown.enter"],["name","media-play"],["id","initInstrStaff",2,"display","none"],["aria-live","assertive",1,"screen_readers_only"],["id","studentSearchInput","name","studentSearchInput","type","text","autocomplete","off","aria-describedby","initInstrStudents","aria-owns","results","aria-expanded","false","aria-autocomplete","both","aria-activedescendant","",3,"ngModel","ngModelChange","keyup","keydown.enter","focus","blur","keydown.shift.tab"],["tabindex","0","role","menuitem",3,"id","ngClass","keydown.enter","keydown.shift.enter","keyup","focus","keydown.backspace","keydown.esc",4,"ngFor","ngForOf"],["id","initInstrStudents","style","display: none;",4,"ngIf"],["tabindex","0","role","menuitem",3,"id","ngClass","keydown.enter","keydown.shift.enter","keyup","focus","keydown.backspace","keydown.esc"],[1,"search-result-action",3,"click","blur"],["id","initInstrStudents",2,"display","none"],[3,"ngClass"],["type","text",3,"id","ngModel","ngModelChange","keydown.enter"],[1,"inline"],["type","checkbox",3,"id","ngModel","ngModelChange","keydown.enter"],[1,"dpWrapper"],["type","text",3,"id","ngModel","ngModelChange","keydown.enter","blur","keyup"],[1,"error-message","adjusted-error-message",3,"id"],[1,"datepicker-icon-only"],["type","text",1,"psDateWidget",3,"id"],[3,"id","choices","customStyle","isMultiSelect","selectedChoice","keydown.enter"],[3,"id","choices","customStyle","selectedChoice","keydown.enter"],["href","https://docs.powerschool.com/PSHSA/latest/?contentKey=search","target","_blank",1,"button","searchbarHelp",3,"id"],["name","help-s"],[1,"search-links","staff-search-links"],["class","quick-search-links",4,"ngIf"],[1,"quick-search-links"],["id","staffDirectory","href","/admin/faculty/facultydirectory.html"],["href","/admin/faculty/storedsearches/home.html",3,"id"],["href","/admin/faculty/storedselections/home.html?table=5&selection=adminhome",3,"id"],["href","/admin/fields/tchrfieldlist_yui.html?inf=teacherSearchInput&op=1&search=y",1,"dialogR",3,"id","title"],["tabindex","0",3,"id","keydown.enter","click",4,"ngIf"],["tabindex","0","class","letter-link",3,"id","keydown.enter","click",4,"ngFor","ngForOf"],["tabindex","0",1,"letter-link",3,"id","keydown.enter","click"],["tabindex","0",3,"id","keydown.enter","click",4,"ngFor","ngForOf"],["tabindex","0",3,"id","keydown.enter","click"],[1,"search-links","student-search-links"],["tabindex","0","id","selectAllStudents",3,"keydown.enter","click"],["id","remoteEnrollmentsMode","type","checkbox",3,"ngModel","change","ngModelChange",4,"ngIf"],["for","remoteEnrollmentsMode",4,"ngIf"],["id","remoteEnrollmentsMode","type","checkbox",3,"ngModel","change","ngModelChange"],["for","remoteEnrollmentsMode"],[3,"id","choices","selectedChoice"],["href","/admin/storedsearches/","target","_top",3,"id"],["href","/admin/storedselections/home.html?table=1&selection=adminhome","target","_top",3,"id"],["href","/admin/fields/fieldlist_yui.html?inf=studentSearchInput&search=y",1,"dialogR",3,"id","title"],[1,"search-links","contact-search-links"],["for","accessAccountStatus.name"],["id","accessAccountStatus.name",3,"choices","keysTranslated","selectedChoice"],["id","filterByStudents","name","filterByStudents","type","checkbox",3,"ngModel","disabled","ngModelChange","change"],["for","filterByStudents"],["for","contactStatus.name"],["id","contactStatus.name",3,"choices","keysTranslated","selectedChoice"],["id","groupFunctionLink","href","#",3,"click"],[1,"filter-buttons",3,"ngClass"],["type","button",3,"id","click"],["type","button",3,"id","click",4,"ngFor","ngForOf"],["name","x-alt"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,cr,1,3,"pss-searchswitch",1),e.TgZ(2,"div",2)(3,"pss-dropdownbutton",3),e.NdJ("selectedChoice",function(c){return t.selectField(c)}),e.qZA(),e.YNc(4,ro,6,9,"div",4),e.YNc(5,Ni,3,8,"div",5),e.YNc(6,af,4,3,"div",6),e.YNc(7,Bv,8,10,"div",5),e.YNc(8,Hv,3,5,"div",6),e.YNc(9,Yu,2,3,"div",6),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return t.addFilter()}),e.TgZ(11,"span",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"pds-icon",9),e.qZA(),e.YNc(15,_c,2,1,"a",10),e.qZA(),e.YNc(16,Uv,18,21,"div",11),e.YNc(17,Jv,8,7,"div",12),e.YNc(18,ty,17,15,"div",13),e.YNc(19,iy,8,11,"div",14),e.YNc(20,ry,8,11,"div",14)),2&n&&(e.Q6J("ngClass",e.WLB(21,xf,"contacts"===t.mySearchType,t.modal)),e.xp6(1),e.Q6J("ngIf",t.searchType===t.mySearchType&&!t.hideSearchSwitch&&!t.isScheduler),e.xp6(2),e.Q6J("id",t.mySearchType+"SearchFields")("choices",t.availableSearchTypeFields)("customStyle",t.getFieldsCustomStyles()),e.xp6(1),e.Q6J("ngIf","string"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","number"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","boolean"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","date"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","multi"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","select"===t.selectedField.type),e.xp6(1),e.MGl("id","add_search_filter_btn_",t.mySearchType,""),e.xp6(2),e.Oqu(e.lcZ(13,19,"psx.js.angular.searchbar_component.search")),e.xp6(3),e.Q6J("ngIf","contacts"!==t.mySearchType),e.xp6(1),e.Q6J("ngIf","staff"===t.mySearchType),e.xp6(1),e.Q6J("ngIf","students"===t.mySearchType),e.xp6(1),e.Q6J("ngIf","contacts"===t.mySearchType),e.xp6(1),e.Q6J("ngIf","contacts"!==t.searchType),e.xp6(1),e.Q6J("ngIf","contacts"===t.mySearchType))},dependencies:[Qe.Fj,Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,sr,ar,Bt.X$],styles:["div.searchbar_container[_ngcontent-%COMP%]{margin:0 20px 20px;-webkit-margin-start:20px;margin-inline-start:20px;display:flex;flex-direction:row}div.searchbar_container.contacts[_ngcontent-%COMP%]   .addField[_ngcontent-%COMP%]{margin:0}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]{display:flex;flex:1 0 auto}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]{display:flex;margin:auto 20px;width:100%}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;margin:auto 20px;padding:3px 10px;background-color:#d3d3d3;border-radius:4px}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0 5px;-webkit-margin-start:20px;margin-inline-start:20px;border-radius:4px;border:1px solid lightgray}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:100%;padding:0 10px;-webkit-margin-end:10px;margin-inline-end:10px}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   #studentSearchInput[_ngcontent-%COMP%], div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   #teacherSearchInput[_ngcontent-%COMP%], div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0 5px;border-radius:4px;border:1px solid lightgray}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-with-drop[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:100%;padding:0 10px;display:flex}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-with-drop[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0 5px;border-radius:4px;border:1px solid lightgray;-webkit-margin-start:20px;margin-inline-start:20px}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-half[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:50%;padding:0 10px;-webkit-margin-end:10px;margin-inline-end:10px}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-half[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:30px;padding:0 5px;border-radius:4px;border:1px solid lightgray}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   .inline-half[_ngcontent-%COMP%]   button.ui-datepicker-trigger[_ngcontent-%COMP%]{padding:5px 8px;height:32px;width:32px}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   div.inline-half-with-drop[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:50%;padding:0 10px;display:flex}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   div.inline-half-with-drop[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:115px;height:30px;padding:0 5px;border-radius:4px;border:1px solid lightgray;-webkit-margin-start:20px;margin-inline-start:20px}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   div.inline-half-with-drop[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   button.ui-datepicker-trigger[_ngcontent-%COMP%]{padding:5px 8px;height:32px;width:32px}div.searchbar_container[_ngcontent-%COMP%] > div.searchFields[_ngcontent-%COMP%]   div.inline-half-with-drop[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   .adjusted-error-message[_ngcontent-%COMP%]{display:block;margin:0;-webkit-margin-start:20px;margin-inline-start:20px}div.searchbar_container[_ngcontent-%COMP%]   .addField[_ngcontent-%COMP%]{margin:0 10px;-webkit-margin-start:0;margin-inline-start:0;padding:5px;height:32px;width:32px}div.searchbar_container[_ngcontent-%COMP%]   .addField[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;margin:0;height:20px;width:20px}div.searchbar_container[_ngcontent-%COMP%]   a.searchbarHelp[_ngcontent-%COMP%]{margin:0;padding:0;height:32px;width:32px}div.searchbar_container[_ngcontent-%COMP%]   a.searchbarHelp[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;margin:5px;height:20px;width:20px}.filter-buttons[_ngcontent-%COMP%]{margin:0 10px 10px;height:auto;display:none}.filter-buttons.showFilters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:32px;padding:5px;display:flex;line-height:1.5em}.filter-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;margin:auto 5px;height:18px;width:18px}.filter-buttons[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:auto 0;-webkit-margin-start:10px;margin-inline-start:10px}.search-links[_ngcontent-%COMP%]{background-color:#eee;margin:10px 20px;padding:0 10px;-webkit-padding-start:5px;padding-inline-start:5px;border-radius:4px}.search-links[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{-webkit-margin-start:15px;margin-inline-start:15px;vertical-align:text-bottom}.search-links[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-margin-end:-10px;margin-inline-end:-10px;vertical-align:middle}.search-links[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding:0;margin:0}.search-links[_ngcontent-%COMP%]   pss-dropdownbutton[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{-webkit-margin-start:20px;margin-inline-start:20px}.search-links[_ngcontent-%COMP%]   pss-dropdownbutton[_ngcontent-%COMP%] + input[type=checkbox][_ngcontent-%COMP%]{-webkit-margin-start:30px;margin-inline-start:30px}.search-links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0}.search-links[_ngcontent-%COMP%]   .btnLink[_ngcontent-%COMP%]{background:transparent;color:#0066a5}.search-links[_ngcontent-%COMP%]   .btnLink[_ngcontent-%COMP%]:hover{color:#00427c}.staff-search-links[_ngcontent-%COMP%], .student-search-links[_ngcontent-%COMP%]{min-height:30px}.contact-search-links[_ngcontent-%COMP%]{min-height:40px}div.quick-search-links[_ngcontent-%COMP%]{min-height:30px;line-height:30px;padding:0;margin:0}div.quick-search-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;height:30px;line-height:30px;min-width:.75em;border-radius:4px;text-align:center;padding:0 .4em}div.quick-search-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3bfcc}div.quick-search-links[_ngcontent-%COMP%]   a.letter-link[_ngcontent-%COMP%]{min-width:20px;padding:0}.search-results[_ngcontent-%COMP%]{position:absolute;z-index:200;min-width:140px;width:auto;overflow:hidden;text-align:start;border:1px solid #aaaaaa;background-color:#fff;box-shadow:0 5px 10px #0006;border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;display:none}.search-results.showResults[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:400px;overflow:auto}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:-ms-grid;-ms-grid-columns:40px minmax(25%,1fr) 40px;-ms-grid-rows:22px 22px;display:grid;grid-template-columns:40px minmax(25%,1fr) 40px;grid-template-rows:22px 22px;white-space:nowrap}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f2f2f2;cursor:pointer}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-type[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:1;-ms-grid-column:1;-ms-grid-column-span:1;grid-column-start:1;grid-column-end:1;grid-row-start:1;grid-row-end:3;padding:10px}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-type[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{height:100%;width:100%;fill:#0066a5}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-type[_ngcontent-%COMP%]   pds-icon.inactive[_ngcontent-%COMP%]{fill:#707070}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-single-line[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:2;-ms-grid-column:2;-ms-grid-column-span:1;justify-content:center;grid-column-start:2;grid-column-end:2;grid-row-start:1;grid-row-end:span 2;margin:0;padding:12px 0}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-name[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:2;-ms-grid-column:2;-ms-grid-column-span:1;grid-column-start:2;grid-column-end:2;grid-row-start:1;grid-row-end:1;margin:0;font-weight:700;font-size:14px;color:#333;padding-top:4px}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-info[_ngcontent-%COMP%]{-ms-grid-row:2;-ms-grid-row-span:1;-ms-grid-column:2;-ms-grid-column-span:1;grid-column-start:2;grid-column-end:2;grid-row-start:2;grid-row-end:2;margin:-3px 0 0;-webkit-margin-start:0px;margin-inline-start:0px;color:#666;font-size:10px;max-width:140px;text-overflow:ellipsis;overflow:hidden}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-padding-end:15px;padding-inline-end:15px}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-action[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:2;-ms-grid-column:3;-ms-grid-column-span:2;grid-column-start:3;grid-column-end:3;grid-row-start:1;grid-row-end:3;padding:7px 15px 15px;-webkit-padding-start:7px;padding-inline-start:7px}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;height:28px;width:28px}.search-results[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .search-result-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{height:100%;width:100%;fill:#fff}"]});class lr extends $r{constructor(n,t,a,c){super(a,c,!1),this.zone=t,this.selector=a,this.elementId=c,this.currentStudFilter=[],this.currentStaffFilter=[],this.lastQueryStudFilter=[],this.lastQueryStaffFilter=[],this.currentStudentId=0,this.currentStaffId=0,this.newUI=!0,this.searchTypeChange=new e.vpe,this.closeChange=new e.vpe,this.SELECTED_CONTACTS_WARNING_LIMIT=15,this.selectionChangeOccurred=!1,this.firstStudentDcidInCurrentSelection=0,this.firstStaffDcidInCurrentSelection=0,this.currentSelectionTotal=0,this.currentSelection=[],this.errorsSearch=[],this.searchResults=[],this.searchResultsTotal=0,this.searchTracker=new pc([],!0),this.selectionTracker=new pc([],!0),this.messageKeyPrefixes={students:"psx.html.admin.home",staff:"psx.js.angular.powersearch_component",contacts:"psx.html.admin_contacts.search"},this.hideSearchSwitch=!1,this.filters=[],this.classes={students:"",students_advanced:"",staff:"staff",staff_advanced:"advanced_staff",contacts:"contacts"},this.columns=[],this.columnKeys={},this.isDist=!1,this.selectByHand=!1,this.advancedMode=!1,this.editCurrentSelectionMode=!1,this.i18nText={cancel:"",consolidateContacts:"",confirm:""},this.currentSelectionIds=[],this.advancedKeyMap={set_all_students:"advanced_selection_set_to_all_sttudents",add_all_students:"advanced_added_all_students",subtract_all_students:"advanced_removed_all_students",intersect_all_students:"advanced_all_students_within_selection",set_ids:"advanced_set_to_",add_ids:"advanced_added_",subtract_ids:"advanced_removed_",intersect_ids:"advanced__within_selection",set_all_staff:"advanced_selection_set_to_all_staff",add_all_staff:"advanced_added_all_staff",subtract_all_staff:"advanced_removed_all_staff",intersect_all_staff:"advanced_all_staff_within_selection"},this.isGroupFunctionModal=!1,n.getPSSTranslations("psx.js.angular.powersearch_component","psx.js.angular.powersearch_component.current_staff_selection"),(0,js.D)(n.get("psx.html.admin_contacts.search.cancel"),n.get("psx.html.admin_contacts.search.consolidate_contacts"),n.get("psx.html.admin_contacts.search.confirm")).subscribe(u=>{this.i18nText.cancel=u[0],this.i18nText.consolidateContacts=u[1],this.i18nText.confirm=u[2]})}set updateSearchTypeFromParent(n){this.searchType=n,this.isComponentVisible=this.searchType===this.mySearchType,"complete"===document.readyState&&this.searchType===this.mySearchType&&(this.mySearchType!==ke.contacts?this.getSelection("search_switch_btn"):this.mySearchType===ke.contacts&&this.findElement("search_switch_btn").then(t=>t.focus()))}set updateURL(n){if(n&&this.mySearchType===this.searchType)if(n.indexOf("frn=")>-1)if(n.indexOf("frn=???")>-1)this.url=n.replace("???",this.searchType===ke.students?"001":"005");else{let t=n.indexOf("frn="),a=n.indexOf("&",t);t>-1&&(this.url=n.replace(a>-1?n.substring(t,a):n.substring(t),"frn="+(this.searchType===ke.students?"001":"005")))}else this.url=n;else this.url=void 0}set updateHideSearchSwitch(n){this.hideSearchSwitch=n}set updateEnabled(n){n&&this.modal&&this.findElement(this.getSearchBarId()).then(t=>t.focus())}ngOnInit(){if(this.selectedFunction=window.selectFunctionObj,this.isDist=!!(typeof isDistrict<"u"&&isDistrict)&&isDistrict,this.currentStudentId&&(this.currentStudentId=+this.currentStudentId),this.currentStaffId&&(this.currentStaffId=+this.currentStaffId),this.pageContext===this.searchType){let t=new URLSearchParams(window.location.search).get("frn");t&&(this.currentPageDcid=t.startsWith("001")?+t.substring(t.indexOf("001")+3):+t.substring(t.indexOf("005")+3))}this.powersearchContextService.getIsGroupFunctionModal().subscribe(n=>{this.isGroupFunctionModal=n})}findElement(n){return(0,Di.Z)(function*(){for(;null===document.getElementById(n);)yield new Promise(t=>requestAnimationFrame(t));return document.getElementById(n)})()}createHtmlIds(n){n.forEach(t=>{t.htmlid="lnk_"+this.mySearchType+t.name.split(" ").join("").split(",").join("_").split("/").join("").split("*").join("").split("&").join("").split("(").join("").split(")").join("").split("#").join("").split(";").join("")})}updateSearchType(n){this.searchType=n,this.searchTypeChange.emit(n),this.isComponentVisible=this.searchType===this.mySearchType,this.findElement(this.getSearchBarId()).then(t=>t.focus())}cancelSelectionChange(n){n.stopPropagation(),this.closeChange.emit(!0)}handleCloseEvent(n){if(this.isGroupFunctionModal)return n?void(this.url=void 0):void(document.location.href=this.url);if(n)this.url=void 0;else if(this.selectionChangeOccurred){if(this.currentSelectionTotal>0)return void(document.location.href=this.getURL((this.searchType===ke.students?"001":"005")+this.currentSelection[0].dcid))}else{if(this.searchType===this.pageContext)return void(this.url=void 0);if(this.currentSelectionTotal>0)return void(document.location.href=this.getURL((this.searchType===ke.students?"001":"005")+this.currentSelection[0].dcid))}}advancedModeUpdated(n){this.advancedMode=n}isCurrentPage(n){return n===this.selectionTracker.pageNumber}firstPage(){this.selectionTracker.pageNumber=1,this.getSelection()}previousPage(){this.selectionTracker.pageNumber>1&&(this.selectionTracker.pageNumber--,this.getSelection())}setPage(n){this.selectionTracker.pageNumber=n,this.getSelection()}nextPage(){this.selectionTracker.pageNumber<this.selectionTracker.numberOfPages&&(this.selectionTracker.pageNumber++,this.getSelection())}lastPage(){this.selectionTracker.pageNumber=this.selectionTracker.numberOfPages,this.getSelection()}clearFilter(){this.filters=[],this.selectionTracker.pageNumber=0,this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.updateSelection()}setSelectionChangeOccurred(n){this.selectionChangeOccurred=n}updateSearchOrSelectionByAddedFilter(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),n instanceof Array?n.forEach(t=>{this.filters=this.filters.filter(a=>a.filterName!==t.filterName),this.filters.push(t)}):this.filters.push(n),this.filters.forEach((t,a)=>{t.op||(t.op=0===a?"set":"intersect")}),this.selectionTracker.setPageNumber(1),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.updateSelection()}updateSearchOrSelectionByRemovedFilter(n){n>-1&&(this.filters.splice(n,1),this.filters.length>0&&(this.filters[0].op&&"subtract"!==this.filters[0].op&&(this.filters[0].op="set"),"subtract"===this.filters[0].op&&(this.filters[0].clearSelection=!0),"hand_picked"===this.filters[0].filterName&&!this.filters[0].op&&this.filters[0].omitIds&&(this.filters[0].ids?(delete this.filters[0].omitIds,this.filters[0].messageKey=St+".added_"):this.filters[0].omitIds="[]",this.filters[0].clearSelection=!0)),this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.selectionTracker.setPageNumber(1),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.updateSelection())}runFunction(){typeof this.selectedFunction.runFunction<"u"&&this.selectedFunction.runFunction(),typeof this.selectedFunction.address<"u"&&(window.location.href=this.selectedFunction.address)}setSelectedFunction(n){this.selectedFunction=n,localStorage.setItem(`selected${this.searchType}Functions`,this.selectedFunction.htmlid)}editSelection(n){this.editCurrentSelectionMode=n,n||this.selectionTracker.resetSavedIds(!0),setTimeout(()=>{"students"==this.searchType?document.getElementById("selectByHandButtonStudent")&&document.getElementById("selectByHandButtonStudent").focus():"staff"==this.searchType&&document.getElementById("selectByHandButtonStaff")&&document.getElementById("selectByHandButtonStaff").focus()})}getSearchBarId(){return"students"==this.searchType?"studentSearchInput":"staff"==this.searchType?"teacherSearchInput":"contactSearchInput"}selectByCustomSearchValue(n){this.zone.run(()=>{const t=this.getCustomizedFilter(n.trim());t&&(this.filters=[],this.updateSelectionViaSearch([t]))})}getURL(n){if(!this.url)return`${this.searchType===ke.students?"/admin/students/home.html":"/admin/faculty/home.html"}?frn=${n}`;if(!(this.url.indexOf("frn=")>-1)){if(this.url.indexOf("selectstudent=")>-1||this.url.indexOf("selectteacher=")>-1){let t=this.url.substring(0,this.url.indexOf("?"));return t+=`?frn=${n}`,this.searchType===ke.staff&&(t+="&dispic=1"),t}return this.url}if(this.url.indexOf("frn=???")>-1)return this.url.replace("???",`${n}`);{let t=this.url.indexOf("frn="),a=this.url.indexOf("&",t);if(t>-1)return this.url.replace(a>-1?this.url.substring(t,a):this.url.substring(t),`frn=${n}`)}}getCheckAllCheckBox(){return"students"==this.searchType?"selectionAllStudent":"staff"==this.searchType?"selectionAllStaff":"selectionAllContacts"}editByHandButton(){this.editSelection(!0);let n=this.getCheckAllCheckBox();this.findElement(n).then(t=>t.focus())}}lr.\u0275fac=function(n){e.$Z()},lr.\u0275dir=e.lG2({type:lr,inputs:{updateSearchTypeFromParent:["searchType","updateSearchTypeFromParent"],updateURL:["url","updateURL"],modal:"modal",updateHideSearchSwitch:["hideSearchSwitch","updateHideSearchSwitch"],updateEnabled:["enabled","updateEnabled"],currentStudentId:["current_student_id","currentStudentId"],currentStaffId:["current_staff_id","currentStaffId"],newUI:"newUI",pageContext:"pageContext"},outputs:{searchTypeChange:"searchTypeChange",closeChange:"closeChange"},features:[e.qOj]});class qs extends $r{constructor(n,t,a){super(t,a,!1),this.zone=n,this.selector=t,this.elementId=a,this.open=!1,this.isDist=!1,this.updatedSelection=new e.vpe,this.updateAdvancedMode=new e.vpe,this.advancedDrawerOptions={title:"psx.html.admin.home.advanced",buttons:[{text:"psx.html.admin.home.set",callback:()=>{this.updateSelectionWithSearchOperation("set")},id:"setButton"},{text:"psx.html.admin.home.add",callback:()=>{this.updateSelectionWithSearchOperation("add")},id:"addButton"},{text:"psx.html.admin.home.subtract",callback:()=>{this.updateSelectionWithSearchOperation("subtract")},id:"subtractButton",disabled:!0},{text:"psx.html.admin.home.within",callback:()=>{this.updateSelectionWithSearchOperation("within")},id:"withinButton",disabled:!0}],closeFunction:()=>{this.advancedModeUpdated(!1)}},this.columns=[],this.searchResults=[],this.searchResultsTotal=0,this.searchTracker=new pc([],!0),this.searchType=ke.staff,this.errors=[]}set updateSelectionCount(n){this.advancedDrawerOptions.buttons[2].disabled=0===n,this.advancedDrawerOptions.buttons[3].disabled=0===n}advancedModeUpdated(n){this.open=n,this.isComponentVisible=n,document.getElementById("searchTable")&&(document.getElementById("searchTable").scrollTop=0),this.updateAdvancedMode.emit(n),n||this.clearSearchResult()}clearSearchResult(){this.searchResults=[],this.searchResultsTotal=0,this.searchTracker.updateItems(this.searchResults),this.searchFilter={},this.searchTracker.numberOfRows=this.searchResultsTotal,this.searchTracker.updateNumberOfPages(),this.searchTracker.updatePaginationNumbers()}findField(n,t){const a=n.findIndex(c=>c.name===t);return a>=0?n[a]:null}isCurrentPage(n,t){if(t)return n===this.searchTracker.pageNumber}firstPage(n){n&&(this.searchTracker.pageNumber=1,this.doSearch())}previousPage(n){if(n){if(!(this.searchTracker.pageNumber>1))return;this.searchTracker.pageNumber--,this.doSearch()}}setPage(n,t){t&&(this.searchTracker.pageNumber=n,this.doSearch())}nextPage(n){if(n){if(!(this.searchTracker.pageNumber<this.searchTracker.numberOfPages))return;this.searchTracker.pageNumber++,this.doSearch()}}lastPage(n){n&&(this.searchTracker.pageNumber=this.searchTracker.numberOfPages,this.doSearch())}updateSelectionWithSearchOperation(n){if(this.errors&&this.errors.length>0){let c=`psx.js.angular.powersearch_component.${n}_operation_is_not_allowed`,u=!1;return this.errors.forEach(_=>{_.errorMessage===c&&(u=!0)}),void(u||this.errors.push({errorMessage:c,isTranslated:!1}))}let t=this.filters.slice(0);const a={filterName:this.searchFilter.filterName,filterValue:this.searchFilter.filterValue};(this.searchTracker.reversed||this.searchTracker.checkAll||this.searchTracker.ids.length>0)&&(a.op="within"===n?"intersect":n,a.advanced=!0,this.searchTracker.reversed||this.searchTracker.checkAll?(a.search=a.filterValue,a.messageKey="all"===a.filterName&&""===a.filterValue.trim()?this.advancedKeyMap[`${n}_all_${this.searchType}`]:this.advancedKeyMap[`${n}_ids`],a.omitIds=`[${this.searchTracker.ids.join(",")}]`):(a.messageKey=this.advancedKeyMap[`${n}_ids`],a.ids=`[${this.searchTracker.ids.join(",")}]`),"set"===a.op?(a.valueForDisplay="",this.filters=[],t=[a]):t.push(a),this.updateSelectionViaSearch(t))}updateSelectionViaSearch(n){this.updatedSelection.emit(n)}updateSearchByAddedFilter(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.searchFilter=n,this.searchTracker.setPageNumber(1),this.doSearch()}checkErrors(n){let t=!1;return this.errors=[],n.isError?(t=!0,this.errors.push({errorMessage:n.error.statusText,isTranslated:!0})):n.errors&&n.errors.length>0&&(t=!0,n.errors.forEach(a=>{this.errors.push({errorMessage:a,isTranslated:!0})})),t}searchByCustomSearchValue(n){this.zone.run(()=>{const t=this.getCustomizedFilter(n.trim());t&&(this.filters=[],this.updateSearchByAddedFilter(t))})}}qs.\u0275fac=function(n){e.$Z()},qs.\u0275dir=e.lG2({type:qs,inputs:{open:"open",filters:"filters",isDist:"isDist",updateSelectionCount:["selectionCount","updateSelectionCount"]},outputs:{updatedSelection:"updatedSelection",updateAdvancedMode:"updateAdvancedMode"},features:[e.qOj]});var Xu=k(1342);const wf=["searchInput"],Mf=["searchMenu"];function Sf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-dropdownbutton",2),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.updateSelectedComparator(c))}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("id",t.selectedField.name+"comparatorsAdvanced")("choices",t.selectedField.comparators)("customStyle",t.customOptionsStyles)}}function Of(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",14),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.searchFilter=c)})("keydown.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.addFilter())}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy())}}function Tf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",15),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.searchFilter=c)})("keydown.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.addFilter())}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy())}}const dr=function(r,n){return{"inline-max":r,"inline-with-drop":n}};function sy(r,n){if(1&r&&(e.TgZ(0,"div",10),e.YNc(1,Sf,1,3,"pss-dropdownbutton",11),e.YNc(2,Of,1,2,"input",12),e.YNc(3,Tf,1,2,"input",13),e.qZA()),2&r){const t=e.oxw();e.Q6J("ngClass",e.WLB(4,dr,!t.selectedField.comparators,t.selectedField.comparators)),e.xp6(1),e.Q6J("ngIf",t.selectedField.comparators),e.xp6(1),e.Q6J("ngIf","staff"===t.searchType),e.xp6(1),e.Q6J("ngIf","students"===t.searchType)}}function ay(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-dropdownbutton",2),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.updateSelectedComparator(c))}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("id",t.selectedField.name+"comparatorsAdvanced")("choices",t.selectedField.comparators)("customStyle",t.customOptionsStyles)}}function Ks(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",10),e.YNc(1,ay,1,3,"pss-dropdownbutton",11),e.TgZ(2,"input",16),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.searchFilter=c)})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addFilter())}),e.qZA()()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.WLB(5,dr,!t.selectedField.comparators,t.selectedField.comparators)),e.xp6(1),e.Q6J("ngIf",t.selectedField.comparators),e.xp6(1),e.Q6J("id",t.selectedField.name+"Advanced")("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy())}}function hw(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",17)(1,"input",18),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedField.selected=c)})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addFilter())}),e.qZA(),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.MGl("id","",t.selectedField.id,"Advanced"),e.Q6J("ngModel",t.selectedField.selected),e.xp6(2),e.Oqu(t.selectedField.label)}}function eh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-dropdownbutton",2),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.updateSelectedComparator(c))}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("id",t.selectedField.name+"comparatorsAdvanced")("choices",t.selectedField.comparators)("customStyle",t.customOptionsStyles)}}const pw=function(r,n){return{"inline-half":r,"inline-half-with-drop":n}};function Pf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",10),e.YNc(1,eh,1,3,"pss-dropdownbutton",11),e.TgZ(2,"span")(3,"b",19)(4,"input",20),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.searchFilter=c)})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addDateFilter())})("blur",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.dateChanged(c))})("keyup",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.dateUpdated(c))}),e.qZA()(),e._UZ(5,"p",21),e.qZA(),e.TgZ(6,"span",22),e._UZ(7,"input",23),e.qZA()()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.WLB(7,pw,!t.selectedField.comparators,t.selectedField.comparators)),e.xp6(1),e.Q6J("ngIf",t.selectedField.comparators),e.xp6(3),e.Q6J("id",t.selectedField.name+"Advanced")("ngModel",t.searchFilter),e.uIk("aria-labelledby",t.getAriaLabelledBy()),e.xp6(1),e.Q6J("id",t.selectedField.name+"Advanced_error"),e.xp6(2),e.Q6J("id",t.selectedField.name+"Advanced_hidden")}}function Df(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.currentSelectFieldDisplayValue)}}function _w(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",17)(1,"pss-dropdownbutton",24,25),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectFieldValue(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addFilter())}),e.qZA(),e.YNc(3,Df,2,1,"span",26),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("id",t.selectedField.name+"Advanced")("choices",t.selectedField.options)("customStyle",t.customOptionsStyles)("isMultiSelect",!0),e.xp6(2),e.Q6J("ngIf",t.currentSelectFieldDisplayValue.length>0)}}function ze(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",17)(1,"pss-dropdownbutton",27),e.NdJ("selectedChoice",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectFieldValue(c))})("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addFilter())}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("id",t.selectedField.name+"Advanced")("choices",t.selectedField.options)("customStyle",t.customOptionsStyles)}}function cy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",35),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.searchByQuickLink(u))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","advanced_student_search_letter_"+t),e.xp6(1),e.Oqu(t)}}function ly(r,n){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,cy,2,2,"a",34),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.nameLetters)}}function dy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",36),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.searchByQuickLink("grade_level="+u.grade_level))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","advanced_student_search_grade_"+t.grade_text),e.xp6(1),e.Oqu(t.grade_text)}}function Js(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",36),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.searchByQuickLink("gender="+u.value))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","advanced_student_search_gender_"+t.value),e.xp6(1),e.Oqu(t.value)}}function uy(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",37),e.NdJ("change",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.advancedSearchRemoteEnrollmentsHandler())})("ngModelChange",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.includeRemoteEnrollments=c)}),e.qZA(),e.TgZ(2,"label",38),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.includeRemoteEnrollments),e.xp6(2),e.Oqu(e.lcZ(4,2,"psx.html.admin.home.include_remote_enrollments"))}}function ql(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",28),e.YNc(1,ly,2,1,"div",29),e.TgZ(2,"div",30),e.YNc(3,dy,2,2,"a",31),e.YNc(4,Js,2,2,"a",31),e.TgZ(5,"a",32),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.searchByQuickLink("all"))}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,uy,5,4,"ng-container",26),e.qZA(),e.TgZ(9,"div",30)(10,"a",33),e.ALo(11,"translate"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.displayQuickSearchNameLetters),e.xp6(2),e.Q6J("ngForOf",t.quickSearchLinks.gradeLevels),e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.gendersForStudent),e.xp6(2),e.Oqu(e.lcZ(7,7,"psx.html.admin.home.all")),e.xp6(2),e.Q6J("ngIf",!t.isDistrict),e.xp6(2),e.MGl("title","",e.lcZ(11,9,"psx.html.admin_fields.fieldlist_yui.field_list"),":"),e.xp6(2),e.Oqu(e.lcZ(13,11,"psx.html.admin.home.view_field_list"))}}function Kl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",35),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.searchByQuickLink(u))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","advanced_staff_search_letter_"+t),e.xp6(1),e.Oqu(t)}}function zt(r,n){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,Kl,2,2,"a",34),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.nameLetters)}}function fw(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",36),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.searchByQuickLink("staffStatus="+u.value))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","advanced_search_staff_type_"+t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.messageKey))}}function kf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",36),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.searchByQuickLink("gender="+u.value))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=n.$implicit;e.Q6J("id","advanced_search_staff_gender_"+t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.messageKey))}}function Ef(r,n){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,fw,3,4,"a",31),e.YNc(2,kf,3,4,"a",31),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.staffStatus),e.xp6(1),e.Q6J("ngForOf",t.quickSearchLinks.gendersForStaff)}}function hy(r,n){if(1&r&&(e.TgZ(0,"div",39),e.YNc(1,zt,2,1,"div",29),e.YNc(2,Ef,3,2,"div",29),e.TgZ(3,"div",30)(4,"a",40),e.ALo(5,"translate"),e._uU(6),e.ALo(7,"translate"),e.qZA()()()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.displayQuickSearchNameLetters),e.xp6(1),e.Q6J("ngIf",t.quickSearchLinks.staffStatus&&t.quickSearchLinks.staffStatus.length>0||t.quickSearchLinks.gendersForStaff&&t.quickSearchLinks.gendersForStaff.length>0),e.xp6(2),e.MGl("title","",e.lcZ(5,4,"psx.html.admin_fields.tchrfieldlist_yui.field_list"),":"),e.xp6(2),e.Oqu(e.lcZ(7,6,"psx.html.admin_faculty.search.view_field_list"))}}class Kr extends rr{constructor(n){super(n),this.translationService=n,this.searchOnly=!1,this.includeRemoteEnrollments=!1,this.filterAdded=new e.vpe,this.updateAdvancedMode=new e.vpe,this.updateAdvancedSearchRemoteEnrollments=new e.vpe,this.filters=[],this.usedSearchTypeFields=[],this.searchResults=[],this.backupSearchResults=[],this.selectionValues={usedSearchTypeFields:[],usedSearchTypeFieldsDisplay:[],handpickedFolks:[]},this.searchFilter="",this.displayQuickSearchNameLetters=!(!displayQuickSearchNameLettersPref||"1"!==displayQuickSearchNameLettersPref)}set updateFilters(n){this.filters=n}set content(n){this.updateContent(n)}ngOnInit(){this.selectedField=this.fields[0],this.fields.findIndex(t=>"last_name"===t.name)<0&&(this.displayQuickSearchNameLetters=!1)}advancedModeHandler(n){null!=n&&(this.advancedMode=n),this.selectedField=this.fields[0],this.updateAdvancedMode.emit(this.advancedMode)}getAriaLabelledBy(){return"do_search_btn"}searchByQuickLink(n){const t=this.getQuickLinkFilter(this.fields,n);t&&this.filterAdded.emit(t)}advancedSearchRemoteEnrollmentsHandler(){this.updateAdvancedSearchRemoteEnrollments.emit(this.includeRemoteEnrollments)}addFilter(){if("number"===this.selectedField.type){if(0===this.searchFilter.trim().length)return;super.addFilter()}else if("date"===this.selectedField.type){const n=`${this.selectedField.name}Advanced`,t=`${n}_error`,c=`${n}_hidden_error`;if(this.searchFilter=$j(`#${n}`).val(),this.selectedComparator&&this.searchFilter.trim().length>0){let u=$j(`#${t}`).text();if(u.trim().length>0||(u=$j(`#${c}`).text(),u.trim().length>0))return;super.addFilter()}}else if("string"===this.selectedField.type){if(this.selectedComparator&&0===this.searchFilter.trim().length)return;super.addFilter()}else super.addFilter()}addDateFilter(n){const t=`${this.selectedField.name}Advanced`,a=`${t}_error`,c=`${t}_hidden`,u=`${c}_error`;this.searchFilter=$j(`#${t}`).val();let _=this.searchFilter.trim();0!==_.length?(_=this.getDateFromSearchString(_),$j(`#${c}`).val(_),validateDate($j(`#${c}`)),setTimeout(()=>{$j(`#${u}`)&&($j(`#${a}`).text($j(`#${u}`).text()),$j(`#${u}`).remove()),this.addFilter()})):$j(`#${a}`).text("")}}function If(r,n){if(1&r&&(e.TgZ(0,"div",9)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,3,"psx.js.angular.studentsearch_component.current_search"),":"),e.xp6(3),e.AsE("",e.lcZ(6,5,t.currentSearchResultField.messageKey),": ",t.searchFilter.valueForDisplay,"")}}function Ff(r,n){if(1&r&&(e.TgZ(0,"div",11)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=n.$implicit;e.Q6J("id","advanced_student_search_error_"+n.index),e.xp6(2),e.Oqu(t.isTranslated?t.errorMessage:e.lcZ(3,2,t.errorMessage))}}function _y(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Ff,4,4,"div",10),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors)}}function fy(r,n){1&r&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"psx.html.admin.home.there_are_no_search_results")))}function gy(r,n){1&r&&e._UZ(0,"col")}function fc(r,n){1&r&&e._UZ(0,"col")}Kr.\u0275fac=function(n){return new(n||Kr)(e.Y36(Kt.h))},Kr.\u0275cmp=e.Xpm({type:Kr,selectors:[["pss-advanced-searchbar"]],viewQuery:function(n,t){if(1&n&&(e.Gf(wf,5),e.Gf(Mf,5)),2&n){let a;e.iGM(a=e.CRH())&&(t.content=a.first),e.iGM(a=e.CRH())&&(t.searchMenu=a.first)}},inputs:{isDistrict:"isDistrict",searchType:"searchType",fields:"fields",selectionIds:"selectionIds",searchOnly:"searchOnly",quickSearchLinks:"quickSearchLinks",includeRemoteEnrollments:"includeRemoteEnrollments",updateFilters:["filters","updateFilters"]},outputs:{filterAdded:"filterAdded",updateAdvancedMode:"updateAdvancedMode",updateAdvancedSearchRemoteEnrollments:"updateAdvancedSearchRemoteEnrollments"},features:[e._Bn([Pn,Dn]),e.qOj],decls:16,vars:14,consts:[[1,"searchbar_container"],[1,"searchFields"],[3,"id","choices","customStyle","selectedChoice"],[3,"ngClass",4,"ngIf"],["class","inline",4,"ngIf"],["id","do_search_btnAdvanced","type","button",1,"addField",3,"click"],[1,"screen_readers_only"],["name","search"],["class","search-links student-search-links",4,"ngIf"],["class","search-links staff-search-links",4,"ngIf"],[3,"ngClass"],[3,"id","choices","customStyle","selectedChoice",4,"ngIf"],["id","teacherAdvancedSearchInput","name","teacherAdvancedSearchInput","type","text",3,"ngModel","ngModelChange","keydown.enter",4,"ngIf"],["id","studentAdvancedSearchInput","name","studentAdvancedSearchInput","type","text",3,"ngModel","ngModelChange","keydown.enter",4,"ngIf"],["id","teacherAdvancedSearchInput","name","teacherAdvancedSearchInput","type","text",3,"ngModel","ngModelChange","keydown.enter"],["id","studentAdvancedSearchInput","name","studentAdvancedSearchInput","type","text",3,"ngModel","ngModelChange","keydown.enter"],["type","text",3,"id","ngModel","ngModelChange","keydown.enter"],[1,"inline"],["type","checkbox",3,"id","ngModel","ngModelChange","keydown.enter"],[1,"dpWrapper"],["type","text",3,"id","ngModel","ngModelChange","keydown.enter","blur","keyup"],[1,"error-message","adjusted-error-message",3,"id"],[1,"datepicker-icon-only"],["type","text",1,"psDateWidget",3,"id"],[3,"id","choices","customStyle","isMultiSelect","selectedChoice","keydown.enter"],["multiselectadvanced",""],[4,"ngIf"],[3,"id","choices","customStyle","selectedChoice","keydown.enter"],[1,"search-links","student-search-links"],["class","quick-search-links",4,"ngIf"],[1,"quick-search-links"],[3,"id","click",4,"ngFor","ngForOf"],["id","advanced_search_all_students",3,"click"],["id","student_field_listAdvanced","href","/admin/fields/fieldlist_yui.html?inf=studentAdvancedSearchInput&search=y",1,"dialogR",3,"title"],["class","letter-link",3,"id","click",4,"ngFor","ngForOf"],[1,"letter-link",3,"id","click"],[3,"id","click"],["id","advanced_search_remote_ernrollments","type","checkbox",3,"ngModel","change","ngModelChange"],["for","advanced_search_remote_ernrollments"],[1,"search-links","staff-search-links"],["id","staff_field_listAdvanced","href","/admin/fields/tchrfieldlist_yui.html?inf=teacherAdvancedSearchInput&op=1&search=y",1,"dialogR",3,"title"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"pss-dropdownbutton",2),e.NdJ("selectedChoice",function(c){return t.selectField(c)}),e.qZA(),e.YNc(3,sy,4,7,"div",3),e.YNc(4,Ks,3,8,"div",3),e.YNc(5,hw,4,3,"div",4),e.YNc(6,Pf,8,10,"div",3),e.YNc(7,_w,4,5,"div",4),e.YNc(8,ze,2,3,"div",4),e.qZA(),e.TgZ(9,"button",5),e.NdJ("click",function(){return t.addFilter()}),e.TgZ(10,"span",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"pds-icon",7),e.qZA()(),e.YNc(14,ql,14,13,"div",8),e.YNc(15,hy,8,8,"div",9)),2&n&&(e.xp6(2),e.Q6J("id",t.searchType+"SearchFieldsAdvanced")("choices",t.fields)("customStyle",t.customFieldsStyles),e.xp6(1),e.Q6J("ngIf","string"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","number"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","boolean"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","date"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","multi"===t.selectedField.type),e.xp6(1),e.Q6J("ngIf","select"===t.selectedField.type),e.xp6(3),e.Oqu(e.lcZ(12,12,"psx.js.angular.searchbar_component.search")),e.xp6(3),e.Q6J("ngIf","students"===t.searchType),e.xp6(1),e.Q6J("ngIf","staff"===t.searchType))},dependencies:[Qe.Fj,Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,sr,Bt.X$],styles:[".searchbar_container[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:row}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]{display:flex;flex:1 0 auto}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]{display:flex;margin:auto 20px;width:100%}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;margin:auto 20px;padding:3px 10px;background-color:#d3d3d3;border-radius:4px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0;-webkit-margin-start:20px;margin-inline-start:20px;border-radius:4px;border:1px solid lightgray}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:100%;padding:0 10px;-webkit-margin-end:10px;margin-inline-end:10px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   #studentSearchInput[_ngcontent-%COMP%], .searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   #teacherSearchInput[_ngcontent-%COMP%], .searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-max[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0;border-radius:4px;border:1px solid lightgray}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-with-drop[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:100%;padding:0 10px;display:flex}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-with-drop[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;height:30px;padding:0;border-radius:4px;border:1px solid lightgray;-webkit-margin-start:20px;margin-inline-start:20px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:50%;padding:0 10px;-webkit-margin-end:10px;margin-inline-end:10px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:30px;padding:0;border-radius:4px;border:1px solid lightgray}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half-with-drop[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px;width:50%;padding:0 10px;display:flex}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half-with-drop[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:115px;height:30px;padding:0;border-radius:4px;border:1px solid lightgray;-webkit-margin-start:20px;margin-inline-start:20px}.searchbar_container[_ngcontent-%COMP%] > .searchFields[_ngcontent-%COMP%]   .inline-half-with-drop[_ngcontent-%COMP%]   .adjusted-error-message[_ngcontent-%COMP%]{display:block;margin:0;-webkit-margin-start:20px;margin-inline-start:20px}.searchbar_container[_ngcontent-%COMP%]   .addField[_ngcontent-%COMP%]{margin:0 10px;-webkit-margin-start:0;margin-inline-start:0;padding:5px;height:32px;width:32px}.searchbar_container[_ngcontent-%COMP%]   .addField[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;margin:0;height:20px;width:20px}.searchbar_container[_ngcontent-%COMP%]   .searchbarHelp[_ngcontent-%COMP%]{margin:0;padding:0;height:30px;width:30px}.searchbar_container[_ngcontent-%COMP%]   .searchbarHelp[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;margin:5px;height:20px;width:20px}.search-links[_ngcontent-%COMP%]{background-color:#eee;margin:10px;padding:0 10px;-webkit-padding-start:5px;padding-inline-start:5px;border-radius:4px}.search-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 10px}.search-links[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{-webkit-margin-start:15px;margin-inline-start:15px;vertical-align:text-bottom}.search-links[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-margin-end:-10px;margin-inline-end:-10px;vertical-align:middle}.search-links[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding:0;margin:0}.search-links[_ngcontent-%COMP%]   pss-dropdownbutton[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{-webkit-margin-start:20px;margin-inline-start:20px}.search-links[_ngcontent-%COMP%]   pss-dropdownbutton[_ngcontent-%COMP%] + input[type=checkbox][_ngcontent-%COMP%]{-webkit-margin-start:30px;margin-inline-start:30px}.search-links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0}.staff-search-links[_ngcontent-%COMP%], .student-search-links[_ngcontent-%COMP%]{min-height:30px}.contact-search-links[_ngcontent-%COMP%]{min-height:40px}div.quick-search-links[_ngcontent-%COMP%]{min-height:30px;line-height:30px;padding:0;margin:0}div.quick-search-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;height:30px;line-height:30px;min-width:.75em;border-radius:4px;text-align:center;padding:0 .4em}div.quick-search-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3bfcc}div.quick-search-links[_ngcontent-%COMP%]   a.letter-link[_ngcontent-%COMP%]{min-width:20px;padding:0}.search-results[_ngcontent-%COMP%]{position:fixed;z-index:200;min-width:80px;width:auto;overflow:hidden;text-align:start;border:1px solid #aaaaaa;background-color:#fff;box-shadow:0 5px 10px #0006;border-radius:4px;display:none}.search-results.showResults[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:400px;overflow:auto}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:-ms-grid;-ms-grid-columns:minmax(25%,1fr) 60px;-ms-grid-rows:30px 30px;display:grid;grid-template-columns:minmax(25%,1fr) 60px;grid-template-rows:30px 30px;white-space:nowrap}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#a3bfcc;cursor:pointer}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .staff-name[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .student-name[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:1;-ms-grid-column:1;-ms-grid-column-span:1;grid-column-start:1;grid-column-end:1;grid-row-start:1;grid-row-end:1;margin:10px 10px 3px}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .staff-info[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .student-info[_ngcontent-%COMP%]{-ms-grid-row:2;-ms-grid-row-span:1;-ms-grid-column:1;-ms-grid-column-span:1;grid-column-start:1;grid-column-end:1;grid-row-start:2;grid-row-end:2;margin:3px 10px 10px}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .addButton[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:2;-ms-grid-column:2;-ms-grid-column-span:2;grid-column-start:2;grid-column-end:2;grid-row-start:1;grid-row-end:3;padding:15px}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .addButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto;height:28px;width:28px}.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .addButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{height:100%;width:100%;fill:#fff}"]});const Af=function(r,n){return{left:r,center:n}};function my(r,n){if(1&r&&(e.TgZ(0,"th",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit,a=n.index,c=e.oxw(2);e.Q6J("ngClass",e.WLB(4,Af,0===a,a>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home."+c.columnKeys[t]))}}function Cy(r,n){1&r&&(e.TgZ(0,"th",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.school")))}function Jl(r,n){1&r&&e._UZ(0,"col")}function Nf(r,n){1&r&&e._UZ(0,"col")}function Lf(r,n){if(1&r&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&r){const t=n.$implicit,a=n.index,c=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(2,Af,0===a,a>0)),e.xp6(1),e.Oqu(c[t])}}function Rf(r,n){if(1&r&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.schoolAbbreviation)}}function vy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",23),e.NdJ("ngModelChange",function(c){const _=e.CHM(t).$implicit;return e.KtG(_.inSelection=c)})("change",function(){const u=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.searchTracker.selectionChange(u))}),e.qZA()(),e.YNc(3,Lf,2,5,"td",19),e.YNc(4,Rf,2,1,"td",20),e.qZA()}if(2&r){const t=n.$implicit,a=e.oxw(2);e.xp6(2),e.MGl("id","selectByHand_chk",t.dcid,"StudentAdvanced"),e.Q6J("ngModel",t.inSelection),e.xp6(1),e.Q6J("ngForOf",a.columns),e.xp6(1),e.Q6J("ngIf",a.isDist||a.remoteEnrollments)}}const Qs=function(r,n){return{district:r,school:n}};function gc(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"table",15)(3,"colgroup"),e._UZ(4,"col"),e.YNc(5,gy,1,0,"col",16),e.YNc(6,fc,1,0,"col",5),e.qZA(),e.TgZ(7,"thead")(8,"tr")(9,"th",17)(10,"input",18),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.searchTracker.checkAll=c)})("change",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.searchTracker.toggleSelectionBoxes())}),e.qZA()(),e.YNc(11,my,3,7,"th",19),e.YNc(12,Cy,3,3,"th",20),e.qZA()()()(),e.TgZ(13,"div",21)(14,"table",15)(15,"colgroup"),e._UZ(16,"col"),e.YNc(17,Jl,1,0,"col",16),e.YNc(18,Nf,1,0,"col",5),e.qZA(),e.TgZ(19,"tbody"),e.YNc(20,vy,5,4,"tr",16),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Tol(t.studentsClass),e.Q6J("ngClass",e.WLB(16,Qs,t.isDist,!t.isDist)),e.xp6(3),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments),e.xp6(4),e.Q6J("ngModel",t.searchTracker.checkAll),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments),e.xp6(2),e.Tol(t.studentsClass),e.Q6J("ngClass",e.WLB(19,Qs,t.isDist,!t.isDist)),e.xp6(3),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments),e.xp6(2),e.Q6J("ngForOf",t.searchResults)}}const yy=function(r){return{active:r}};function by(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",15)(1,"a",28),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.setPage(u,!0))}),e._uU(2),e.qZA()()}if(2&r){const t=n.$implicit,a=e.oxw(2);e.Q6J("ngClass",e.VKq(3,yy,a.isCurrentPage(t,!0))),e.xp6(1),e.MGl("id","Page",t,"StudentAdvanced"),e.xp6(1),e.Oqu(t)}}const Ql=function(r){return{disabled:r}};function Bf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul")(1,"li")(2,"a",24),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.firstPage(!0))}),e._UZ(3,"em"),e._uU(4,"<<"),e.qZA()(),e.TgZ(5,"li")(6,"a",25),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.previousPage(!0))}),e._UZ(7,"em"),e._uU(8,"<"),e.qZA()(),e.YNc(9,by,3,5,"li",19),e.TgZ(10,"li")(11,"a",26),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.nextPage(!0))}),e._UZ(12,"em"),e._uU(13,">"),e.qZA()(),e.TgZ(14,"li")(15,"a",27),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.lastPage(!0))}),e._UZ(16,"em"),e._uU(17,">>"),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(5,Ql,1===t.searchTracker.pageNumber)),e.xp6(4),e.Q6J("ngClass",e.VKq(7,Ql,1===t.searchTracker.pageNumber)),e.xp6(3),e.Q6J("ngForOf",t.searchTracker.pages),e.xp6(2),e.Q6J("ngClass",e.VKq(9,Ql,t.searchTracker.pageNumber===t.searchTracker.numberOfPages)),e.xp6(4),e.Q6J("ngClass",e.VKq(11,Ql,t.searchTracker.pageNumber===t.searchTracker.numberOfPages))}}const Vf=function(r){return{0:r}};class Ys extends qs{constructor(n,t){super(t,"pss-student-advancedsearch","advanced_student_search_feedback"),this.studentSearchServices=n,this.open=!1,this.filters=[],this.isScheduler=!1,this.updatedSelection=new e.vpe,this.updateAdvancedMode=new e.vpe,this.SEARCH_TYPE_STUDENTS=ke.students,this.advancedKeyMap={set_all_students:"advanced_selection_set_to_all_sttudents",add_all_students:"advanced_added_all_students",subtract_all_students:"advanced_removed_all_students",within_all_students:"advanced_all_students_within_selection",set_ids:"advanced_set_to_",add_ids:"advanced_added_",subtract_ids:"advanced_removed_",within_ids:"advanced__within_selection"},this.columns=[],this.columnKeys={},this.includeRemotes=!1,this.isSearchLoading=!1,this.remoteEnrollments=!1,this.searchResults=[],this.searchResultsTotal=0,this.searchTracker=new pc([],!0),this.searchType=ke.students,this.exposeFunction("searchStudentByCustomSearchValue",a=>{this.searchByCustomSearchValue(a)},[{name:"searchString",description:"Value to search for students."}],"Use this function to provide a custom search search string in the advanced drawer.")}doSearch(){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.studentSearchServices.getStudents(this.searchFilter.filterValue,this.searchTracker.pageNumber,this.searchTracker.rowsPerPage,null,this.remoteEnrollments).subscribe(n=>{this.processData(n),this.currentSearchResultField=this.findField(this.studentFields,this.searchFilter.filterName),document.getElementById("searchTableStudentAdvanced")&&(document.getElementById("searchTableStudentAdvanced").scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}processData(n,t){if(this.checkErrors(n))return;this.columns=n.columns,this.columnKeys={},this.columns.forEach(u=>{switch(u){case"lastFirst":this.columnKeys[u]="student";break;case"dateOfBirth":this.columnKeys[u]="date_of_birth";break;case"gradeLevel":this.columnKeys[u]="grade_level";break;case"socialSecurityNumber":this.columnKeys[u]="ssn";break;case"studentNumber":this.columnKeys[u]="student_number"}});let c=n.columns.length;this.isDist&&c++,n.includeRemote&&(this.includeRemotes=n.includeRemote),n.students.forEach(u=>{if(u.dateOfBirth){const _=u.dateOfBirth.split("-"),S=new Date(+_[0],+_[1]-1,+_[2]);u.dateOfBirth=get_localized_date(S)}}),this.studentsClass=`advanced_students_${c}`,t||(this.searchResultsTotal=n.total,this.searchResults=n.students,this.searchTracker.updateItems(this.searchResults),this.searchTracker.numberOfRows=n.total,this.searchTracker.updateNumberOfPages(),this.searchTracker.updatePaginationNumbers())}advancedSearchRemoteEnrollmentsUpdated(n){this.remoteEnrollments=n}getCustomizedFilter(n){const t=this.studentFields[0];return{filterName:t.name,filterValue:n,op:"set",valueForDisplay:n,keysTranslated:t.keysTranslated,messageKey:t.messageKey}}}Ys.\u0275fac=function(n){return new(n||Ys)(e.Y36(Dn),e.Y36(e.R0b))},Ys.\u0275cmp=e.Xpm({type:Ys,selectors:[["pss-student-advancedsearch"]],inputs:{studentFields:"studentFields",open:"open",filters:"filters",isScheduler:"isScheduler",quickSearchLinks:"quickSearchLinks"},outputs:{updatedSelection:"updatedSelection",updateAdvancedMode:"updateAdvancedMode"},features:[e._Bn([Dn]),e.qOj],decls:13,vars:20,consts:[[3,"showDialog","options","showDialogChange"],[3,"advancedMode","fields","searchType","isDistrict","filters","quickSearchLinks","includeRemoteEnrollments","updateAdvancedMode","filterAdded","updateAdvancedSearchRemoteEnrollments"],["class","advanced-search-text","id","student_advanced_search_text",4,"ngIf"],[1,"box-round","search-results"],["tabindex","0"],[4,"ngIf"],["class","feedback-info","tabindex","0","id","advanced_student_search_feedback",4,"ngIf"],["id","studentSearchTableAdvanced","class","gridWidget",4,"ngIf"],[1,"gridWidgetPagination"],["id","student_advanced_search_text",1,"advanced-search-text"],["class","feedback-alert",3,"id",4,"ngFor","ngForOf"],[1,"feedback-alert",3,"id"],["tabindex","0","id","advanced_student_search_feedback",1,"feedback-info"],["id","studentSearchTableAdvanced",1,"gridWidget"],[1,"tableHead"],[3,"ngClass"],[4,"ngFor","ngForOf"],[1,"left"],["type","checkbox","id","selectByHandAllStudentAdvanced",3,"ngModel","ngModelChange","change"],[3,"ngClass",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],["id","searchTableStudentAdvanced",1,"tableBody"],[1,"center"],["type","checkbox",1,"student-checkbox",3,"ngModel","id","ngModelChange","change"],["href","#","id","FirstPageStudentAdvanced",3,"ngClass","click"],["href","#","id","PreviousPageStudentAdvanced",3,"ngClass","click"],["href","#","id","NextPageStudentAdvanced",3,"ngClass","click"],["href","#","id","LastPageStudentAdvanced",3,"ngClass","click"],["href","#",3,"id","click"]],template:function(n,t){1&n&&(e.TgZ(0,"pss-drawer",0),e.NdJ("showDialogChange",function(c){return t.open=c}),e.TgZ(1,"pss-advanced-searchbar",1),e.NdJ("updateAdvancedMode",function(c){return t.advancedModeUpdated(c)})("filterAdded",function(c){return t.updateSearchByAddedFilter(c)})("updateAdvancedSearchRemoteEnrollments",function(c){return t.advancedSearchRemoteEnrollmentsUpdated(c)}),e.qZA(),e.YNc(2,If,7,7,"div",2),e.TgZ(3,"div",3)(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div"),e.YNc(8,_y,2,1,"ng-container",5),e.YNc(9,fy,4,3,"div",6),e.YNc(10,gc,21,22,"div",7),e.TgZ(11,"div",8),e.YNc(12,Bf,18,13,"ul",5),e.qZA()()()()),2&n&&(e.Q6J("showDialog",t.open)("options",t.advancedDrawerOptions),e.xp6(1),e.Q6J("advancedMode",t.open)("fields",t.studentFields)("searchType",t.SEARCH_TYPE_STUDENTS)("isDistrict",t.isDist)("filters",t.filters)("quickSearchLinks",t.quickSearchLinks)("includeRemoteEnrollments",t.includeRemotes),e.xp6(1),e.Q6J("ngIf",t.currentSearchResultField&&t.searchFilter),e.xp6(3),e.hij(" ",e.xi3(6,15,"psx.html.admin.home.search__",e.VKq(18,Vf,t.searchResultsTotal))," "),e.xp6(3),e.Q6J("ngIf",t.errors.length>0),e.xp6(1),e.Q6J("ngIf",0===t.errors.length&&!t.isSearchLoading&&t.searchTracker.items.length<1),e.xp6(1),e.Q6J("ngIf",0===t.errors.length&&!t.isSearchLoading&&t.searchTracker.items.length>0),e.xp6(2),e.Q6J("ngIf",t.searchTracker.numberOfPages>1))},dependencies:[Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,Xu.h,Kr,Bt.X$],styles:["div.box-round.search-results[_ngcontent-%COMP%]{margin:0 10px 20px;height:auto}@media screen and (min-height: 769px){div.box-round.search-results[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.gridWidget[_ngcontent-%COMP%] > div.tableBody[_ngcontent-%COMP%]{overflow-y:auto;max-height:42vh}}@media screen and (max-height: 768px){div.box-round.search-results[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div.gridWidget[_ngcontent-%COMP%] > div.tableBody[_ngcontent-%COMP%]{overflow-y:auto;max-height:35vh}}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:40%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){width:10%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:40%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:20%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:50%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:25%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:60%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:35%}.advanced-search-text[_ngcontent-%COMP%]{margin:0 10px 10px;height:auto;display:flex;flex-wrap:wrap}.advanced-search-text[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0 0 0 10px;margin:0}.advanced-search-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 0 0 10px;margin:0;word-break:break-all}"]});const xy=["studentSearchBar"];function Hf(r,n){1&r&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.studentsearch_component.your_student_selection_was_changed_by_another_page_please_refresh_the_page__")))}function wy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-searchbar",13,14),e.NdJ("updatedSelection",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectionViaSearch(c))})("searchTypeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchType(c))})("filterAdded",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchOrSelectionByAddedFilter(c))})("filterRemoved",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchOrSelectionByRemovedFilter(c))})("addId",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.addId(c))})("updatedFilter",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.filterUpdated(c))})("clearFilters",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.clearFilter())})("updateAdvancedMode",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.advancedModeUpdated(c))})("updateRemoteEnrollments",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.remoteEnrollmentsUpdated(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("availableSearchTypes",t.availableSearchTypes)("mySearchType",t.mySearchType)("searchType",t.searchType)("fields",t.studentFields)("quickSearchLinks",t.quickSearchLinks)("isDistrict",t.isDist)("filters",t.filters)("selectionIds",t.currentSelectionIds)("includeRemoteEnrollments",t.includeRemotes)("advancedMode",t.advancedMode)("modal",t.modal)("hideSearchSwitch",t.hideSearchSwitch)("url",t.url)}}function My(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-student-advancedsearch",15),e.NdJ("openChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.advancedMode=c)})("updatedSelection",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectionViaSearch(c))})("updateAdvancedMode",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.advancedModeUpdated(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("open",t.advancedMode)("filters",t.filters)("isDist",t.isDist)("studentFields",t.studentFields)("selectionCount",t.selectionTracker.items.length)("quickSearchLinks",t.quickSearchLinks)}}function gw(r,n){if(1&r&&(e.TgZ(0,"div",23)(1,"span"),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t)}}function mw(r,n){if(1&r&&(e.ynx(0),e.YNc(1,gw,3,1,"div",22),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors)}}function Cw(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.there_are_no_search_results")))}function vw(r,n){if(1&r&&(e.TgZ(0,"div",24),e.YNc(1,Cw,3,3,"span",18),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0===t.selectionTracker.items.length)}}function Zf(r,n){1&r&&e._UZ(0,"col")}function Yl(r,n){1&r&&e._UZ(0,"col")}function Sy(r,n){1&r&&e._UZ(0,"col")}function Oy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",34)(1,"input",35),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(4);return e.KtG(u.selectionTracker.checkAll=c)})("change",function(){e.CHM(t);const c=e.oxw(4);return e.KtG(c.selectionTracker.toggleSelectionBoxes())}),e.qZA()()}if(2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngModel",t.selectionTracker.checkAll)}}const th=function(r,n){return{left:r,center:n}};function mc(r,n){if(1&r&&(e.TgZ(0,"th",0),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit,a=n.index,c=e.oxw(4);e.Q6J("ngClass",e.WLB(4,th,0===a,a>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home."+c.columnKeys[t]))}}function Ty(r,n){1&r&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.school")))}const jf=function(r,n){return{district:r,school:n}};function Py(r,n){if(1&r&&(e.TgZ(0,"table",0)(1,"colgroup"),e.YNc(2,Zf,1,0,"col",18),e.YNc(3,Yl,1,0,"col",29),e.YNc(4,Sy,1,0,"col",18),e.qZA(),e.TgZ(5,"thead")(6,"tr"),e.YNc(7,Oy,2,1,"th",31),e.YNc(8,mc,3,7,"th",32),e.YNc(9,Ty,3,3,"th",33),e.qZA()()()),2&r){const t=e.oxw(3);e.Tol(t.classes[t.editCurrentSelectionMode?"students_advanced":"students"]),e.Q6J("ngClass",e.WLB(10,jf,t.isDist,!t.isDist)),e.xp6(2),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments),e.xp6(3),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments)}}function Dy(r,n){1&r&&e._UZ(0,"col")}function yw(r,n){1&r&&e._UZ(0,"col")}function ky(r,n){1&r&&e._UZ(0,"col")}function Uf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"input",37),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw().$implicit;return e.KtG(u.inSelection=c)})("change",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.selectionTracker.selectionChange(c))}),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.MGl("id","student_selection_chk",t.dcid,""),e.Q6J("ngModel",t.inSelection)}}function Ey(r,n){if(1&r&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.MGl("id","student_selection_lnk",a.dcid,""),e.xp6(1),e.Oqu(a[t])}}function Iy(r,n){if(1&r&&(e.TgZ(0,"a",39),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,a=e.oxw().$implicit,c=e.oxw(3);e.MGl("id","student_selection_lnk",a.dcid,""),e.uIk("href",c.url?c.getURL("001"+a.dcid):"/admin/students/home.html?frn=001"+a.dcid,e.LSH),e.xp6(1),e.Oqu(a[t])}}function Cc(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.Oqu(a[t])}}function Fy(r,n){if(1&r&&(e.TgZ(0,"td",0),e.YNc(1,Ey,2,2,"span",38),e.YNc(2,Iy,2,3,"a",38),e.YNc(3,Cc,2,1,"ng-container",18),e.qZA()),2&r){const t=n.index,a=e.oxw(4);e.Q6J("ngClass",e.WLB(4,th,0===t,t>0)),e.xp6(1),e.Q6J("ngIf",a.isGroupFunctionModal&&0===t),e.xp6(1),e.Q6J("ngIf",!a.isGroupFunctionModal&&0===t),e.xp6(1),e.Q6J("ngIf",t>0)}}function $f(r,n){if(1&r&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.schoolAbbreviation)}}function Ay(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Uf,2,2,"td",18),e.YNc(2,Fy,4,7,"td",32),e.YNc(3,$f,2,1,"td",33),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments)}}const Gf=function(r){return{active:r}};function Ny(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",0)(1,"a",44),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.setPage(u,!1))}),e._uU(2),e.qZA()()}if(2&r){const t=n.$implicit,a=e.oxw(4);e.Q6J("ngClass",e.VKq(3,Gf,a.isCurrentPage(t,!1))),e.xp6(1),e.MGl("id","Page",t,"Student"),e.xp6(1),e.Oqu(t)}}const vc=function(r){return{disabled:r}};function Ly(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul")(1,"li")(2,"a",40),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.firstPage(!1))}),e._UZ(3,"em"),e._uU(4,"<<"),e.qZA()(),e.TgZ(5,"li")(6,"a",41),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.previousPage(!1))}),e._UZ(7,"em"),e._uU(8,"<"),e.qZA()(),e.YNc(9,Ny,3,5,"li",32),e.TgZ(10,"li")(11,"a",42),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.nextPage(!1))}),e._UZ(12,"em"),e._uU(13,">"),e.qZA()(),e.TgZ(14,"li")(15,"a",43),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.lastPage(!1))}),e._UZ(16,"em"),e._uU(17,">>"),e.qZA()()()}if(2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(5,vc,1===t.selectionTracker.pageNumber)),e.xp6(4),e.Q6J("ngClass",e.VKq(7,vc,1===t.selectionTracker.pageNumber)),e.xp6(3),e.Q6J("ngForOf",t.selectionTracker.pages),e.xp6(2),e.Q6J("ngClass",e.VKq(9,vc,t.selectionTracker.pageNumber===t.selectionTracker.numberOfPages)),e.xp6(4),e.Q6J("ngClass",e.VKq(11,vc,t.selectionTracker.pageNumber===t.selectionTracker.numberOfPages))}}function nh(r,n){if(1&r&&(e.TgZ(0,"div",25)(1,"div",26),e.YNc(2,Py,10,13,"table",27),e.qZA(),e.TgZ(3,"div",28)(4,"table",0)(5,"colgroup"),e.YNc(6,Dy,1,0,"col",18),e.YNc(7,yw,1,0,"col",29),e.YNc(8,ky,1,0,"col",18),e.qZA(),e.TgZ(9,"tbody"),e.YNc(10,Ay,4,3,"tr",29),e.qZA()()(),e.TgZ(11,"div",30),e.YNc(12,Ly,18,13,"ul",18),e.qZA()()),2&r){const t=e.oxw(2);e.MGl("id","",t.mySearchType,"SearchTable"),e.xp6(2),e.Q6J("ngIf",t.selectionTracker.items.length>0),e.xp6(1),e.MGl("id","",t.mySearchType,"SelectionTable"),e.xp6(1),e.Tol(t.classes[t.editCurrentSelectionMode?"students_advanced":"students"]),e.Q6J("ngClass",e.WLB(12,jf,t.isDist,!t.isDist)),e.xp6(2),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments),e.xp6(2),e.Q6J("ngForOf",t.selectionTracker.items),e.xp6(2),e.Q6J("ngIf",t.selectionTracker.numberOfPages>1)}}function Ry(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.cancelSelectionChange(c))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.close")))}function qf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.editByHandButton())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.select_by_hand"))}}function Kf(r,n){if(1&r&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.uIk("aria-label",t.name),e.xp6(1),e.Oqu(t.name)}}function By(r,n){1&r&&e._UZ(0,"hr")}function Vy(r,n){if(1&r&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function Hy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",58),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.setSelectedFunction(c))})("keyup.enter",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.setSelectedFunction(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.setSelectedFunctionOnTabKey(u,_.functions,c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.setSelectedFunctionOnTabKey(u,_.functions,c))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.s9C("id",t.htmlid),e.xp6(1),e.Oqu(t.name)}}const ih=function(r,n,t){return{active:r,category:n,header:t}};function Zy(r,n){if(1&r&&(e.TgZ(0,"li",0),e.YNc(1,Kf,2,2,"h2",18),e.YNc(2,By,1,0,"hr",18),e.YNc(3,Vy,2,1,"h3",18),e.YNc(4,Hy,2,2,"a",57),e.qZA()),2&r){const t=n.$implicit,a=e.oxw(4);e.Q6J("ngClass",e.kEZ(5,ih,a.selectedFunction===t,"category"===t.type,"header"===t.type)),e.xp6(1),e.Q6J("ngIf","header"===t.type),e.xp6(1),e.Q6J("ngIf","line"===t.type),e.xp6(1),e.Q6J("ngIf","category"===t.type),e.xp6(1),e.Q6J("ngIf","header"!==t.type&&"line"!==t.type&&"category"!==t.type)}}const Jf=function(r){return{concealed:r}};function jy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.runFunction())}),e._uU(2),e.qZA(),e.TgZ(3,"button",54),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.toggleFunction())})("keyup.enter",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.toggleFunction())}),e.ALo(4,"translate"),e._UZ(5,"pds-icon",55),e.qZA(),e.TgZ(6,"ul",56),e.ALo(7,"translate"),e.YNc(8,Zy,5,9,"li",32),e.qZA()()}if(2&r){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(12,Jf,t.editCurrentSelectionMode)),e.uIk("parent",t.modal?"#powersearch_component":t.newUI?"#content-main":""),e.xp6(1),e.Q6J("disabled",!(t.selectionTracker.items.length>0)||"temp"===t.selectedFunction.type),e.xp6(1),e.Oqu(t.selectedFunction.name),e.xp6(1),e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.uIk("aria-label",e.lcZ(4,8,"psx.html.admin.home.group_functions")),e.xp6(3),e.uIk("aria-label",e.lcZ(7,10,"psx.html.admin.home.group_functions.expanded")),e.xp6(2),e.Q6J("ngForOf",t.functions)}}function Uy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.cancel")))}function $y(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.updateStudentSelection())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("disabled",t.selectionTracker.checkAll),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.update_selection"))}}function Gy(r,n){if(1&r&&(e.TgZ(0,"div",45),e.YNc(1,Ry,3,3,"button",46),e.YNc(2,qf,3,4,"button",47),e.YNc(3,jy,9,14,"div",48),e.YNc(4,Uy,3,3,"button",46),e.YNc(5,$y,3,4,"button",49),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.selectedFunction&&t.functions),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode)}}const qy=function(r,n,t){return{pseudoDialog:r,"no-check-col":n,modal:t}},Ky=function(r){return{0:r}};function Jy(r,n){if(1&r&&(e.TgZ(0,"div",16)(1,"h2",17),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,mw,2,1,"ng-container",18),e.YNc(5,vw,2,1,"div",19),e.YNc(6,nh,13,15,"div",20),e.YNc(7,Gy,6,5,"div",21),e.qZA()),2&r){const t=e.oxw();e.Q6J("ngClass",e.kEZ(9,qy,t.editCurrentSelectionMode,!t.editCurrentSelectionMode,t.modal)),e.xp6(2),e.Oqu(e.xi3(3,6,"psx.html.admin.home.current_student_selection",e.VKq(13,Ky,t.currentSelectionTotal))),e.xp6(2),e.Q6J("ngIf",t.errors.length>0),e.xp6(1),e.Q6J("ngIf",0===t.errors.length&&0===t.selectionTracker.items.length),e.xp6(1),e.Q6J("ngIf",t.selectionTracker.items.length>0),e.xp6(1),e.Q6J("ngIf",!t.isGroupFunctionModal&&!t.modal)}}function Qy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.clearFilterOnCancel(c))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.studentsearch_component.cancel")))}function Qf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editByHandButton())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.select_by_hand"))}}function Yf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.cancel")))}function Yy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.updateStudentSelection())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.selectionTracker.checkAll),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.update_selection"))}}function zy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.redirectToPage())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.studentsearch_component.continue"))}}function zf(r,n){if(1&r&&(e.TgZ(0,"div",60)(1,"div"),e.YNc(2,Qy,3,3,"button",46),e.qZA(),e.TgZ(3,"div"),e.YNc(4,Qf,3,4,"button",47),e.YNc(5,Yf,3,3,"button",46),e.YNc(6,Yy,3,4,"button",49),e.YNc(7,zy,3,4,"button",61),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(2),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",!t.editCurrentSelectionMode)}}function Wy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.clearFilterOnCancel(c))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.studentsearch_component.cancel")))}function Xy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editByHandButton())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.studentsearch_component.select_by_hand"))}}function eb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.studentsearch_component.cancel2")))}function oh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.updateStudentSelection())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.selectionTracker.checkAll),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.studentsearch_component.update_selection"))}}function rh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.redirectToPage())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.studentsearch_component.continue")))}function Wf(r,n){if(1&r&&(e.TgZ(0,"div",63)(1,"div"),e.YNc(2,Wy,3,3,"button",46),e.qZA(),e.TgZ(3,"div"),e.YNc(4,Xy,3,4,"button",47),e.YNc(5,eb,3,3,"button",46),e.YNc(6,oh,3,4,"button",49),e.YNc(7,rh,3,3,"button",64),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode),e.xp6(2),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode)}}function sh(r,n){1&r&&e._UZ(0,"div",66)}const tb=function(r){return{modalContainer:r}};class yc extends lr{constructor(n,t,a,c,u){super(t,u,"pss-studentsearch","advancedModeToggleBtnstudents"),this.searchServices=n,this.translationService=t,this.studentSearchServices=a,this.contextService=c,this.SEARCH_TYPE_STUDENTS=ke.students,this.mySearchType=ke.students,this.remoteEnrollments=!1,this.includeRemotes=!1,this.filtersQueryLast="",this.isGroupFunctionModal=!1,this.selectionHasChanged=!1,this.isInitialized=!1,this.errors=[],this.redirectToSelPage=!1,this.gradeLevels=[],this.powersearchContextService=c,this.searchType=ke.students,t.getPSSTranslations("psx.html.admin.home","psx.html.admin.home.start_page"),t.getPSSTranslations("psx.js.angular.studentsearch_component","psx.js.angular.studentsearch_component.in"),t.getPSSTranslations("psx.js.angular.searchbar_component","psx.js.angular.searchbar_component.in"),typeof document.hidden<"u"&&(this.hidden="hidden",this.visibilityChange="visibilitychange",document.addEventListener(this.visibilityChange,()=>{document[this.hidden]||this.studentSearchServices.checkStudentSelectionUpdated(this.filtersQueryLast).subscribe(_=>{this.selectionHasChanged=_,this.selectionHasChanged&&this.studentSearchServices.getCurrentStudentSelectionIds().subscribe(S=>{const F=[{filterName:"ext",op:"set",valueForDisplay:S.length,messageKey:"psx.js.angular.studentsearch_component.selection_changed_to__",clearSelection:0===S.length}];this.contextService.updateSelectedStudentCount(S.length),this.studentSearchServices.updateStudentFilters(F).subscribe(()=>{})})})},!1)),this.exposeFunction("selectStudentByCustomSearchValue",_=>{this.selectByCustomSearchValue(_)},[{name:"searchString",description:"Value to search and select students."}],"Use this function to provide a custom search search string and make it your selection. This function will override the users current filters.")}ngOnInit(){super.ngOnInit(),"loading"!==document.readyState?this.prepareFunctions():document.addEventListener&&document.addEventListener("DOMContentLoaded",()=>{this.prepareFunctions()}),this.contextService.getStudentsHandleCloseEvent().subscribe(n=>{n?this.handleCloseEvent(!this.redirectToSelPage):this.resetSelection()}),this.contextService.getIsGroupFunctionModal().subscribe(n=>{this.isGroupFunctionModal=n}),this.contextService.getIsInitialized().subscribe(n=>{(0,js.D)(this.searchServices.getGradeLevels(),this.translationService.get("psx.js.angular.searchbar_component.in"),this.translationService.get("psx.js.angular.searchbar_component.not_in")).subscribe(t=>{const a=this.studentFields.findIndex(c=>"student_number"===c.name);if(a>-1&&this.studentFields[a].comparators){const c=this.studentFields[a].comparators.findIndex(_=>"psx.js.angular.searchbar_component.in"===_.messageKey),u=this.studentFields[a].comparators.findIndex(_=>"psx.js.angular.searchbar_component.not_in"===_.messageKey);c>=0&&!this.studentFields[a].comparators[c].keysTranslated&&(this.studentFields[a].comparators[c].messageKey=t[1],this.studentFields[a].comparators[c].keysTranslated=!0),u>=0&&!this.studentFields[a].comparators[u].keysTranslated&&(this.studentFields[a].comparators[u].messageKey=t[2],this.studentFields[a].comparators[u].keysTranslated=!0)}this.processGraveLevels(t[0]),this.processGenderCodesets(),""===studentsAltered&&(studentsAltered=void 0),this.searchType===this.SEARCH_TYPE_STUDENTS&&this.getSelection("studentSearchInput"),setTimeout(()=>{this.isInitialized=!0,initBehaviors(),this.setFocusOnSearchBar()})})})}processGraveLevels(n){if(n.isError)return void(this.quickSearchLinks.gradeLevels=[]);const t=this.studentFields.findIndex(a=>"grade_level"===a.name);t<0?this.quickSearchLinks.gradeLevels=[]:(this.quickSearchLinks.gradeLevels=n.record,this.gradeLevels=[{messageKey:"psx.js.angular.searchbar_component.select",value:"",keysTranslated:!1}],n.record.forEach(a=>{this.gradeLevels.push({value:a.grade_level,messageKey:a.grade_text,keysTranslated:!0})}),this.studentFields[t].options=this.gradeLevels)}processGenderCodesets(){const n=this.studentFields.findIndex(a=>"gender"===a.name);if(n<0)return void(this.quickSearchLinks.gendersForStudent=[]);let t=[];this.studentFields[n].options.push({messageKey:"psx.js.angular.searchbar_component.select1",value:"",keysTranslated:!1}),this.quickSearchLinks.genders.forEach(a=>{t.push(a),this.studentFields[n].options.push(a)}),this.studentFields[n].type=this.quickSearchLinks.genders.length>2?dt.multiSelect:dt.select,this.quickSearchLinks.gendersForStudent=t}advancedModeUpdated(n){this.advancedMode=n,document.getElementById("searchTable")&&(document.getElementById("searchTable").scrollTop=0)}prepareFunctions(){this.functions=studentFunctions,this.functions&&this.createHtmlIds(this.functions);const n=localStorage.getItem(`selected${this.SEARCH_TYPE_STUDENTS}Functions`);this.functions.forEach(t=>{t.htmlid===n&&(this.selectedFunction=t)})}processData(n,t){if(this.errors=[],n.isError)return void this.translationService.get("psx.html.admin.home.oops_something_went_wrong_please_contact_your_system_administrator").subscribe(c=>{this.errors.push(c)});if(n.errors&&n.errors.length>0){n.errors.forEach(u=>{this.errors.push(u)});let c=this.filters.pop();return void(c&&this.searchBar.errorWithFilter(c))}this.contextService.updateSelectedStudentCount(n.total),this.columns=n.columns,this.columnKeys={},this.columns.forEach(c=>{switch(c){case"lastFirst":this.columnKeys[c]="student";break;case"dateOfBirth":this.columnKeys[c]="date_of_birth";break;case"gradeLevel":this.columnKeys[c]="grade_level";break;case"socialSecurityNumber":this.columnKeys[c]="ssn";break;case"studentNumber":this.columnKeys[c]="student_number"}});let a=n.columns.length;this.isDist&&a++,n.includeRemote&&(this.includeRemotes=n.includeRemote),n.students.forEach(c=>{if(c.dateOfBirth){const u=c.dateOfBirth.split("-"),_=new Date(+u[0],+u[1]-1,+u[2]);c.dateOfBirth=get_localized_date(_)}if(null!=c.gradeLevel){const u=this.gradeLevels.find(_=>""!==_.value&&+_.value===c.gradeLevel);c.gradeLevel=u&&u.messageKey?u.messageKey:c.gradeLevel}}),this.classes.students=`students_${a}`,this.classes.students_advanced=`advanced_students_${a}`,typeof studentsAltered<"u"&&studentsAltered!==n.queryLastExecuted?(this.filters=[{filterName:"ext",op:"set",valueForDisplay:n.total,messageKey:"psx.js.angular.studentsearch_component.selection_changed_to__",clearSelection:0===n.total}],this.studentSearchServices.updateStudentFilters(this.filters).subscribe(()=>{})):this.filters=n.filters?n.filters:[],this.modal&&n.filters&&n.filters.length>0&&(this.currentStudFilter=JSON.parse(JSON.stringify(n.filters))),this.modal&&""==this.filtersQueryLast&&(this.lastQueryStudFilter=this.currentStudFilter),this.filtersQueryLast=""==n.queryLastExecuted?studentsAltered:n.queryLastExecuted,studentsAltered=void 0,this.currentSelectionTotal=n.total,this.currentSelection=n.students,this.contextService.updateSelectedStudentCount(this.currentSelectionTotal),this.currentSelectionIds=n.selectedStudentIds,this.firstStudentDcidInCurrentSelection=this.currentSelection&&this.currentSelection.length>0?this.currentSelection[0].dcid:0,this.selectionTracker.updateItems(this.currentSelection),this.selectionTracker.numberOfRows=n.total,this.selectionTracker.updateNumberOfPages(),this.selectionTracker.updatePaginationNumbers()}updateStudentSelection(){const n={filterName:"selected_by_hand",messageKey:"psx.js.angular.staffsearch_component.selected_by_hand__",clearSelection:0===this.selectionTracker.ids.length};this.selectionTracker.reversed?(n.op="substract",n.omitIds=`[${this.selectionTracker.ids.join(",")}]`,n.valueForDisplay=""+(this.currentSelectionTotal-this.selectionTracker.ids.length)):(n.op="set",n.ids=`[${this.selectionTracker.ids.join(",")}]`,n.valueForDisplay=`${this.selectionTracker.ids.length}`),this.filters.push(n),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.updateSelection(),this.editSelection(!1)}toggleFunction(){"visible"==document.getElementById("menuListDropdown").style.visibility?document.getElementById("selectFunctionDropdownButtonStudent").setAttribute("aria-expanded","false"):document.getElementById("selectFunctionDropdownButtonStudent").setAttribute("aria-expanded","true")}getSelection(n){n||(this.elementWithFocusBeforeLoading=document.activeElement),this.modal||loadingDialog(),this.studentSearchServices.getCurrentStudentSelection(this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage).subscribe(t=>{this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),n?document.getElementById(n)?.focus():this.elementWithFocusBeforeLoading.focus()})}updateSelectionViaSearch(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.studentSearchServices.setStudentSelectionByFilters(n,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage,null,this.remoteEnrollments).subscribe(t=>{this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}updateSelection(){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.studentSearchServices.setStudentSelectionByFilters(this.filters,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage,null,this.remoteEnrollments).subscribe(n=>{this.processData(n,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}addId(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),0===this.filters.length&&"add"===n.op&&(n.op="set"),this.filters.push(n),this.studentSearchServices.setStudentSelectionByFilters(this.filters,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage,null,this.remoteEnrollments).subscribe(t=>{this.selectionTracker.setPageNumber(1),this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}filterUpdated(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.filters[n.index]=n.filter,this.studentSearchServices.setStudentSelectionByFilters(this.filters,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage,null,this.remoteEnrollments).subscribe(t=>{this.selectionTracker.setPageNumber(1),this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}remoteEnrollmentsUpdated(n){this.remoteEnrollments=n}getCustomizedFilter(n){const t=this.studentFields[0];return{filterName:t.name,filterValue:n,op:"set",valueForDisplay:n,keysTranslated:t.keysTranslated,messageKey:t.messageKey}}setSelectionChangeOccurred(n){super.setSelectionChangeOccurred(n),n&&localStorage.removeItem("lastSelectedStudentDcid")}setSelectedFunctionOnTabKey(n,t,a){this.filteredFunctions=t.filter(_=>null!=_.address),this.selectedFunction=n;let c=this.filteredFunctions.indexOf(n),u=this.filteredFunctions.length;a&&9===a.which&&((a.shiftKey&&0==c||!a.shiftKey&&c==u-1)&&"visible"==document.getElementById("menuListDropdown").style.visibility&&document.getElementById("selectFunctionDropdownButtonStudent").setAttribute("aria-expanded","false"),a.shiftKey&&c<=u-1&&c>0&&(this.selectedFunction=this.filteredFunctions[c-1]),!a.shiftKey&&c<u-1&&c>=0&&(this.selectedFunction=this.filteredFunctions[c+1]),localStorage.setItem(`selected${this.searchType}Functions`,this.selectedFunction.htmlid))}resetSelection(){this.selectionChangeOccurred&&(this.lastQueryStudFilter?(this.updateSelectionViaSearch(this.lastQueryStudFilter),this.lastQueryStudFilter=[]):this.searchBar.clearAllFilters(),this.currentStudFilter=[])}clearFilterOnCancel(n){this.resetSelection(),this.cancelSelectionChange(n)}redirectToPage(){this.redirectToSelPage=!0,this.closeChange.emit(!1)}setFocusOnSearchBar(){this.searchType===this.SEARCH_TYPE_STUDENTS&&("complete"===document.readyState||"interactive"===document.readyState?this.findElement(this.getSearchBarId()).then(n=>n.focus()):document.addEventListener("DOMContentLoaded",()=>{document.getElementById(this.getSearchBarId()).focus()}))}}function ah(r,n){if(1&r&&(e.TgZ(0,"div",9)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,3,"psx.js.angular.powersearch_component.current_search"),":"),e.xp6(3),e.AsE("",e.lcZ(6,5,t.currentSearchResultField.messageKey),": ",t.searchFilter.valueForDisplay,"")}}function nb(r,n){if(1&r&&(e.TgZ(0,"div",11)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=n.$implicit;e.Q6J("id","advanced_staff_search_error_"+n.index),e.xp6(2),e.Oqu(t.isTranslated?t.errorMessage:e.lcZ(3,2,t.errorMessage))}}function Xf(r,n){if(1&r&&(e.ynx(0),e.YNc(1,nb,4,4,"div",10),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors)}}function zs(r,n){1&r&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"psx.html.admin.home.there_are_no_search_results")))}function ib(r,n){1&r&&e._UZ(0,"col")}function ob(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component."+t))}}function bw(r,n){if(1&r&&(e.TgZ(0,"th",21),e.YNc(1,ob,3,3,"ng-container",5),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.isDist)}}function eg(r,n){1&r&&e._UZ(0,"col")}function ch(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.schoolAbbreviation)}}function rb(r,n){if(1&r&&(e.TgZ(0,"td",21),e.YNc(1,ch,2,1,"ng-container",5),e.qZA()),2&r){const t=n.$implicit,a=e.oxw(3);e.xp6(1),e.Q6J("ngIf","schools"==t&&a.isDist)}}function tg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",22),e.NdJ("ngModelChange",function(c){const _=e.CHM(t).$implicit;return e.KtG(_.inSelection=c)})("change",function(){const u=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.searchTracker.selectionChange(u))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,rb,2,1,"td",19),e.qZA()}if(2&r){const t=n.$implicit,a=e.oxw(2);e.xp6(2),e.MGl("id","selectByHand_chk",t.dcid,"StaffAdvanced"),e.Q6J("ngModel",t.inSelection),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngForOf",a.columns)}}function sb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"table",15)(3,"colgroup"),e._UZ(4,"col")(5,"col"),e.YNc(6,ib,1,0,"col",16),e.qZA(),e.TgZ(7,"thead")(8,"tr")(9,"th",17)(10,"input",18),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.searchTracker.checkAll=c)})("change",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.searchTracker.toggleSelectionBoxes())}),e.qZA()(),e.TgZ(11,"th",17),e.ynx(12),e._uU(13),e.ALo(14,"translate"),e.BQk(),e.qZA(),e.YNc(15,bw,2,1,"th",19),e.qZA()()()(),e.TgZ(16,"div",20)(17,"table",15)(18,"colgroup"),e._UZ(19,"col")(20,"col"),e.YNc(21,eg,1,0,"col",16),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,tg,6,4,"tr",16),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.columns),e.xp6(4),e.Q6J("ngModel",t.searchTracker.checkAll),e.xp6(3),e.Oqu(e.lcZ(14,6,"psx.js.angular.powersearch_component.staff")),e.xp6(2),e.Q6J("ngForOf",t.columns),e.xp6(6),e.Q6J("ngForOf",t.columns),e.xp6(2),e.Q6J("ngForOf",t.searchResults)}}yc.\u0275fac=function(n){return new(n||yc)(e.Y36(Pn),e.Y36(Kt.h),e.Y36(Dn),e.Y36(yi),e.Y36(e.R0b))},yc.\u0275cmp=e.Xpm({type:yc,selectors:[["pss-studentsearch"]],viewQuery:function(n,t){if(1&n&&e.Gf(xy,5),2&n){let a;e.iGM(a=e.CRH())&&(t.searchBar=a.first)}},inputs:{availableSearchTypes:"availableSearchTypes",quickSearchLinks:"quickSearchLinks",studentFields:"studentFields"},features:[e._Bn([Pn,Dn]),e.qOj],decls:13,vars:14,consts:[[3,"ngClass"],["class","feedback-alert",4,"ngIf"],[3,"availableSearchTypes","mySearchType","searchType","fields","quickSearchLinks","isDistrict","filters","selectionIds","includeRemoteEnrollments","advancedMode","modal","hideSearchSwitch","url","updatedSelection","searchTypeChange","filterAdded","filterRemoved","addId","updatedFilter","clearFilters","updateAdvancedMode","updateRemoteEnrollments",4,"ngIf"],["type","hidden","id","currentStudentSelectionChanged",3,"value"],["type","hidden","id","currentStudentSelectionTotal",3,"value"],["type","hidden","id","currentStudentId",3,"value"],["type","hidden","id","firstStudentDcidInCurrentSelection",3,"value"],[3,"open","filters","isDist","studentFields","selectionCount","quickSearchLinks","openChange","updatedSelection","updateAdvancedMode",4,"ngIf"],["class","box-round flexHeight current-selection",3,"ngClass",4,"ngIf"],["class","button-row footer",4,"ngIf"],["class","button-row footer groupFunctionModal",4,"ngIf"],["class","ui-widget-overlay ui-front",4,"ngIf"],[1,"feedback-alert"],[3,"availableSearchTypes","mySearchType","searchType","fields","quickSearchLinks","isDistrict","filters","selectionIds","includeRemoteEnrollments","advancedMode","modal","hideSearchSwitch","url","updatedSelection","searchTypeChange","filterAdded","filterRemoved","addId","updatedFilter","clearFilters","updateAdvancedMode","updateRemoteEnrollments"],["studentSearchBar",""],[3,"open","filters","isDist","studentFields","selectionCount","quickSearchLinks","openChange","updatedSelection","updateAdvancedMode"],[1,"box-round","flexHeight","current-selection",3,"ngClass"],["tabindex","0"],[4,"ngIf"],["class","feedback-info","tabindex","0","id","searchFeedbackStudent",4,"ngIf"],["class","gridWidget",3,"id",4,"ngIf"],["class","button-row",4,"ngIf"],["class","feedback-alert","id","'selectErrorFeedbackStudent' + i",4,"ngFor","ngForOf"],["id","'selectErrorFeedbackStudent' + i",1,"feedback-alert"],["tabindex","0","id","searchFeedbackStudent",1,"feedback-info"],[1,"gridWidget",3,"id"],[1,"tableHead"],[3,"class","ngClass",4,"ngIf"],[1,"tableBody",3,"id"],[4,"ngFor","ngForOf"],[1,"gridWidgetPagination"],["class","left",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"left"],["type","checkbox","id","selectionAllStudent",3,"ngModel","ngModelChange","change"],[1,"center"],["type","checkbox",3,"ngModel","id","ngModelChange","change"],[3,"id",4,"ngIf"],[3,"id"],["href","#","id","FirstPageStudent",3,"ngClass","click"],["href","#","id","PreviousPageStudent",3,"ngClass","click"],["href","#","id","NextPageStudent",3,"ngClass","click"],["href","#","id","LastPageStudent",3,"ngClass","click"],["href","#",3,"id","click"],[1,"button-row"],["type","button","id","cancelButtonStudent",3,"click",4,"ngIf"],["type","button","id","selectByHandButtonStudent",3,"disabled","click",4,"ngIf"],["class","psMultiButton shim-ng",3,"ngClass",4,"ngIf"],["type","button","id","updateSelectionButtonStudent",3,"disabled","click",4,"ngIf"],["type","button","id","cancelButtonStudent",3,"click"],["type","button","id","selectByHandButtonStudent",3,"disabled","click"],[1,"psMultiButton","shim-ng",3,"ngClass"],["data-immediate-execute","true","type","button","id","selectedFunctionButtonStudent",1,"executeButton",3,"disabled","click"],["type","button","attr.aria-controls","menuListDropdown","id","selectFunctionDropdownButtonStudent","aria-expanded","false",1,"menuButton",3,"disabled","click","keyup.enter"],["name","caret-down"],["role","menu","id","menuListDropdown",1,"groupFunctions","selectable","multiButtonList"],["tabindex","0",3,"id","click","keyup.enter","keydown.tab","keydown.shift.tab",4,"ngIf"],["tabindex","0",3,"id","click","keyup.enter","keydown.tab","keydown.shift.tab"],["type","button","id","updateSelectionButtonStudent",3,"disabled","click"],[1,"button-row","footer"],["type","button","id","continueButtonStudent",3,"disabled","click",4,"ngIf"],["type","button","id","continueButtonStudent",3,"disabled","click"],[1,"button-row","footer","groupFunctionModal"],["type","button","id","continueButtonStudent",3,"click",4,"ngIf"],["type","button","id","continueButtonStudent",3,"click"],[1,"ui-widget-overlay","ui-front"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Hf,3,3,"div",1),e.TgZ(2,"div"),e.YNc(3,wy,2,13,"pss-searchbar",2),e._UZ(4,"input",3)(5,"input",4)(6,"input",5)(7,"input",6),e.qZA(),e.YNc(8,My,1,6,"pss-student-advancedsearch",7),e.YNc(9,Jy,8,15,"div",8),e.qZA(),e.YNc(10,zf,8,5,"div",9),e.YNc(11,Wf,8,5,"div",10),e.YNc(12,sh,1,0,"div",11)),2&n&&(e.Q6J("ngClass",e.VKq(12,tb,t.modal)),e.xp6(1),e.Q6J("ngIf",t.selectionHasChanged),e.xp6(2),e.Q6J("ngIf",t.isInitialized),e.xp6(1),e.s9C("value",t.selectionChangeOccurred),e.xp6(1),e.s9C("value",t.currentSelectionTotal),e.xp6(1),e.s9C("value",t.currentStudentId),e.xp6(1),e.s9C("value",t.firstStudentDcidInCurrentSelection),e.xp6(1),e.Q6J("ngIf",t.isInitialized&&t.advancedMode&&!t.modal),e.xp6(1),e.Q6J("ngIf",t.isInitialized),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode))},dependencies:[Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,Eo,Ys,Bt.X$],styles:["fieldset[_ngcontent-%COMP%]{margin:0 10px 10px;border:none;border-radius:unset}fieldset[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(even):not(.button-row){background-color:#eee;border-radius:4px}fieldset[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(odd):not(.button-row){background-color:#fff;border-radius:4px}fieldset[_ngcontent-%COMP%]   button.search[_ngcontent-%COMP%]{margin-top:1px}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:15%}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:15%}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:15%}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%}table.students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%}table.students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:20%}table.students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:20%}table.students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}table.students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:50%}table.students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:25%}table.students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:25%}table.students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:60%}table.students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:20%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:40%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){width:10%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:40%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:20%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:50%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:25%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:60%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:35%}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]{margin:0;padding:5px;border-end-start-radius:4px;border-end-end-radius:4px}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:.4em .6em}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{-webkit-margin-end:10px;margin-inline-end:10px;vertical-align:unset}.modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:30px;width:30px;max-width:30px;max-height:30px;padding:0;margin:auto 5px}.modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;margin:5px;height:20px;width:20px}","div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:30vh}@media print{div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:unset}}div.box-round.flexHeight.modal[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:25vh}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;background-color:#eee;margin:0;padding:15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   td.th[_ngcontent-%COMP%]{border:none}div.modalContainer[_ngcontent-%COMP%]{overflow:auto;max-height:65vh}div.modalContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:20px}.footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{justify-content:flex-end;-webkit-margin-end:10px;margin-inline-end:10px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}.footer[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}.single-button-footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-margin-end:10px;margin-inline-end:10px}.single-button-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}"]});const ab=function(r){return{active:r}};function lh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",28)(1,"a",29),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.setPage(u,!0))}),e._uU(2),e.qZA()()}if(2&r){const t=n.$implicit,a=e.oxw(2);e.Q6J("ngClass",e.VKq(3,ab,a.isCurrentPage(t,!0))),e.xp6(1),e.MGl("id","Page",t,"StaffAdvanced"),e.xp6(1),e.Oqu(t)}}const bc=function(r){return{disabled:r}};function ng(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul")(1,"li")(2,"a",23),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.firstPage(!0))}),e._UZ(3,"em"),e._uU(4,"<<"),e.qZA()(),e.TgZ(5,"li")(6,"a",24),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.previousPage(!0))}),e._UZ(7,"em"),e._uU(8,"<"),e.qZA()(),e.YNc(9,lh,3,5,"li",25),e.TgZ(10,"li")(11,"a",26),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.nextPage(!0))}),e._UZ(12,"em"),e._uU(13,">"),e.qZA()(),e.TgZ(14,"li")(15,"a",27),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.lastPage(!0))}),e._UZ(16,"em"),e._uU(17,">>"),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(5,bc,1===t.searchTracker.pageNumber)),e.xp6(4),e.Q6J("ngClass",e.VKq(7,bc,1===t.searchTracker.pageNumber)),e.xp6(3),e.Q6J("ngForOf",t.searchTracker.pages),e.xp6(2),e.Q6J("ngClass",e.VKq(9,bc,t.searchTracker.pageNumber===t.searchTracker.numberOfPages)),e.xp6(4),e.Q6J("ngClass",e.VKq(11,bc,t.searchTracker.pageNumber===t.searchTracker.numberOfPages))}}const ig=function(r){return{0:r}};class Ws extends qs{constructor(n,t,a){super(a,"pss-staff-advancedsearch","searchFeedbackAdvanced"),this.translationService=n,this.staffSearchService=t,this.open=!1,this.filters=[],this.SEARCH_TYPE_STAFF=ke.staff,this.advancedKeyMap={set_all_staff:"advanced_selection_set_to_all_staff",add_all_staff:"advanced_added_all_staff",subtract_all_staff:"advanced_removed_all_staff",within_all_staff:"advanced_all_staff_within_selection",set_ids:"advanced_set_to_",add_ids:"advanced_added_",subtract_ids:"advanced_removed_",within_ids:"advanced__within_selection"},this.columns=["schools"],this.isDist=!1,this.isSearchLoading=!1,this.searchResults=[],this.searchResultsTotal=0,this.searchTracker=new pc([],!0),this.searchType=ke.staff,this.exposeFunction("searchStaffByCustomSearchValue",c=>{this.searchByCustomSearchValue(c)},[{name:"searchString",description:"Value to search for staff."}],"Use this function to provide a custom search search string in the advanced drawer.")}doSearch(){let n=0;"staffStatus"===this.searchFilter.filterName&&(n=this.searchFilter.filterValue.split("=")[1]),this.staffSearchService.getTeachers("staffStatus"===this.searchFilter.filterName?"":this.searchFilter.filterValue,n,this.searchTracker.pageNumber,this.searchTracker.rowsPerPage).subscribe(t=>{this.processData(t),this.currentSearchResultField=this.findField(this.staffFields,this.searchFilter.filterName),document.getElementById("searchTableStaffAdvanced")&&(document.getElementById("searchTableStaffAdvanced").scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}processData(n,t){if(this.checkErrors(n))return;const u=[];n.users.forEach(_=>{this.translationService.get("psx.js.angular.staffsearch_component.__",{0:_.lastName,1:_.firstName}).subscribe(S=>{_.schoolStaff.forEach(F=>{F.name=S,u.push(F)})})}),t||(this.searchResultsTotal=n.total,this.searchResults=u,this.searchTracker.numberOfRows=n.total,this.searchTracker.updateItems(this.searchResults),this.searchTracker.updateNumberOfPages(),this.searchTracker.updatePaginationNumbers())}getCustomizedFilter(n){const t=this.staffFields[0];return{filterName:t.name,filterValue:n,op:"set",valueForDisplay:n,keysTranslated:t.keysTranslated,messageKey:t.messageKey}}}Ws.\u0275fac=function(n){return new(n||Ws)(e.Y36(Kt.h),e.Y36(Fi),e.Y36(e.R0b))},Ws.\u0275cmp=e.Xpm({type:Ws,selectors:[["pss-staff-advancedsearch"]],inputs:{staffFields:"staffFields",open:"open",filters:"filters",quickSearchLinks:"quickSearchLinks"},features:[e._Bn([Fi]),e.qOj],decls:13,vars:19,consts:[[3,"showDialog","options","showDialogChange"],[3,"advancedMode","fields","isDistrict","filters","searchType","quickSearchLinks","updateAdvancedMode","filterAdded"],["class","advanced-search-text","id","staff_advanced_search_text",4,"ngIf"],[1,"box-round","search-results"],["tabindex","0"],[4,"ngIf"],["class","feedback-info","id","searchFeedbackAdvanced",4,"ngIf"],["id","staffSearchTableAdvanced","class","gridWidget",4,"ngIf"],[1,"gridWidgetPagination"],["id","staff_advanced_search_text",1,"advanced-search-text"],["class","feedback-alert",3,"id",4,"ngFor","ngForOf"],[1,"feedback-alert",3,"id"],["id","searchFeedbackAdvanced",1,"feedback-info"],["id","staffSearchTableAdvanced",1,"gridWidget"],[1,"tableHead"],[1,"advanced_staff"],[4,"ngFor","ngForOf"],[1,"left"],["type","checkbox","id","selectByHandAllStaffAdvanced",3,"ngModel","ngModelChange","change"],["class","center",4,"ngFor","ngForOf"],["id","searchTableStaffAdvanced",1,"tableBody"],[1,"center"],["type","checkbox",1,"student-checkbox",3,"ngModel","id","ngModelChange","change"],["href","#","id","FirstPageStaffAdvanced",3,"ngClass","click"],["href","#","id","PreviousPageStaffAdvanced",3,"ngClass","click"],[3,"ngClass",4,"ngFor","ngForOf"],["href","#","id","NextPageStaffAdvanced",3,"ngClass","click"],["href","#","id","LastPageStaffAdvanced",3,"ngClass","click"],[3,"ngClass"],["href","#",3,"id","click"]],template:function(n,t){1&n&&(e.TgZ(0,"pss-drawer",0),e.NdJ("showDialogChange",function(c){return t.open=c}),e.TgZ(1,"pss-advanced-searchbar",1),e.NdJ("updateAdvancedMode",function(c){return t.advancedModeUpdated(c)})("filterAdded",function(c){return t.updateSearchByAddedFilter(c)}),e.qZA(),e.YNc(2,ah,7,7,"div",2),e.TgZ(3,"div",3)(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div"),e.YNc(8,Xf,2,1,"ng-container",5),e.YNc(9,zs,4,3,"div",6),e.YNc(10,sb,24,8,"div",7),e.TgZ(11,"div",8),e.YNc(12,ng,18,13,"ul",5),e.qZA()()()()),2&n&&(e.Q6J("showDialog",t.open)("options",t.advancedDrawerOptions),e.xp6(1),e.Q6J("advancedMode",t.open)("fields",t.staffFields)("isDistrict",t.isDist)("filters",t.filters)("searchType",t.SEARCH_TYPE_STAFF)("quickSearchLinks",t.quickSearchLinks),e.xp6(1),e.Q6J("ngIf",t.currentSearchResultField&&t.searchFilter),e.xp6(3),e.hij(" ",e.xi3(6,14,"psx.html.admin.home.search__",e.VKq(17,ig,t.searchResultsTotal))," "),e.xp6(3),e.Q6J("ngIf",t.errors.length>0),e.xp6(1),e.Q6J("ngIf",0===t.errors.length&&!t.isSearchLoading&&t.searchTracker.items.length<1),e.xp6(1),e.Q6J("ngIf",0===t.errors.length&&!t.isSearchLoading&&t.searchTracker.items.length>0),e.xp6(2),e.Q6J("ngIf",t.searchTracker.numberOfPages>1))},dependencies:[Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,Xu.h,Kr,Bt.X$],styles:[".box-round.search-results[_ngcontent-%COMP%]{margin:0 10px 20px;height:auto}@media screen and (min-height: 769px){.box-round.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > .gridWidget[_ngcontent-%COMP%] > div.tableBody[_ngcontent-%COMP%]{overflow-y:auto;max-height:42vh}}@media screen and (max-height: 768px){.box-round.search-results[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > .gridWidget[_ngcontent-%COMP%] > div.tableBody[_ngcontent-%COMP%]{overflow-y:auto;max-height:35vh}}table.advanced_staff[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_staff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_staff[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_staff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:50%}table.advanced_staff[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_staff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:45%}.advanced-search-text[_ngcontent-%COMP%]{margin:0 10px 10px;height:auto;display:flex;flex-wrap:wrap}.advanced-search-text[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0 0 0 10px;margin:0}.advanced-search-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 0 0 10px;margin:0;word-break:break-all}"]});const cb=["staffSearchBar"];function lb(r,n){1&r&&(e.TgZ(0,"div",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.staffsearch_component.your_staff_selection_was_changed_by_another_page_please_refresh_the_page__")))}function db(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-searchbar",12,13),e.NdJ("updatedSelection",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectionViaSearch(c))})("searchTypeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchType(c))})("filterAdded",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchOrSelectionByAddedFilter(c))})("filterRemoved",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchOrSelectionByRemovedFilter(c))})("addId",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.addId(c))})("updatedFilter",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.filterUpdated(c))})("clearFilters",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.clearFilter())})("updateAdvancedMode",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.advancedModeUpdated(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("availableSearchTypes",t.availableSearchTypes)("mySearchType",t.mySearchType)("searchType",t.searchType)("fields",t.staffFields)("quickSearchLinks",t.quickSearchLinks)("isDistrict",t.isDist)("filters",t.filters)("selectionIds",t.currentSelectionIds)("advancedMode",t.advancedMode)("modal",t.modal)("hideSearchSwitch",t.hideSearchSwitch)("url",t.url)}}function ub(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-staff-advancedsearch",14),e.NdJ("openChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.advancedMode=c)})("updatedSelection",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectionViaSearch(c))})("updateAdvancedMode",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.advancedModeUpdated(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("open",t.advancedMode)("staffFields",t.staffFields)("filters",t.filters)("isDist",t.isDist)("selectionCount",t.selectionTracker.items.length)("quickSearchLinks",t.quickSearchLinks)}}function og(r,n){if(1&r&&(e.TgZ(0,"div",21)(1,"span"),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t)}}function xw(r,n){if(1&r&&(e.ynx(0),e.YNc(1,og,3,1,"div",20),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors)}}function rg(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.there_are_no_search_results")))}function hb(r,n){if(1&r&&(e.TgZ(0,"div",22),e.YNc(1,rg,3,3,"span",16),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0===t.currentSelection.length)}}function pb(r,n){1&r&&e._UZ(0,"col")}function ww(r,n){1&r&&e._UZ(0,"col")}function _b(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",30)(1,"input",32),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(4);return e.KtG(u.selectionTracker.checkAll=c)})("change",function(){e.CHM(t);const c=e.oxw(4);return e.KtG(c.selectionTracker.toggleSelectionBoxes())}),e.qZA()()}if(2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngModel",t.selectionTracker.checkAll)}}function fb(r,n){1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.schools")))}function gb(r,n){if(1&r&&(e.TgZ(0,"th",33),e.YNc(1,fb,3,3,"ng-container",16),e.qZA()),2&r){const t=n.$implicit,a=e.oxw(4);e.xp6(1),e.Q6J("ngIf","schools"===t&&a.isDist)}}const sg=function(r,n,t){return{district:r,school:n,selectByHand:t}};function ag(r,n){if(1&r&&(e.TgZ(0,"table",0)(1,"colgroup"),e.YNc(2,pb,1,0,"col",16),e._UZ(3,"col"),e.YNc(4,ww,1,0,"col",27),e.qZA(),e.TgZ(5,"thead")(6,"tr"),e.YNc(7,_b,2,1,"th",29),e.TgZ(8,"th",30),e.ynx(9),e._uU(10),e.ALo(11,"translate"),e.BQk(),e.qZA(),e.YNc(12,gb,2,1,"th",31),e.qZA()()()),2&r){const t=e.oxw(3);e.Tol(t.classes[t.editCurrentSelectionMode?"staff_advanced":"staff"]),e.Q6J("ngClass",e.kEZ(11,sg,t.isDist,!t.isDist,"contacts"===t.searchType&&t.selectByHand)),e.xp6(2),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(2),e.Q6J("ngForOf",t.columns),e.xp6(3),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(3),e.Oqu(e.lcZ(11,9,"psx.js.angular.powersearch_component.staff")),e.xp6(2),e.Q6J("ngForOf",t.columns)}}function cg(r,n){1&r&&e._UZ(0,"col")}function mb(r,n){1&r&&e._UZ(0,"col")}function Cb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"input",35),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw().$implicit;return e.KtG(u.inSelection=c)})("change",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.selectionTracker.selectionChange(c))}),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.MGl("id","student_selection_chk",t.dcid,""),e.Q6J("ngModel",t.inSelection)}}function vb(r,n){if(1&r&&(e.TgZ(0,"span",36),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.MGl("id","staff_selection_lnk",t.dcid,""),e.xp6(1),e.Oqu(t.name)}}function yb(r,n){if(1&r&&(e.TgZ(0,"a",36),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,a=e.oxw(3);e.MGl("id","staff_selection_lnk",t.dcid,""),e.uIk("href",a.url?a.getURL("005"+t.dcid):"/admin/faculty/home.html?frn=005"+t.dcid,e.LSH),e.xp6(1),e.Oqu(t.name)}}function bb(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.schoolAbbreviation)}}function xb(r,n){if(1&r&&(e.TgZ(0,"td",33),e.YNc(1,bb,2,1,"ng-container",16),e.qZA()),2&r){const t=n.$implicit,a=e.oxw(4);e.xp6(1),e.Q6J("ngIf","schools"==t&&a.isDist)}}function xc(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Cb,2,2,"td",16),e.TgZ(2,"td"),e.YNc(3,vb,2,2,"span",34),e.YNc(4,yb,2,3,"a",34),e.qZA(),e.YNc(5,xb,2,1,"td",31),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(2),e.Q6J("ngIf",t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",!t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngForOf",t.columns)}}const lg=function(r){return{active:r}};function dg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",0)(1,"a",42),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.setPage(u,!1))}),e._uU(2),e.qZA()()}if(2&r){const t=n.$implicit,a=e.oxw(4);e.Q6J("ngClass",e.VKq(3,lg,a.isCurrentPage(t,!1))),e.xp6(1),e.MGl("id","Page",t,"Staff"),e.xp6(1),e.Oqu(t)}}const wc=function(r){return{disabled:r}};function ug(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul")(1,"li")(2,"a",37),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.firstPage(!1))}),e._UZ(3,"em"),e._uU(4,"<<"),e.qZA()(),e.TgZ(5,"li")(6,"a",38),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.previousPage(!1))}),e._UZ(7,"em"),e._uU(8,"<"),e.qZA()(),e.YNc(9,dg,3,5,"li",39),e.TgZ(10,"li")(11,"a",40),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.nextPage(!1))}),e._UZ(12,"em"),e._uU(13,">"),e.qZA()(),e.TgZ(14,"li")(15,"a",41),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.lastPage(!1))}),e._UZ(16,"em"),e._uU(17,">>"),e.qZA()()()}if(2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(5,wc,1===t.selectionTracker.pageNumber)),e.xp6(4),e.Q6J("ngClass",e.VKq(7,wc,1===t.selectionTracker.pageNumber)),e.xp6(3),e.Q6J("ngForOf",t.selectionTracker.pages),e.xp6(2),e.Q6J("ngClass",e.VKq(9,wc,t.selectionTracker.pageNumber===t.selectionTracker.numberOfPages)),e.xp6(4),e.Q6J("ngClass",e.VKq(11,wc,t.selectionTracker.pageNumber===t.selectionTracker.numberOfPages))}}const hg=function(r,n){return{district:r,school:n}};function pg(r,n){if(1&r&&(e.TgZ(0,"div",23)(1,"div",24),e.YNc(2,ag,13,15,"table",25),e.qZA(),e.TgZ(3,"div",26)(4,"table",0)(5,"colgroup"),e.YNc(6,cg,1,0,"col",16),e._UZ(7,"col"),e.YNc(8,mb,1,0,"col",27),e.qZA(),e.TgZ(9,"tbody"),e.YNc(10,xc,6,4,"tr",27),e.qZA()()(),e.TgZ(11,"div",28),e.YNc(12,ug,18,13,"ul",16),e.qZA()()),2&r){const t=e.oxw(2);e.MGl("id","",t.mySearchType,"SearchTable"),e.xp6(2),e.Q6J("ngIf",t.currentSelection.length>0),e.xp6(1),e.MGl("id","",t.mySearchType,"SelectionTable"),e.xp6(1),e.Tol(t.classes[t.editCurrentSelectionMode?"staff_advanced":"staff"]),e.Q6J("ngClass",e.WLB(11,hg,t.isDist,!t.isDist)),e.xp6(2),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(2),e.Q6J("ngForOf",t.columns),e.xp6(2),e.Q6J("ngForOf",t.selectionTracker.items),e.xp6(2),e.Q6J("ngIf",t.selectionTracker.numberOfPages>1)}}function wb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw(3);return e.KtG(u.cancelSelectionChange(c))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.close")))}function Mw(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.editByHandButton())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.staffsearch_component.select_by_hand"))}}function _g(r,n){if(1&r&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.uIk("aria-label",t.name),e.xp6(1),e.Oqu(t.name)}}function fg(r,n){1&r&&e._UZ(0,"hr")}function Mb(r,n){if(1&r&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function Sb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",55),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.setSelectedFunction(c))})("keyup.enter",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.setSelectedFunction(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.setSelectedFunctionOnTabKey(u,_.functions,c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.setSelectedFunctionOnTabKey(u,_.functions,c))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.s9C("id",t.htmlid),e.xp6(1),e.Oqu(t.name)}}const Ob=function(r,n,t){return{active:r,category:n,header:t}};function Mc(r,n){if(1&r&&(e.TgZ(0,"li",0),e.YNc(1,_g,2,2,"h2",16),e.YNc(2,fg,1,0,"hr",16),e.YNc(3,Mb,2,1,"h3",16),e.YNc(4,Sb,2,2,"a",54),e.qZA()),2&r){const t=n.$implicit,a=e.oxw(3);e.Q6J("ngClass",e.kEZ(5,Ob,a.selectedFunction===t,"category"===t.type,"header"===t.type)),e.xp6(1),e.Q6J("ngIf","header"===t.type),e.xp6(1),e.Q6J("ngIf","line"===t.type),e.xp6(1),e.Q6J("ngIf","category"===t.type),e.xp6(1),e.Q6J("ngIf","header"!==t.type&&"line"!==t.type&&"category"!==t.type)}}function Tb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.staffsearch_component.cancel")))}function dh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.updateStaffSelection())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("disabled",t.selectionTracker.checkAll),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.staffsearch_component.update_selection"))}}const so=function(r){return{concealed:r}};function Pb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",43),e.YNc(1,wb,3,3,"button",44),e.YNc(2,Mw,3,4,"button",45),e.TgZ(3,"div",46)(4,"button",47),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.runFunction())}),e._uU(5),e.qZA(),e.TgZ(6,"button",48),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleFunction())})("keyup.enter",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.toggleFunction())}),e.ALo(7,"translate"),e._UZ(8,"pds-icon",49),e.qZA(),e.TgZ(9,"ul",50),e.ALo(10,"translate"),e.YNc(11,Mc,5,9,"li",39),e.qZA()(),e.YNc(12,Tb,3,3,"button",44),e.YNc(13,dh,3,4,"button",51),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngClass",e.VKq(16,so,t.editCurrentSelectionMode)),e.uIk("parent",t.modal?"#powersearch_component":t.newUI?"#content-main":""),e.xp6(1),e.Q6J("disabled",!(t.selectionTracker.items.length>0)||"temp"===t.selectedFunction.type),e.xp6(1),e.Oqu(t.selectedFunction.name),e.xp6(1),e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.uIk("aria-label",e.lcZ(7,12,"psx.html.admin.home.group_functions")),e.xp6(3),e.uIk("aria-label",e.lcZ(10,14,"psx.html.admin.home.group_functions.expanded")),e.xp6(2),e.Q6J("ngForOf",t.functions),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode)}}const uh=function(r,n,t){return{pseudoDialog:r,"no-check-col":n,modal:t}},Sc=function(r){return{0:r}};function Db(r,n){if(1&r&&(e.TgZ(0,"div",15)(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,xw,2,1,"ng-container",16),e.YNc(5,hb,2,1,"div",17),e.YNc(6,pg,13,14,"div",18),e.YNc(7,Pb,14,18,"div",19),e.qZA()),2&r){const t=e.oxw();e.Q6J("ngClass",e.kEZ(9,uh,t.editCurrentSelectionMode,!t.editCurrentSelectionMode,t.modal)),e.xp6(2),e.Oqu(e.xi3(3,6,"psx.js.angular.powersearch_component.current_staff_selection",e.VKq(13,Sc,t.currentSelectionTotal))),e.xp6(2),e.Q6J("ngIf",t.errors.length>0),e.xp6(1),e.Q6J("ngIf",0===t.errors.length&&0===t.currentSelection.length),e.xp6(1),e.Q6J("ngIf",t.currentSelection.length>0),e.xp6(1),e.Q6J("ngIf",!t.modal&&!t.isGroupFunctionModal)}}function kb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.clearFilterOnCancel(c))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.staffsearch_component.cancel")))}function Eb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editByHandButton())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.staffsearch_component.select_by_hand"))}}function zl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.staffsearch_component.cancel")))}function Wl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.updateStaffSelection())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.selectionTracker.checkAll),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.staffsearch_component.update_selection"))}}function Ib(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.redirectToPage())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.staffsearch_component.continue"))}}function Fb(r,n){if(1&r&&(e.TgZ(0,"div",57)(1,"div"),e.YNc(2,kb,3,3,"button",44),e.qZA(),e.TgZ(3,"div"),e.YNc(4,Eb,3,4,"button",45),e.YNc(5,zl,3,3,"button",44),e.YNc(6,Wl,3,4,"button",51),e.YNc(7,Ib,3,4,"button",58),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(2),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode)}}function gg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.clearFilterOnCancel(c))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.staffsearch_component.cancel2")))}function mg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editByHandButton())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.staffsearch_component.select_by_hand2"))}}function hh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.staffsearch_component.cancel3")))}function Cg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.updateStaffSelection())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.selectionTracker.checkAll),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.staffsearch_component.update_selection2"))}}function ph(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.redirectToPage())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.staffsearch_component.continue")))}function _h(r,n){if(1&r&&(e.TgZ(0,"div",57)(1,"div"),e.YNc(2,gg,3,3,"button",44),e.qZA(),e.TgZ(3,"div"),e.YNc(4,mg,3,4,"button",45),e.YNc(5,hh,3,3,"button",44),e.YNc(6,Cg,3,4,"button",51),e.YNc(7,ph,3,3,"button",60),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode),e.xp6(2),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode)}}function vg(r,n){1&r&&e._UZ(0,"div",62)}const fh=function(r){return{modalContainer:r}};class Jr extends lr{constructor(n,t,a,c){super(n,c,"pss-staffsearch","advancedModeToggleBtnstaff"),this.translationService=n,this.staffSearchService=t,this.contextService=a,this.SEARCH_TYPE_STAFF=ke.staff,this.columns=["schools"],this.errors=[],this.filtersQueryLast="",this.isGroupFunctionModal=!1,this.isInitialized=!1,this.mySearchType=ke.staff,this.redirectToSelPage=!1,this.selectionHasChanged=!1,this.powersearchContextService=a,this.searchType=ke.staff,n.getPSSTranslations("psx.js.angular.staffsearch_component","psx.js.angular.staffsearch_component.__"),typeof document.hidden<"u"&&(this.hidden="hidden",this.visibilityChange="visibilitychange",document.addEventListener(this.visibilityChange,()=>{document[this.hidden]||this.staffSearchService.checkStaffSelectionUpdated(this.filtersQueryLast).subscribe(u=>{this.selectionHasChanged=u,this.selectionHasChanged&&this.staffSearchService.getCurrentStaffSelectionIds().subscribe(_=>{this.staffSearchService.updateStaffFilters([{filterName:"ext",op:"set",valueForDisplay:_.length,messageKey:"psx.js.angular.staffsearch_component.selection_changed_to__",clearSelection:0===_.length}]).subscribe(()=>{})})})},!1)),this.exposeFunction("selectStaffByCustomSearchValue",u=>{this.selectByCustomSearchValue(u)},[{name:"searchString",description:"Value to search and select staff."}],"Use this function to provide a custom search search string and make it your selection. This function will override the users current filters.")}ngOnInit(){super.ngOnInit(),this.functions=staffFunctions,this.functions&&this.createHtmlIds(this.functions);const n=localStorage.getItem(`selected${this.SEARCH_TYPE_STAFF}Functions`);this.functions.forEach(t=>{t.htmlid===n&&(this.selectedFunction=t)}),this.contextService.getStaffHandleCloseEvent().subscribe(t=>{t?this.handleCloseEvent(!this.redirectToSelPage):this.resetSelection()}),this.contextService.getIsGroupFunctionModal().subscribe(t=>{this.isGroupFunctionModal=t}),this.contextService.getIsInitialized().subscribe(()=>{(0,js.D)(this.translationService.get("psx.js.angular.searchbar_component.in"),this.translationService.get("psx.js.angular.searchbar_component.not_in")).subscribe(t=>{const a=this.staffFields.findIndex(c=>"teacherNumber"===c.name);if(a>-1&&this.staffFields[a].comparators){const c=this.staffFields[a].comparators.findIndex(_=>"psx.js.angular.searchbar_component.in"===_.messageKey),u=this.staffFields[a].comparators.findIndex(_=>"psx.js.angular.searchbar_component.not_in"===_.messageKey);c>=0&&!this.staffFields[a].comparators[c].keysTranslated&&(this.staffFields[a].comparators[c].messageKey=t[0],this.staffFields[a].comparators[c].keysTranslated=!0),u>=0&&!this.staffFields[a].comparators[u].keysTranslated&&(this.staffFields[a].comparators[u].messageKey=t[1],this.staffFields[a].comparators[u].keysTranslated=!0)}this.prepareQuickLinks(),this.searchType===this.SEARCH_TYPE_STAFF&&this.getSelection("teacherSearchInput"),""===teachersAltered&&(teachersAltered=void 0),setTimeout(()=>{this.isInitialized=!0,initBehaviors(),this.setFocusOnSearchBar()})})})}prepareQuickLinks(){let n=this.staffFields.findIndex(t=>"staffStatus"===t.name);this.quickSearchLinks.staffStatus=n<0?[]:this.staffFields[n].options.filter(t=>""!==t.value),n=this.staffFields.findIndex(t=>"gender"===t.name),this.quickSearchLinks.gendersForStaff=n<0?[]:this.staffFields[n].options.filter(t=>""!==t.value)}processData(n,t){if(this.errors=[],n.isError)return void this.translationService.get("psx.html.admin.home.oops_something_went_wrong_please_contact_your_system_administrator").subscribe(u=>{this.errors.push(u)});if(n.errors&&n.errors.length>0){n.errors.forEach(_=>{this.errors.push(_)});let u=this.filters.pop();return void(u&&this.searchBar.errorWithFilter(u))}const c=[];this.contextService.updateSelectedStaffCount(n.total),n.users.forEach(u=>{this.translationService.get("psx.js.angular.staffsearch_component.__",{0:u.lastName,1:u.firstName}).subscribe(_=>{u.schoolStaff.forEach(S=>{S.name=_,c.push(S)})})}),this.advancedMode&&!t?(this.searchResultsTotal=n.total,this.searchResults=c,this.searchTracker.numberOfRows=n.total,this.searchTracker.updateItems(this.searchResults),this.searchTracker.updateNumberOfPages(),this.searchTracker.updatePaginationNumbers()):(typeof teachersAltered<"u"&&teachersAltered!==n.queryLastExecuted?(this.filters=[{filterName:"ext",op:"set",valueForDisplay:n.total,messageKey:"psx.js.angular.staffsearch_component.selection_changed_to__",clearSelection:0===n.total}],this.staffSearchService.updateStaffFilters(this.filters).subscribe(()=>{})):this.filters=n.filters?n.filters:[],this.modal&&n.filters&&n.filters.length>0&&(this.currentStaffFilter=JSON.parse(JSON.stringify(n.filters))),this.modal&&""==this.filtersQueryLast&&(this.lastQueryStaffFilter=this.currentStaffFilter),this.filtersQueryLast=""==n.queryLastExecuted?teachersAltered:n.queryLastExecuted,teachersAltered=void 0,this.currentSelectionTotal=n.total,this.currentSelection=c,this.currentSelectionIds=n.selectedUserIds,this.firstStaffDcidInCurrentSelection=this.currentSelection&&this.currentSelection.length>0?this.currentSelection[0].dcid:0,this.selectionTracker.updateItems(c),this.selectionTracker.numberOfRows=n.total,this.selectionTracker.updateNumberOfPages(),this.selectionTracker.updatePaginationNumbers())}updateStaffSelection(){const n={filterName:"selected_by_hand",messageKey:"psx.js.angular.staffsearch_component.selected_by_hand__",clearSelection:0===this.selectionTracker.ids.length};this.selectionTracker.reversed?(n.op="substract",n.omitIds=`[${this.selectionTracker.ids.join(",")}]`,n.valueForDisplay=""+(this.currentSelectionTotal-this.selectionTracker.ids.length)):(n.op="set",n.ids=`[${this.selectionTracker.ids.join(",")}]`,n.valueForDisplay=`${this.selectionTracker.ids.length}`),this.filters.push(n),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.updateSelection(),this.editSelection(!1)}toggleFunction(){"visible"==document.getElementById("menuListDropdown").style.visibility?document.getElementById("selectFunctionDropdownButtonStaff").setAttribute("aria-expanded","false"):document.getElementById("selectFunctionDropdownButtonStaff").setAttribute("aria-expanded","true")}getSelection(n){n||(this.elementWithFocusBeforeLoading=document.activeElement),loadingDialog(),this.staffSearchService.getCurrentTeacherSelection(this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage).subscribe(t=>{this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),n?document.getElementById(n)?.focus():this.elementWithFocusBeforeLoading.focus()})}updateSelectionViaSearch(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0);const t=n.slice(0);let a="0";t.forEach(c=>{"staffStatus"===c.filterName&&(a=c.filterValue.split("=")[1])}),this.staffSearchService.alterTeacherSelectionUsingFilters(t,a,[],this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage).subscribe(c=>{this.processData(c,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}updateSelection(){this.elementWithFocusBeforeLoading=document.activeElement;let n="0";const t=[];this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.filters.forEach(a=>{"staffStatus"===a.filterName&&(n=a.filterValue.split("=")[1]),t.push(a)}),this.staffSearchService.alterTeacherSelectionUsingFilters(t,n,null,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage).subscribe(a=>{this.processData(a,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}addId(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),0===this.filters.length&&"add"===n.op&&(n.op="set"),this.filters.push(n);let t="0";const a=[];this.filters.forEach(c=>{"staffStatus"===c.filterName?t=c.filterValue.split("=")[1]:a.push(c)}),this.staffSearchService.alterTeacherSelectionUsingFilters(this.filters,t,null,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage).subscribe(c=>{this.selectionTracker.setPageNumber(1),this.processData(c,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}filterUpdated(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.setSelectionChangeOccurred(!0),this.pageContext===this.searchType&&this.powersearchContextService.updatePageContextSelectionChanged(!0),this.filters[n.index]=n.filter;let t="0";const a=[];this.filters.forEach(c=>{"staffStatus"===c.filterName?t=c.filterValue.split("=")[1]:a.push(c)}),this.staffSearchService.alterTeacherSelectionUsingFilters(this.filters,t,null,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage).subscribe(c=>{this.selectionTracker.setPageNumber(1),this.processData(c,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}getCustomizedFilter(n){const t=this.staffFields[0];return{filterName:t.name,filterValue:n,op:"set",valueForDisplay:n,keysTranslated:t.keysTranslated,messageKey:t.messageKey}}setSelectionChangeOccurred(n){super.setSelectionChangeOccurred(n),n&&localStorage.removeItem("lastSelectedSchoolStaffDcid")}setSelectedFunctionOnTabKey(n,t,a){this.filteredFunctions=t.filter(_=>null!=_.address),this.selectedFunction=n;let c=this.filteredFunctions.indexOf(n),u=this.filteredFunctions.length;a&&9===a.which&&((a.shiftKey&&0==c||!a.shiftKey&&c==u-1)&&"visible"==document.getElementById("menuListDropdown").style.visibility&&document.getElementById("selectFunctionDropdownButtonStaff").setAttribute("aria-expanded","false"),a.shiftKey&&c<=u-1&&c>0&&(this.selectedFunction=this.filteredFunctions[c-1]),!a.shiftKey&&c<u-1&&c>=0&&(this.selectedFunction=this.filteredFunctions[c+1]),localStorage.setItem(`selected${this.searchType}Functions`,this.selectedFunction.htmlid))}setFocusOnSearchBar(){this.searchType===this.SEARCH_TYPE_STAFF&&("complete"===document.readyState||"interactive"===document.readyState?setTimeout(()=>{document.getElementById(this.getSearchBarId()).focus()},1):document.addEventListener("DOMContentLoaded",()=>{document.getElementById(this.getSearchBarId()).focus()}))}resetSelection(){this.selectionChangeOccurred&&(this.lastQueryStaffFilter?(this.updateSelectionViaSearch(this.lastQueryStaffFilter),this.lastQueryStaffFilter=[]):this.searchBar.clearAllFilters(),this.currentStaffFilter=[])}clearFilterOnCancel(n){this.resetSelection(),this.cancelSelectionChange(n)}redirectToPage(){this.redirectToSelPage=!0,this.closeChange.emit(!1)}}Jr.\u0275fac=function(n){return new(n||Jr)(e.Y36(Kt.h),e.Y36(Fi),e.Y36(yi),e.Y36(e.R0b))},Jr.\u0275cmp=e.Xpm({type:Jr,selectors:[["pss-staffsearch"]],viewQuery:function(n,t){if(1&n&&e.Gf(cb,5),2&n){let a;e.iGM(a=e.CRH())&&(t.searchBar=a.first)}},inputs:{availableSearchTypes:"availableSearchTypes",quickSearchLinks:"quickSearchLinks",staffFields:"staffFields"},features:[e._Bn([Pn,Fi]),e.qOj],decls:13,vars:14,consts:[[3,"ngClass"],["class","feedback-alert",4,"ngIf"],[3,"availableSearchTypes","mySearchType","searchType","fields","quickSearchLinks","isDistrict","filters","selectionIds","advancedMode","modal","hideSearchSwitch","url","updatedSelection","searchTypeChange","filterAdded","filterRemoved","addId","updatedFilter","clearFilters","updateAdvancedMode",4,"ngIf"],["type","hidden","id","currentStaffSelectionChanged",3,"value"],["type","hidden","id","currentStaffSelectionTotal",3,"value"],["type","hidden","id","currentStaffId",3,"value"],["type","hidden","id","firstStaffDcidInCurrentSelection",3,"value"],[3,"open","staffFields","filters","isDist","selectionCount","quickSearchLinks","openChange","updatedSelection","updateAdvancedMode",4,"ngIf"],["class","box-round flexHeight current-selection",3,"ngClass",4,"ngIf"],["class","button-row footer groupFunctionModal",4,"ngIf"],["class","ui-widget-overlay ui-front",4,"ngIf"],[1,"feedback-alert"],[3,"availableSearchTypes","mySearchType","searchType","fields","quickSearchLinks","isDistrict","filters","selectionIds","advancedMode","modal","hideSearchSwitch","url","updatedSelection","searchTypeChange","filterAdded","filterRemoved","addId","updatedFilter","clearFilters","updateAdvancedMode"],["staffSearchBar",""],[3,"open","staffFields","filters","isDist","selectionCount","quickSearchLinks","openChange","updatedSelection","updateAdvancedMode"],[1,"box-round","flexHeight","current-selection",3,"ngClass"],[4,"ngIf"],["class","feedback-info","id","searchFeedbackStaff",4,"ngIf"],["class","gridWidget",3,"id",4,"ngIf"],["class","button-row",4,"ngIf"],["class","feedback-alert","id","'selectErrorFeedbackStaff' + i",4,"ngFor","ngForOf"],["id","'selectErrorFeedbackStaff' + i",1,"feedback-alert"],["id","searchFeedbackStaff",1,"feedback-info"],[1,"gridWidget",3,"id"],[1,"tableHead"],[3,"class","ngClass",4,"ngIf"],[1,"tableBody",3,"id"],[4,"ngFor","ngForOf"],[1,"gridWidgetPagination"],["class","left",4,"ngIf"],[1,"left"],["class","center",4,"ngFor","ngForOf"],["type","checkbox","id","selectionAllStaff",3,"ngModel","ngModelChange","change"],[1,"center"],[3,"id",4,"ngIf"],["type","checkbox",3,"ngModel","id","ngModelChange","change"],[3,"id"],["href","#","id","FirstPageStaff",3,"ngClass","click"],["href","#","id","PreviousPageStaff",3,"ngClass","click"],[3,"ngClass",4,"ngFor","ngForOf"],["href","#","id","NextPageStaff",3,"ngClass","click"],["href","#","id","LastPageStaff",3,"ngClass","click"],["href","#",3,"id","click"],[1,"button-row"],["type","button","id","cancelButtonStaff",3,"click",4,"ngIf"],["type","button","id","selectByHandButtonStaff",3,"disabled","click",4,"ngIf"],[1,"psMultiButton","shim-ng",3,"ngClass"],["data-immediate-execute","true","type","button","id","selectedFunctionButtonStaff",1,"executeButton",3,"disabled","click"],["type","button","id","selectFunctionDropdownButtonStaff","attr.aria-controls","menuListDropdown","id","selectFunctionDropdownButtonStaff","aria-expanded","false",1,"menuButton",3,"disabled","click","keyup.enter"],["name","caret-down"],["role","menu","id","menuListDropdown",1,"groupFunctions","selectable","multiButtonList"],["type","button","id","updateSelectionButtonStaff",3,"disabled","click",4,"ngIf"],["type","button","id","cancelButtonStaff",3,"click"],["type","button","id","selectByHandButtonStaff",3,"disabled","click"],["tabindex","0",3,"id","click","keyup.enter","keydown.tab","keydown.shift.tab",4,"ngIf"],["tabindex","0",3,"id","click","keyup.enter","keydown.tab","keydown.shift.tab"],["type","button","id","updateSelectionButtonStaff",3,"disabled","click"],[1,"button-row","footer","groupFunctionModal"],["type","button","id","continueButtonStaff",3,"disabled","click",4,"ngIf"],["type","button","id","continueButtonStaff",3,"disabled","click"],["type","button","id","continueButtonStaff",3,"click",4,"ngIf"],["type","button","id","continueButtonStaff",3,"click"],[1,"ui-widget-overlay","ui-front"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,lb,3,3,"div",1),e.TgZ(2,"div"),e.YNc(3,db,2,12,"pss-searchbar",2),e._UZ(4,"input",3)(5,"input",4)(6,"input",5)(7,"input",6),e.qZA(),e.YNc(8,ub,1,6,"pss-staff-advancedsearch",7),e.YNc(9,Db,8,15,"div",8),e.qZA(),e.YNc(10,Fb,8,5,"div",9),e.YNc(11,_h,8,5,"div",9),e.YNc(12,vg,1,0,"div",10)),2&n&&(e.Q6J("ngClass",e.VKq(12,fh,t.modal)),e.xp6(1),e.Q6J("ngIf",t.selectionHasChanged),e.xp6(2),e.Q6J("ngIf",t.isInitialized),e.xp6(1),e.s9C("value",t.selectionChangeOccurred),e.xp6(1),e.s9C("value",t.currentSelectionTotal),e.xp6(1),e.s9C("value",t.currentStaffId),e.xp6(1),e.s9C("value",t.firstStaffDcidInCurrentSelection),e.xp6(1),e.Q6J("ngIf",t.isInitialized&&t.advancedMode),e.xp6(1),e.Q6J("ngIf",t.isInitialized),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode))},dependencies:[Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,Eo,Ws,Bt.X$],styles:["fieldset[_ngcontent-%COMP%]{margin:0 10px 10px;border:none;border-radius:unset}fieldset[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(even):not(.button-row){background-color:#eee;border-radius:4px}fieldset[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(odd):not(.button-row){background-color:#fff;border-radius:4px}fieldset[_ngcontent-%COMP%]   button.search[_ngcontent-%COMP%]{margin-top:1px}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]{display:inline-block;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:-10px;margin-inline-end:-10px}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]   ul.dropDownButtonList[_ngcontent-%COMP%]{position:absolute;z-index:200;height:auto;min-width:80px;width:auto;padding:5px;margin:0;overflow:hidden;text-align:start;border:1px solid #aaaaaa;background-color:#fff;box-shadow:0 5px 10px #0006;border-radius:4px;display:none}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]   ul.dropDownButtonList.show[_ngcontent-%COMP%]{display:block}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]   ul.dropDownButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0;cursor:pointer}table.staff[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.staff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%}table.staff[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.staff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:60%}table.advanced_staff[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_staff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_staff[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_staff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:50%}table.advanced_staff[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_staff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:45%}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]{background-color:#eee;margin:0;padding:5px;border-end-start-radius:4px;border-end-end-radius:4px}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:.4em .6em}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{-webkit-margin-end:10px;margin-inline-end:10px;vertical-align:unset}","div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:30vh}@media print{div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:unset}}div.box-round.flexHeight.modal[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:25vh}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;background-color:#eee;margin:0;padding:15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   td.th[_ngcontent-%COMP%]{border:none}div.modalContainer[_ngcontent-%COMP%]{overflow:auto;max-height:65vh}div.modalContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:20px}.footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{justify-content:flex-end;-webkit-margin-end:10px;margin-inline-end:10px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}.footer[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}.single-button-footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-margin-end:10px;margin-inline-end:10px}.single-button-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}"]});const Ab=["contactSearchBar"];function Nb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-searchbar",7,8),e.NdJ("searchTypeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchType(c))})("filterAdded",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchOrSelectionByAddedFilter(c))})("filterRemoved",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchOrSelectionByRemovedFilter(c))})("clearFilters",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.clearFilter())})("updateFilterByStudents",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.filterByStudentsUpdated(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("availableSearchTypes",t.availableSearchTypes)("mySearchType",t.SEARCH_TYPE_CONTACTS)("searchType",t.searchType)("fields",t.contactsFields)("quickSearchLinks",t.quickSearchLinks)("selectedStudentCount",t.selectedStudentCount)("isDistrict",t.isDist)("filters",t.filters)("modal",t.modal)("hideSearchSwitch",t.hideSearchSwitch)("url",t.url)("isGroupFunctionModal",t.isGroupFunctionModal)}}function Lb(r,n){if(1&r&&(e.TgZ(0,"div",15)(1,"span"),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.Q6J("id","searchErrorFeedbackContacts"+n.index),e.xp6(2),e.Oqu(t)}}function Rb(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Lb,3,2,"div",14),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors)}}function yg(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.there_are_no_search_results")))}function gh(r,n){if(1&r&&(e.TgZ(0,"div",16),e.YNc(1,yg,3,3,"span",10),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0===t.selectionTracker.items.length)}}function bg(r,n){1&r&&e._UZ(0,"col")}function xg(r,n){1&r&&e._UZ(0,"col")}function wg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",25)(1,"input",26),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(4);return e.KtG(u.selectionTracker.checkAll=c)})("change",function(){e.CHM(t);const c=e.oxw(4);return e.KtG(c.selectionTracker.toggleSelectionBoxes())}),e.qZA()()}if(2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngModel",t.selectionTracker.checkAll)}}const mh=function(r,n){return{left:r,center:n}};function Bb(r,n){if(1&r&&(e.TgZ(0,"th",0),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit,a=n.index;e.Q6J("ngClass",e.WLB(4,mh,0===a,a>0)),e.xp6(1),e.hij(" ",e.lcZ(2,2,"psx.html.admin_contacts.search."+t)," ")}}const Ch=function(r,n,t){return{district:r,school:n,selectByHand:t}};function Mg(r,n){if(1&r&&(e.TgZ(0,"table",0)(1,"colgroup"),e.YNc(2,bg,1,0,"col",10),e.YNc(3,xg,1,0,"col",21),e.qZA(),e.TgZ(4,"thead")(5,"tr"),e.YNc(6,wg,2,1,"th",23),e.YNc(7,Bb,3,7,"th",24),e.qZA()()()),2&r){const t=e.oxw(3);e.Tol(t.classes[t.searchType]),e.Q6J("ngClass",e.kEZ(8,Ch,t.isDist,!t.isDist,t.editCurrentSelectionMode)),e.xp6(2),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(3),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns)}}function Vb(r,n){1&r&&e._UZ(0,"col")}function Sg(r,n){1&r&&e._UZ(0,"col")}function Hb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"input",27),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw().$implicit;return e.KtG(u.inSelection=c)})("change",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.selectionTracker.selectionChange(c))}),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.MGl("id","contacts_selection_chk",t.dcid,""),e.Q6J("ngModel",t.inSelection)}}function Gn(r,n){if(1&r&&(e.TgZ(0,"a",29),e._uU(1),e.qZA()),2&r){const t=e.oxw(3).$implicit;e.MGl("id","contacts_selection_lnk",t.dcid,"")("href","/admin/contacts/edit.html#?contactid=",t.tables.person.contactid,"",e.LSH),e.xp6(1),e.lnq("",t.tables.person.last_name,", ",t.tables.person.first_name," ",t.tables.person.middle_name,"")}}function Xs(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin_contacts.search.fls_mask")))}function Zb(r,n){if(1&r&&(e.TgZ(0,"a",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=e.oxw(4).$implicit;e.MGl("id","contacts_selection_lnk",t.dcid,"_any_name_access")("href","/admin/contacts/edit.html#?contactid=",t.tables.person.contactid,"",e.LSH),e.xp6(1),e.AsE("",e.lcZ(2,4,"psx.html.admin_contacts.search.no_name"),"",t.tables.person.contactid,"")}}function jb(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,Xs,3,3,"span",10),e.YNc(2,Zb,3,6,"a",28),e.qZA()),2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("ngIf",!t.anyNameAccess),e.xp6(1),e.Q6J("ngIf",t.anyNameAccess)}}function Sw(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Gn,2,5,"a",28),e.YNc(2,jb,3,2,"span",10),e.BQk()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.tables.person.first_name||t.tables.person.middle_name||t.tables.person.last_name),e.xp6(1),e.Q6J("ngIf",!t.tables.person.first_name&&!t.tables.person.middle_name&&!t.tables.person.last_name)}}function Ow(r,n){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&r){const t=e.oxw(3).$implicit;e.MGl("id","contacts_selection_",t.dcid,""),e.xp6(1),e.lnq("",t.tables.person.last_name,", ",t.tables.person.first_name," ",t.tables.person.middle_name,"")}}function Og(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin_contacts.search.fls_mask")))}function Tg(r,n){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=e.oxw(4).$implicit;e.MGl("id","contacts_selection_",t.dcid,"_any_name_access"),e.xp6(1),e.AsE("",e.lcZ(2,3,"psx.html.admin_contacts.search.no_name"),"",t.tables.person.contactid,"")}}function Oc(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,Og,3,3,"span",10),e.YNc(2,Tg,3,5,"span",30),e.qZA()),2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("ngIf",!t.anyNameAccess),e.xp6(1),e.Q6J("ngIf",t.anyNameAccess)}}function Ub(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Ow,2,4,"span",30),e.YNc(2,Oc,3,2,"span",10),e.BQk()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.tables.person.first_name||t.tables.person.middle_name||t.tables.person.last_name),e.xp6(1),e.Q6J("ngIf",!t.tables.person.first_name&&!t.tables.person.middle_name&&!t.tables.person.last_name)}}const vh=function(r){return{"checkmark-icon":r}};function $b(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"span",32),e._UZ(2,"em",31),e.qZA(),e.BQk()),2&r){const t=e.oxw(2),a=t.index,c=t.$implicit;e.xp6(1),e.MGl("id","access-account-",a,""),e.Q6J("ngClass",e.VKq(3,vh,c.tables.person.isaccessaccount>0)),e.xp6(1),e.MGl("id","access-account-check-",a,"")}}function Pg(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Oqu(t)}}function Gb(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Pg,2,1,"p",21),e.BQk()),2&r){const t=e.oxw().$implicit,a=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",c.splitValues(a.tables.person[c.columnKeys[t]]))}}function qb(r,n){if(1&r&&(e.TgZ(0,"td",0),e.YNc(1,Sw,3,2,"ng-container",10),e.YNc(2,Ub,3,2,"ng-container",10),e.YNc(3,$b,3,5,"ng-container",10),e.YNc(4,Gb,2,1,"ng-container",10),e.qZA()),2&r){const t=n.index,a=e.oxw(4);e.Q6J("ngClass",e.WLB(5,mh,0===t,t>0)),e.xp6(1),e.Q6J("ngIf",0===t&&!a.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",0===t&&a.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",1===t),e.xp6(1),e.Q6J("ngIf",t>1)}}function Kb(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Hb,2,2,"td",10),e.YNc(2,qb,5,8,"td",24),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns)}}const yh=function(r){return{active:r}};function Dg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",0)(1,"a",37),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.setPage(u))}),e._uU(2),e.qZA()()}if(2&r){const t=n.$implicit,a=e.oxw(4);e.Q6J("ngClass",e.VKq(3,yh,a.isCurrentPage(t))),e.xp6(1),e.MGl("id","Page",t,"Contacts"),e.xp6(1),e.Oqu(t)}}const Tc=function(r){return{disabled:r}};function Xl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul")(1,"li")(2,"a",33),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.firstPage())}),e._UZ(3,"em"),e._uU(4,"<<"),e.qZA()(),e.TgZ(5,"li")(6,"a",34),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.previousPage())}),e._UZ(7,"em"),e._uU(8,"<"),e.qZA()(),e.YNc(9,Dg,3,5,"li",24),e.TgZ(10,"li")(11,"a",35),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.nextPage())}),e._UZ(12,"em"),e._uU(13,">"),e.qZA()(),e.TgZ(14,"li")(15,"a",36),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.lastPage())}),e._UZ(16,"em"),e._uU(17,">>"),e.qZA()()()}if(2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(5,Tc,1===t.selectionTracker.pageNumber)),e.xp6(4),e.Q6J("ngClass",e.VKq(7,Tc,1===t.selectionTracker.pageNumber)),e.xp6(3),e.Q6J("ngForOf",t.selectionTracker.pages),e.xp6(2),e.Q6J("ngClass",e.VKq(9,Tc,t.selectionTracker.pageNumber===t.selectionTracker.numberOfPages)),e.xp6(4),e.Q6J("ngClass",e.VKq(11,Tc,t.selectionTracker.pageNumber===t.selectionTracker.numberOfPages))}}function bh(r,n){if(1&r&&(e.TgZ(0,"div",17)(1,"div",18),e.YNc(2,Mg,8,12,"table",19),e.qZA(),e.TgZ(3,"div",20)(4,"table",0)(5,"colgroup"),e.YNc(6,Vb,1,0,"col",10),e.YNc(7,Sg,1,0,"col",21),e.qZA(),e.TgZ(8,"tbody"),e.YNc(9,Kb,3,2,"tr",21),e.qZA()()(),e.TgZ(10,"div",22),e.YNc(11,Xl,18,13,"ul",10),e.qZA()()),2&r){const t=e.oxw(2);e.MGl("id","",t.SEARCH_TYPE_CONTACTS,"SearchTableHeader"),e.xp6(2),e.Q6J("ngIf",t.selectionTracker.items.length>0),e.xp6(1),e.MGl("id","",t.SEARCH_TYPE_CONTACTS,"SearchTable"),e.xp6(1),e.Tol(t.classes[t.SEARCH_TYPE_CONTACTS]),e.Q6J("ngClass",e.kEZ(11,Ch,t.isDist,!t.isDist,t.editCurrentSelectionMode)),e.xp6(2),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(2),e.Q6J("ngForOf",t.selectionTracker.items),e.xp6(2),e.Q6J("ngIf",t.selectionTracker.numberOfPages>1)}}function Tw(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.editByHandButton())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.select_by_hand"))}}function kg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.cancel")))}function Jb(r,n){if(1&r&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.uIk("aria-label",t.name),e.xp6(1),e.Oqu(t.name)}}function Eg(r,n){1&r&&e._UZ(0,"hr")}function ea(r,n){if(1&r&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function Qb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",50),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.setSelectedFunction(c))})("keyup.enter",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(4);return e.KtG(u.setSelectedFunction(c))})("keydown.tab",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.setSelectedFunctionOnTabKey(u,_.functions,c))})("keydown.shift.tab",function(c){e.CHM(t);const u=e.oxw().$implicit,_=e.oxw(4);return e.KtG(_.setSelectedFunctionOnTabKey(u,_.functions,c))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.s9C("id",t.htmlid),e.xp6(1),e.Oqu(t.name)}}const Ig=function(r,n,t){return{active:r,category:n,header:t}};function xh(r,n){if(1&r&&(e.TgZ(0,"li",0),e.YNc(1,Jb,2,2,"h2",10),e.YNc(2,Eg,1,0,"hr",10),e.YNc(3,ea,2,1,"h3",10),e.YNc(4,Qb,2,2,"a",49),e.qZA()),2&r){const t=n.$implicit,a=e.oxw(4);e.Q6J("ngClass",e.kEZ(5,Ig,a.selectedFunction===t,"category"===t.type,"header"===t.type)),e.xp6(1),e.Q6J("ngIf","header"===t.type),e.xp6(1),e.Q6J("ngIf","line"===t.type),e.xp6(1),e.Q6J("ngIf","category"===t.type),e.xp6(1),e.Q6J("ngIf","header"!==t.type&&"line"!==t.type&&"category"!==t.type)}}function Pw(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.runFunction())}),e._uU(2),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.toggleFunction())})("keyup.enter",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.toggleFunction())}),e.ALo(4,"translate"),e._UZ(5,"pds-icon",47),e.qZA(),e.TgZ(6,"ul",48),e.ALo(7,"translate"),e.YNc(8,xh,5,9,"li",24),e.qZA()()}if(2&r){const t=e.oxw(3);e.uIk("parent",t.modal?"#powersearch_component":t.newUI?"#content-main":""),e.xp6(1),e.Q6J("disabled",!(t.selectionTracker.items.length>0)||"temp"===t.selectedFunction.type||t.selectionTracker.getTotalSelected()<2),e.xp6(1),e.Oqu(t.selectedFunction.name),e.xp6(1),e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.uIk("aria-label",e.lcZ(4,7,"psx.html.admin.home.group_functions")),e.xp6(3),e.uIk("aria-label",e.lcZ(7,9,"psx.html.admin.home.group_functions.expanded")),e.xp6(2),e.Q6J("ngForOf",t.functions)}}function Yb(r,n){if(1&r&&(e.TgZ(0,"div",38),e.YNc(1,Tw,3,4,"button",39),e.YNc(2,kg,3,3,"button",40),e.YNc(3,Pw,9,11,"div",41),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode)}}const Dw=function(r,n,t){return{pseudoDialog:r,"no-check-col":n,modal:t}},zb=function(r){return{0:r}};function Wb(r,n){if(1&r&&(e.TgZ(0,"div",9)(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Rb,2,1,"ng-container",10),e.YNc(5,gh,2,1,"div",11),e.YNc(6,bh,12,15,"div",12),e.YNc(7,Yb,4,3,"div",13),e.qZA()),2&r){const t=e.oxw();e.Q6J("ngClass",e.kEZ(9,Dw,t.editCurrentSelectionMode,!t.editCurrentSelectionMode,t.modal)),e.xp6(2),e.Oqu(e.xi3(3,6,"psx.html.admin_contacts.search.search_results_",e.VKq(13,zb,t.currentSelectionTotal))),e.xp6(2),e.Q6J("ngIf",t.errors.length>0),e.xp6(1),e.Q6J("ngIf",0===t.errors.length&&0===t.selectionTracker.items.length),e.xp6(1),e.Q6J("ngIf",t.selectionTracker.items.length>0),e.xp6(1),e.Q6J("ngIf",!t.modal&&!t.isGroupFunctionModal)}}function Xb(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.clearFilterOnCancel(c))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.contactsearch_component.cancel")))}function Fg(r,n){if(1&r&&(e.TgZ(0,"div",51)(1,"div"),e.YNc(2,Xb,3,3,"button",40),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.editCurrentSelectionMode)}}function Ag(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(c){e.CHM(t);const u=e.oxw(2);return e.KtG(u.clearFilterOnCancel(c))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.contactsearch_component.cancel")))}function ex(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.contactsearch_component.cancel_select_by_hand"))}}function Ng(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editByHandButton())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.contactsearch_component.select_by_hand"))}}function Lg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.redirectoToGroupFunction())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)||t.selectionTracker.getTotalSelected()<2),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.js.angular.contactsearch_component.continue"))}}function tx(r,n){if(1&r&&(e.TgZ(0,"div",52)(1,"div"),e.YNc(2,Ag,3,3,"button",40),e.qZA(),e.TgZ(3,"div"),e.YNc(4,ex,3,4,"button",53),e.YNc(5,Ng,3,4,"button",39),e.YNc(6,Lg,3,4,"button",54),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode),e.xp6(2),e.Q6J("ngIf",t.modal&&t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.modal)}}function nx(r,n){1&r&&e._UZ(0,"div",57)}const Rg=function(r){return{modalContainer:r}};class Pc extends lr{constructor(n,t,a,c,u){super(t,u,"pss-contactsearch","dropDownButton__accessAccountStatus.name"),this.contactsSearchServices=n,this.translationService=t,this.contextService=a,this.powerSearchService=c,this.SEARCH_TYPE_CONTACTS=ke.contacts,this.columnKeys={contact:"contact",access_account:"isaccessaccount",street_address:"street_address",phone_number:"phone_number",email_address:"email_address",associated_students:"studentnames"},this.columns=["contact","access_account","street_address","phone_number","email_address","associated_students"],this.errors=[],this.filterByStudents=!1,this.isGroupFunctionModal=!1,this.isInitialized=!1,this.selectedStudentCount=0,this.powersearchContextService=a,t.getPSSTranslations("psx.js.angular.contactsearch_component","psx.js.angular.contactsearch_component.cancel")}ngOnInit(){super.ngOnInit(),this.functions=contactsFunctions;const n=localStorage.getItem(`selected${this.SEARCH_TYPE_CONTACTS}Functions`);this.functions.forEach(t=>{t.htmlid===n&&(this.selectedFunction=t)}),this.contextService.getSelectedStudentCount().subscribe(t=>{this.selectedStudentCount=t}),this.contextService.getIsGroupFunctionModal().subscribe(t=>{this.isGroupFunctionModal=t}),this.contextService.getIsInitialized().subscribe(t=>{this.processFLS(),setTimeout(()=>{this.isInitialized=!0,initBehaviors(),this.searchType===this.SEARCH_TYPE_CONTACTS&&(this.powerSearchService.getCurrentStudentSelectionCount().subscribe(a=>{this.contextService.updateSelectedStudentCount(a)}),this.setFocusOnSearchBar(),closeLoading())})})}clearFilterOnCancel(n){this.searchBar.clearAllFilters(),this.setSelectionChangeOccurred(!1),this.processData({}),this.cancelSelectionChange(n)}processFLS(){if(this.contactsFLSColumnValues){if(this.anyNameAccess=this.contactsFLSColumnValues.firstNameAccess||this.contactsFLSColumnValues.middleNameAccess||this.contactsFLSColumnValues.lastNameAccess,this.quickSearchLinks.isContactActiveAccess=this.contactsFLSColumnValues.isActiveAccess,!this.contactsFLSColumnValues.phoneNumberAccess||!this.contactsFLSColumnValues.phoneNumberAsEnteredAccess){let n=this.contactsFields.findIndex(t=>"phone_number"===t.name);n>=0&&(this.contactsFields[n].flsAccess=0)}if(!this.contactsFLSColumnValues.phoneNumberExtAccess||!this.contactsFLSColumnValues.phoneNumberAsEnteredAccess){let n=this.contactsFields.findIndex(t=>"phone_number_extension"===t.name);n>=0&&(this.contactsFields[n].flsAccess=0)}if(!this.contactsFLSColumnValues.streetAccess){let n=this.columns.findIndex(t=>"street_address"===t);n>=0&&this.columns.splice(n,1)}if(!this.contactsFLSColumnValues.phoneNumberAsEnteredAccess){let n=this.columns.findIndex(t=>"phone_number"===t);n>=0&&this.columns.splice(n,1)}if(!this.contactsFLSColumnValues.emailAddressAccess){let n=this.columns.findIndex(t=>"email_address"===t);n>=0&&this.columns.splice(n,1)}}}setFocusOnSearchBar(){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(()=>{document.getElementById(this.getSearchBarId()).focus()},1):document.addEventListener("DOMContentLoaded",()=>{document.getElementById(this.getSearchBarId()).focus()})}updateSelection(){if(this.elementWithFocusBeforeLoading=document.activeElement,this.filters.length>0){const n=this.getSearchBody();this.contactsSearchServices.searchForContacts(this.selectionTracker.getPageNumber(),this.selectionTracker.getRowsPerPage(),n).subscribe(t=>{this.processData(t),document.getElementById(`${this.SEARCH_TYPE_CONTACTS}SearchTable`)&&(document.getElementById(`${this.SEARCH_TYPE_CONTACTS}SearchTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}else this.filters=[],this.elementWithFocusBeforeLoading=document.getElementById("contactSearchInput"),this.processData({}),closeLoading(),this.elementWithFocusBeforeLoading.focus()}toggleFunction(){"visible"==document.getElementById("menuListDropdown").style.visibility?document.getElementById("selectFunctionDropdownButtonContacts").setAttribute("aria-expanded","false"):document.getElementById("selectFunctionDropdownButtonContacts").setAttribute("aria-expanded","true")}getSelection(n){n||(this.elementWithFocusBeforeLoading=document.activeElement),loadingDialog();const t=this.getSearchBody();this.contactsSearchServices.searchForContacts(this.selectionTracker.getPageNumber(),this.selectionTracker.getRowsPerPage(),t).subscribe(a=>{this.processData(a),document.getElementById(`${this.SEARCH_TYPE_CONTACTS}SearchTable`)&&(document.getElementById(`${this.SEARCH_TYPE_CONTACTS}SearchTable`).scrollTop=0),closeLoading(),n?document.getElementById(n)?.focus():this.elementWithFocusBeforeLoading.focus()})}updateSearchOrSelectionByRemovedFilter(n){n>-1&&(this.filters.splice(n,1),0===this.filters.filter(a=>a.filterName!==$s&&a.filterName!==jl).length&&(this.filters=[]),this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.selectionTracker.setPageNumber(1),this.updateSelection())}getSearchBody(){let n={};return this.filters.forEach(t=>{n[t.filterName]=t.filterValue}),this.filterByStudents&&(n[Us]=!0),n}filterByStudentsUpdated(n){this.filterByStudents=n}runFunction(){this.executeSelectedFunction()}consolidate(){this.areTooManyContactsSelected()?this.showTooManySelectedDialogWarning():this.processSelectedContactIds(!1)}areTooManyContactsSelected(){let n=!1;return this.selectionTracker.getTotalSelected()>this.SELECTED_CONTACTS_WARNING_LIMIT&&(n=!0),n}showTooManySelectedDialogWarning(){psDialog({content:$j("#tooManySelectedWarningDiv").detach().removeClass("hide"),type:"dialogM",title:this.i18nText.consolidateContacts,width:640,initBehaviors:!0,persistContent:!0,buttons:[{id:"cancelDialogButton",text:this.i18nText.cancel,click:()=>{psDialogClose()}},{id:"consolidateDialogButton",text:this.i18nText.confirm,click:()=>{this.processSelectedContactIds(!1)}}]})}executeSelectedFunction(){"consolidate"===this.selectedFunction.op?this.consolidate():"edit"===this.selectedFunction.op&&this.processSelectedContactIds(!1)}redirectoToGroupFunction(n){let t=n||this.url;t.startsWith("/admin/contacts/updatecontacts.html")?this.functions.forEach(a=>{"edit"===a.op&&(this.selectedFunction=a)}):t.startsWith("/admin/contacts/consolidatecontacts.html")&&this.functions.forEach(a=>{"consolidate"===a.op&&(this.selectedFunction=a)}),this.executeSelectedFunction()}processSelectedContactIds(n){const t=this.selectionTracker.reversed,a=this.selectionTracker.ids;let c;if(this.selectionTracker.checkAll||t){const u=this.getSearchBody();this.contactsSearchServices.searchForContacts(this.selectionTracker.getPageNumber(),0,u).subscribe(_=>{if(this.errors=[],_.isError)this.errors.push(_.error.error.message);else{let S=_.record;t&&(S=zo(S,F=>-1===wu(a,F.id))),c=Mo(S,F=>F.id),this.continueToContactsPage(n?c.join(","):c)}})}else c=this.selectionTracker.ids,this.continueToContactsPage(n?c.join(","):c)}continueToContactsPage(n){this.contactsSearchServices.setSelectedContactIds(n).subscribe(()=>{"consolidate"===this.selectedFunction.op?"/admin/contacts/consolidatecontacts.html"===window.location.pathname?window.location.reload():window.location.href="/admin/contacts/consolidatecontacts.html#":"edit"===this.selectedFunction.op&&("/admin/contacts/updatecontacts.html"===window.location.pathname?window.location.reload():window.location.href="/admin/contacts/updatecontacts.html#")})}splitValues(n){return n?n.split("\\n"):[]}processData(n){if(this.errors=[],n.isError)return void this.translationService.get("psx.html.admin.home.oops_something_went_wrong_please_contact_your_system_administrator").subscribe(a=>{this.errors.push(a)});const t=this.filters.slice(0);this.filters=[],this.filters=t,this.currentSelectionTotal=n.count?n.count:0,this.currentSelection=n.record?n.record:[],this.selectionTracker.updateItems(this.currentSelection),this.selectionTracker.numberOfRows=n.count?n.count:0,this.selectionTracker.updateNumberOfPages(),this.selectionTracker.updatePaginationNumbers()}editSelection(n){this.editCurrentSelectionMode=n,n||this.selectionTracker.resetSavedIds(!0),setTimeout(()=>{initBehaviors(),document.getElementById("selectByHandButtonContacts")&&document.getElementById("selectByHandButtonContacts").focus()},0)}updateSelectionViaSearch(n){throw new Error("Method not implemented.")}getCustomizedFilter(n){throw new Error("Method not implemented.")}setSelectedFunctionOnTabKey(n,t,a){this.filteredFunctions=t.filter(_=>"header"!=_.type&&"category"!=_.type&&"line"!=_.type),this.selectedFunction=n;let c=this.filteredFunctions.indexOf(n),u=this.filteredFunctions.length;a&&9===a.which&&((a.shiftKey&&0==c||!a.shiftKey&&c==u-1)&&"visible"==document.getElementById("menuListDropdown").style.visibility&&document.getElementById("selectFunctionDropdownButtonContacts").setAttribute("aria-expanded","false"),a.shiftKey&&c<=u-1&&c>0&&(this.selectedFunction=this.filteredFunctions[c-1]),!a.shiftKey&&c<u-1&&c>=0&&(this.selectedFunction=this.filteredFunctions[c+1]),localStorage.setItem(`selected${this.searchType}Functions`,this.selectedFunction.htmlid))}}Pc.\u0275fac=function(n){return new(n||Pc)(e.Y36(ko),e.Y36(Kt.h),e.Y36(yi),e.Y36(Pn),e.Y36(e.R0b))},Pc.\u0275cmp=e.Xpm({type:Pc,selectors:[["pss-contactsearch"]],viewQuery:function(n,t){if(1&n&&e.Gf(Ab,5),2&n){let a;e.iGM(a=e.CRH())&&(t.searchBar=a.first)}},inputs:{availableSearchTypes:"availableSearchTypes",contactsFields:"contactsFields",contactsFLSColumnValues:"contactsFLSColumnValues",quickSearchLinks:"quickSearchLinks",url:"url"},features:[e._Bn([Pn,ko]),e.qOj],decls:8,vars:9,consts:[[3,"ngClass"],[3,"availableSearchTypes","mySearchType","searchType","fields","quickSearchLinks","selectedStudentCount","isDistrict","filters","modal","hideSearchSwitch","url","isGroupFunctionModal","searchTypeChange","filterAdded","filterRemoved","clearFilters","updateFilterByStudents",4,"ngIf"],["type","hidden","id","currentContactSelectionTotal",3,"value"],["class","box-round flexHeight current-selection",3,"ngClass",4,"ngIf"],["class","button-row single-button-footer",4,"ngIf"],["class","button-row footer groupFunctionModal",4,"ngIf"],["class","ui-widget-overlay ui-front",4,"ngIf"],[3,"availableSearchTypes","mySearchType","searchType","fields","quickSearchLinks","selectedStudentCount","isDistrict","filters","modal","hideSearchSwitch","url","isGroupFunctionModal","searchTypeChange","filterAdded","filterRemoved","clearFilters","updateFilterByStudents"],["contactSearchBar",""],[1,"box-round","flexHeight","current-selection",3,"ngClass"],[4,"ngIf"],["class","feedback-info","id","searchFeedbackContacts",4,"ngIf"],["class","gridWidget",3,"id",4,"ngIf"],["class","button-row",4,"ngIf"],["class","feedback-alert",3,"id",4,"ngFor","ngForOf"],[1,"feedback-alert",3,"id"],["id","searchFeedbackContacts",1,"feedback-info"],[1,"gridWidget",3,"id"],[1,"tableHead"],[3,"class","ngClass",4,"ngIf"],[1,"tableBody",3,"id"],[4,"ngFor","ngForOf"],[1,"gridWidgetPagination"],["class","left",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"left"],["type","checkbox","id","selectionAllContacts",3,"ngModel","ngModelChange","change"],["type","checkbox",3,"ngModel","id","ngModelChange","change"],[3,"id","href",4,"ngIf"],[3,"id","href"],[3,"id",4,"ngIf"],[3,"id"],[1,"center",3,"id","ngClass"],["href","#","id","FirstPageContacts",3,"ngClass","click"],["href","#","id","PreviousPageContacts",3,"ngClass","click"],["href","#","id","NextPageContacts",3,"ngClass","click"],["href","#","id","LastPageContacts",3,"ngClass","click"],["href","#",3,"id","click"],[1,"button-row"],["type","button","id","selectByHandButtonContacts",3,"disabled","click",4,"ngIf"],["type","button","id","cancelButtonContacts",3,"click",4,"ngIf"],["class","psMultiButton shim-ng",4,"ngIf"],["type","button","id","selectByHandButtonContacts",3,"disabled","click"],["type","button","id","cancelButtonContacts",3,"click"],[1,"psMultiButton","shim-ng"],["data-immediate-execute","true","type","button","id","selectedFunctionButtonContacts",1,"executeButton",3,"disabled","click"],["type","button","attr.aria-controls","menuListDropdown","aria-expanded","false","id","selectFunctionDropdownButtonContacts",1,"menuButton",3,"disabled","click","keyup.enter"],["name","caret-down"],["role","menu","id","menuListDropdown",1,"groupFunctions","selectable","multiButtonList"],["tabindex","0",3,"id","click","keyup.enter","keydown.tab","keydown.shift.tab",4,"ngIf"],["tabindex","0",3,"id","click","keyup.enter","keydown.tab","keydown.shift.tab"],[1,"button-row","single-button-footer"],[1,"button-row","footer","groupFunctionModal"],["type","button","id","cancelSelectByHandButtonContacts",3,"disabled","click",4,"ngIf"],["type","button","id","continueButtonContacts",3,"disabled","click",4,"ngIf"],["type","button","id","cancelSelectByHandButtonContacts",3,"disabled","click"],["type","button","id","continueButtonContacts",3,"disabled","click"],[1,"ui-widget-overlay","ui-front"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div"),e.YNc(2,Nb,2,12,"pss-searchbar",1),e.qZA(),e._UZ(3,"input",2),e.YNc(4,Wb,8,15,"div",3),e.qZA(),e.YNc(5,Fg,3,1,"div",4),e.YNc(6,tx,7,4,"div",5),e.YNc(7,nx,1,0,"div",6)),2&n&&(e.Q6J("ngClass",e.VKq(7,Rg,t.modal)),e.xp6(2),e.Q6J("ngIf",t.isInitialized),e.xp6(1),e.s9C("value",t.currentSelectionTotal),e.xp6(1),e.Q6J("ngIf",t.isInitialized),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",t.isGroupFunctionModal),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode))},dependencies:[Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,Eo,Bt.X$],styles:["fieldset[_ngcontent-%COMP%]{margin:0 10px 10px;border:none;border-radius:unset}fieldset[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(even):not(.button-row){background-color:#eee;border-radius:4px;display:inline-flex}fieldset[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(odd):not(.button-row){background-color:#fff;border-radius:4px;display:inline-flex}fieldset[_ngcontent-%COMP%]   div.search_field_containers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:block;margin:0 0 5px;-webkit-margin-start:0;margin-inline-start:0}fieldset[_ngcontent-%COMP%]   div.search_field_containers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .search_field[_ngcontent-%COMP%]{background:white;color:#000;margin:0 -10px;-webkit-margin-start:10px;margin-inline-start:10px;height:28px;border:solid 1px #444;border-radius:0;-webkit-border-end:none;border-inline-end:none;width:125px;text-align:start}fieldset[_ngcontent-%COMP%]   div.search_field_containers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .search_field[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{float:inset-inline-end}fieldset[_ngcontent-%COMP%]   div.search_field_containers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div.menuField[_ngcontent-%COMP%]{display:none;border-radius:4px;position:absolute;background:white;border:solid 1px lightgray;width:auto;z-index:100;box-shadow:0 2px 2px #0006;-webkit-margin-start:10px;margin-inline-start:10px}fieldset[_ngcontent-%COMP%]   div.search_field_containers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div.menuField[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px}fieldset[_ngcontent-%COMP%]   div.search_field_containers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div.menuField[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#a3bfcc;cursor:pointer}fieldset[_ngcontent-%COMP%]   div.search_field_containers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   div.menuField.show[_ngcontent-%COMP%]{display:inline-block}fieldset[_ngcontent-%COMP%]   div.search_field_containers[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-end-start-radius:0px;border-start-start-radius:0px;height:28px}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]{display:inline-block;-webkit-margin-end:-10px;margin-inline-end:-10px}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px;margin:0 10px;-webkit-margin-start:10px;margin-inline-start:10px}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]   ul.dropDownButtonList[_ngcontent-%COMP%]{position:absolute;z-index:200;height:auto;min-width:80px;width:auto;padding:5px;margin:0;overflow:hidden;text-align:start;border:1px solid #aaaaaa;background-color:#fff;box-shadow:0 5px 10px #0006;border-radius:4px;display:none}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]   ul.dropDownButtonList.show[_ngcontent-%COMP%]{display:block}fieldset[_ngcontent-%COMP%]   div.dropDownButton[_ngcontent-%COMP%]   ul.dropDownButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0;cursor:pointer}fieldset[_ngcontent-%COMP%]   button#contactStatusButton[_ngcontent-%COMP%]{margin:0 10px;-webkit-margin-start:0;margin-inline-start:0}fieldset[_ngcontent-%COMP%]   button.contacts_search[_ngcontent-%COMP%]{border-radius:4px;height:28px;margin:0 10px;-webkit-margin-start:10px;margin-inline-start:10px}#contactsSearchTable[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{table-layout:fixed;word-wrap:break-word}#contactsSearchTable[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{margin:0}#contactsSearchTable[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0 10px 2px;-webkit-margin-start:10px;margin-inline-start:10px}table.contacts[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:first-child{width:20%}table.contacts[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(2){width:10%}table.contacts[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(3){width:20%}table.contacts[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(4){width:10%}table.contacts[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(5){width:20%}table.contacts[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(6){width:20%}table.contacts.selectByHand[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:first-child{width:5%}table.contacts.selectByHand[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(2){width:20%}table.contacts.selectByHand[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(3){width:10%}table.contacts.selectByHand[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(4){width:20%}table.contacts.selectByHand[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(5){width:10%}table.contacts.selectByHand[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(6){width:20%}table.contacts.selectByHand[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(7){width:19%}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]{background-color:#eee;margin:0;padding:5px;border-end-start-radius:4px;border-end-end-radius:4px}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:.4em .6em}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{-webkit-margin-end:10px;margin-inline-end:10px;vertical-align:unset}","div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:30vh}@media print{div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:unset}}div.box-round.flexHeight.modal[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:25vh}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;background-color:#eee;margin:0;padding:15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   td.th[_ngcontent-%COMP%]{border:none}div.modalContainer[_ngcontent-%COMP%]{overflow:auto;max-height:65vh}div.modalContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:20px}.footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{justify-content:flex-end;-webkit-margin-end:10px;margin-inline-end:10px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}.footer[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}.single-button-footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-margin-end:10px;margin-inline-end:10px}.single-button-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}"]});const Bg=["dialog"],Vg=["pssContactSearch"],Hg=["pssStaffSearch"],Zg=["pssStudentSearch"];function ix(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("keydown.enter",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.enableDialog())})("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.enableDialog())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.modify_current_selection")))}function ox(r,n){1&r&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.change_your_selection_of_students_staff_contacts_")))}function kw(r,n){1&r&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.the_selected_page_requires_a_staff_selection_make_a_selection_then_pick_")))}function jg(r,n){1&r&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.the_selected_page_requires_a_student_selection_make_a_selection_then_pick_")))}function Ew(r,n){1&r&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.the_selected_page_requires_a_contact_selection")))}function Iw(r,n){1&r&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.the_selected_page_requires_a_staff_selection")))}function Fw(r,n){1&r&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.the_selected_page_requires_a_student_selection")))}function Aw(r,n){1&r&&(e.TgZ(0,"header",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.modify_current_selection1")))}function Nw(r,n){1&r&&(e.TgZ(0,"header",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.make_a_student_selection")))}function Lw(r,n){1&r&&(e.TgZ(0,"header",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.make_a_staff_selection")))}function Rw(r,n){1&r&&(e.TgZ(0,"header",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.powersearch_component.make_a_contact_selection")))}function Bw(r,n){if(1&r&&(e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"psx.js.angular.powersearch_component.select_students_to_continue_to")," "),e.xp6(3),e.hij("",t.groupFunctionPageName,".")}}function ed(r,n){if(1&r&&(e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"psx.js.angular.powersearch_component.select_staff_to_continue_to")," "),e.xp6(3),e.hij("",t.groupFunctionPageName,".")}}function Vw(r,n){if(1&r&&(e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"psx.js.angular.powersearch_component.select_contacts_to_continue_to")," "),e.xp6(3),e.hij("",t.groupFunctionPageName,".")}}function Ug(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-studentsearch",15,16),e.NdJ("searchTypeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchType(c))})("closeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.closeSelectionChange(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("studentFields",t.studentFields)("availableSearchTypes",t.availableSearchTypes)("searchType",t.searchType)("quickSearchLinks",t.quickSearchLinks)("hidden","students"!==t.searchType)("modal",t.modal)("hideSearchSwitch",t.hideSearchSwitch)("url",t.url)("pageContext",t.pageContext)("enabled","students"===t.searchType&&t.enabled)("current_student_id",t.currentStudentId)("newUI","true"===t.newUI)}}function td(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-staffsearch",17,18),e.NdJ("searchTypeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchType(c))})("closeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.closeSelectionChange(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("availableSearchTypes",t.availableSearchTypes)("searchType",t.searchType)("staffFields",t.staffFields)("quickSearchLinks",t.quickSearchLinks)("hidden","staff"!==t.searchType)("modal",t.modal)("hideSearchSwitch",t.hideSearchSwitch)("url",t.url)("pageContext",t.pageContext)("enabled","staff"===t.searchType&&t.enabled)("current_staff_id",t.currentStaffId)("newUI","true"===t.newUI)}}function $g(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-contactsearch",19,20),e.NdJ("searchTypeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchType(c))})("closeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.closeSelectionChange(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("availableSearchTypes",t.availableSearchTypes)("contactsFields",t.contactsFields)("contactsFLSColumnValues",t.contactsFLSValues)("searchType",t.searchType)("quickSearchLinks",t.quickSearchLinks)("hidden","contacts"!==t.searchType)("modal",t.modal)("hideSearchSwitch",t.hideSearchSwitch)("url",t.url)("pageContext",t.pageContext)("enabled","contacts"===t.searchType&&t.enabled)("newUI","true"===t.newUI)}}function Gg(r,n){1&r&&e._UZ(0,"div",21)}const Hw=function(r,n){return{modalDialog:r,enabled:n}};class Qr extends $r{constructor(n,t,a,c){super("pss-powersearch","search_switch_btn",!0),this.translateService=n,this.flsService=t,this.codesetService=a,this.contextService=c,this.modal=!1,this.currentStudentId=0,this.currentStaffId=0,this.iconButton=!1,this.hiddenDialog=!1,this.newUI="true",this.availableSearchTypes=[],this.defaultModal=!1,this.enabled=!0,this.hasAccessToContactsSearch=!0,this.hasAccessToStaffSearch=!0,this.hasAccessToStudentsSearch=!0,this.hideSearchSwitch=!1,this.i18nText={cancel:"",consolidateContacts:"",confirm:""},this.isGroupFunctionModal=!1,this.quickSearchLinks=new Object,this.studentFields=[{name:"all",type:dt.string,messageKey:"psx.js.angular.searchbar_component.all2"},{name:"last_name",tableName:"students",fieldName:"last_name",type:dt.string,messageKey:"psx.js.angular.searchbar_component.last_name2"},{name:"first_name",tableName:"students",fieldName:"first_name",type:dt.string,messageKey:"psx.js.angular.searchbar_component.first_name2"},{name:"student_number",tableName:"students",fieldName:"student_number",type:dt.number,messageKey:"psx.js.angular.searchbar_component.student_number",comparators:[{messageKey:$e.equal,value:$e.equal,keysTranslated:!0},{messageKey:$e.greater,value:$e.greater,keysTranslated:!0},{messageKey:$e.greater_equal,value:$e.greater_equal,keysTranslated:!0},{messageKey:$e.less,value:$e.less,keysTranslated:!0},{messageKey:$e.less_equal,value:$e.less_equal,keysTranslated:!0},{messageKey:"psx.js.angular.searchbar_component.in",value:$e.in,keysTranslated:!1},{messageKey:"psx.js.angular.searchbar_component.not_in",value:$e.not_in,keysTranslated:!1}]},{name:"state_studentNumber",tableName:"students",fieldName:"state_studentNumber",type:dt.string,messageKey:"psx.js.angular.searchbar_component.state_student_number"},{name:"grade_level",tableName:"students",fieldName:"grade_level",type:dt.multiSelect,messageKey:"psx.js.angular.searchbar_component.grade_level",options:[]},{name:"gender",tableName:"students",fieldName:"gender",type:dt.select,messageKey:"psx.js.angular.searchbar_component.gender",options:[]},{name:"dob",tableName:"students",fieldName:"dob",type:dt.date,messageKey:"psx.js.angular.searchbar_component.date_of_birth",comparators:[{messageKey:$e.equal,value:$e.equal,keysTranslated:!0},{messageKey:$e.greater,value:$e.greater,keysTranslated:!0},{messageKey:$e.greater_equal,value:$e.greater_equal,keysTranslated:!0},{messageKey:$e.less,value:$e.less,keysTranslated:!0},{messageKey:$e.less_equal,value:$e.less_equal,keysTranslated:!0}]}],this.staffFields=[{name:"all",type:dt.string,messageKey:"psx.js.angular.searchbar_component.all1"},{name:"last_name",tableName:"users",fieldName:"last_name",type:dt.string,messageKey:"psx.js.angular.searchbar_component.last_name1"},{name:"first_name",tableName:"users",fieldName:"first_name",type:dt.string,messageKey:"psx.js.angular.searchbar_component.first_name1"},{name:"teacherNumber",tableName:"users",fieldName:"teacherNumber",type:dt.string,messageKey:"psx.js.angular.searchbar_component.teacher_number",comparators:[{messageKey:$e.equal,value:$e.equal,keysTranslated:!0},{messageKey:$e.greater,value:$e.greater,keysTranslated:!0},{messageKey:$e.greater_equal,value:$e.greater_equal,keysTranslated:!0},{messageKey:$e.less,value:$e.less,keysTranslated:!0},{messageKey:$e.less_equal,value:$e.less_equal,keysTranslated:!0},{messageKey:"psx.js.angular.searchbar_component.in",value:$e.in,keysTranslated:!1},{messageKey:"psx.js.angular.searchbar_component.not_in",value:$e.not_in,keysTranslated:!1}]},{name:"gender",tableName:"userscorefields",fieldName:"gender",type:dt.select,messageKey:"psx.js.angular.searchbar_component.gender",options:[{messageKey:"psx.js.angular.searchbar_component.select1",value:""},{messageKey:"psx.html.admin_faculty.search.m1",value:"m"},{messageKey:"psx.html.admin_faculty.search.f1",value:"f"}]},{name:"staffStatus",tableName:"schoolstaff",fieldName:"staffStatus",type:dt.select,messageKey:"psx.js.angular.searchbar_component.staff_type",options:[{messageKey:"psx.js.angular.searchbar_component.select1",value:""},{messageKey:"psx.js.angular.searchbar_component.teachers",value:1},{messageKey:"psx.js.angular.searchbar_component.staff",value:2},{messageKey:"psx.js.angular.searchbar_component.lunch_staff",value:3},{messageKey:"psx.js.angular.searchbar_component.substitutes",value:4}]}],this.contactsFields=[{name:"last_name",tableName:"person",fieldName:"lastName",type:dt.string,messageKey:"psx.js.angular.searchbar_component.last_name",keysTranslated:!1},{name:"first_name",tableName:"person",fieldName:"firstName",type:dt.string,messageKey:"psx.js.angular.searchbar_component.first_name",keysTranslated:!1},{name:"street_address",tableName:"personAddress",fieldName:"street",type:dt.string,messageKey:"psx.js.angular.searchbar_component.street_address",keysTranslated:!1},{name:"unit",tableName:"personAddress",fieldName:"unit",type:dt.string,messageKey:"psx.js.angular.searchbar_component.unit",keysTranslated:!1},{name:"phone_number",tableName:"phoneNumber",fieldName:"phoneNumber",type:dt.string,messageKey:"psx.js.angular.searchbar_component.phone_number",keysTranslated:!1},{name:"phone_number_extension",tableName:"phoneNumber",fieldName:"phoneNumberExt",type:dt.string,messageKey:"psx.js.angular.searchbar_component.extension",keysTranslated:!1},{name:"email_address",tableName:"emailAddress",fieldName:"emailAddress",type:dt.string,messageKey:"psx.js.angular.searchbar_component.email",keysTranslated:!1}],this.contactsFLSValues={firstNameAccess:!0,middleNameAccess:!0,lastNameAccess:!0,isActiveAccess:!0,streetAccess:!0,phoneNumberAccess:!0,phoneNumberExtAccess:!0,phoneNumberAsEnteredAccess:!0,emailAddressAccess:!0},this.setCustomizableAngularSelectors(["pss-powersearch","pss-studentsearch","pss-staffsearch","pss-contactsearch","pss-staff-advancedsearch","pss-student-advancedsearch"]),this.translateService.getPSSTranslations("psx.js.angular.powersearch_component","psx.js.angular.powersearch_component.current_staff_selection")}ngOnInit(){this.contextService.getTriggerModalDialog().subscribe(c=>{c&&(c.modal&&this.studentSearchElement&&this.studentSearchElement.currentStudFilter&&(this.studentSearchElement.lastQueryStudFilter=JSON.parse(JSON.stringify(this.studentSearchElement.currentStudFilter))),c.modal&&this.staffSearchElement&&this.staffSearchElement.currentStaffFilter&&(this.staffSearchElement.lastQueryStaffFilter=JSON.parse(JSON.stringify(this.staffSearchElement.currentStaffFilter))),c.isGroupFunctionModal&&(this.isGroupFunctionModal=c.isGroupFunctionModal,this.contextService.updateIsGroupFunctionModal(c.isGroupFunctionModal)),this.groupFunctionPageName=c.groupFunctionPageName,this.modalOptions=c,this.default_search_type=this.searchType,c.enabled&&(this.enabled=c.enabled,this.searchType===ke.students&&this.studentSearchElement&&this.studentSearchElement.setFocusOnSearchBar(),this.searchType===ke.staff&&this.staffSearchElement&&this.staffSearchElement.setFocusOnSearchBar(),this.searchType===ke.contacts&&this.contactSearchElement&&this.contactSearchElement.setFocusOnSearchBar()),c.modal&&(this.modal=c.modal),c.onlySearchType&&(this.onlySearchType=c.onlySearchType,this.searchType=this.onlySearchType,this.hideSearchSwitch=!0),c.url&&(this.url=c.url),initBehaviors())}),window.openPowerSearchDialog=c=>{this.contextService.updateTriggerModalDialog(c)},window.redirectToContactsGroupFunction=c=>{this.contactSearchElement&&this.contactSearchElement.redirectoToGroupFunction(c)},this.modal&&(this.enabled=!1),this.defaultModal=this.modal,this.quickSearchLinks.nameLetters=nameLetters,this.hasAccessToStudentsSearch=this.students_search_access===String("1")||this.students_search_access===String("2"),this.hasAccessToStaffSearch=this.faculty_search_access===String("1")||this.faculty_search_access===String("2"),this.hasAccessToContactsSearch=this.contacts_search_access===String("1")||this.contacts_search_access===String("2");const n=[];this.hasAccessToStudentsSearch&&(this.availableSearchTypes.push(ke.students),this.studentFields.forEach(c=>{c.tableName&&c.fieldName&&n.push(c.tableName+"."+c.fieldName)})),this.hasAccessToStaffSearch&&(this.availableSearchTypes.push(ke.staff),this.staffFields.forEach(c=>{c.tableName&&c.fieldName&&n.push(c.tableName+"."+c.fieldName)})),this.hasAccessToContactsSearch&&(this.availableSearchTypes.push(ke.contacts),this.contactsFields.forEach(c=>{c.tableName&&c.fieldName&&n.push(c.tableName+"."+c.fieldName)}),n.push("person.middleName"),n.push("person.isActive"),n.push("personPhoneNumberAssoc.phoneNumberAsEntered"));let a=new URL(window.location.href).searchParams.get("searchtype");if(a)this.searchType=a;else{let u,c=this.modal?this.default_search_type:sessionStorage.getItem("lastSearchType");if(c){switch(c){case ke.students:u=this.hasAccessToStudentsSearch?ke.students:null;break;case ke.staff:u=this.hasAccessToStaffSearch?ke.staff:null;break;case ke.contacts:u=this.hasAccessToContactsSearch?ke.contacts:null}this.searchType=u||(this.availableSearchTypes.length>0?this.availableSearchTypes[0]:null),null==this.default_search_type&&(this.default_search_type=this.searchType)}else this.searchType=this.availableSearchTypes.length>0?this.availableSearchTypes[0]:null,null==this.default_search_type&&(this.default_search_type=this.searchType),this.searchType&&!this.modal&&sessionStorage.setItem("lastSearchType",this.searchType)}(0,js.D)(this.flsService.getAccessLevels(n),this.codesetService.getCodesets("gender",0)).subscribe(c=>{this.processFLS(c[0]),this.processGenderCodesets(c[1]),this.hiddenDialog?this.waitForAttributeToBeRemoved('[data-bootstrapped="pending"]').then(u=>{setTimeout(()=>{this.contextService.updateIsInitialized(!0),this.isComponentVisible=!0})}):setTimeout(()=>{this.contextService.updateIsInitialized(!0),this.isComponentVisible=!0})})}findElement(n){return(0,Di.Z)(function*(){for(;null===document.getElementById(n);)yield new Promise(t=>requestAnimationFrame(t));return document.getElementById(n)})()}waitForAttributeToBeRemoved(n){return(0,Di.Z)(function*(){for(;null!==document.querySelector(n);)yield new Promise(t=>requestAnimationFrame(t));return!0})()}clickout(n){this.enabled&&this.dialogElement&&!this.dialogElement.nativeElement.contains(n.target)&&!document.getElementById("adminFieldlistDialog")&&!document.getElementById("teacherFieldListDialog")&&(this.enabled=!1,document.removeEventListener("click",t=>{this.clickout(t)},!0),this.closeSelectionChange(!0),n.stopPropagation())}updateSearchType(n){this.searchType=n,this.modal||(this.default_search_type=this.searchType,sessionStorage.setItem("lastSearchType",this.searchType))}processGenderCodesets(n){if(n.isError)return void(this.quickSearchLinks.genders=[]);let t=[];n.record.forEach(u=>{t.push(u.tables.codeset)});const a=hc.getDayRoundedDate(new Date);t=t.filter(u=>hc.isDateBetween(a,u.effectivestartdate,u.effectiveenddate));const c=[];t.forEach(u=>{c.push({value:u.code,messageKey:u.displayvalue,keysTranslated:!0})}),this.quickSearchLinks.genders=c}processFLS(n){n.isError||n&&n.length>0&&(n.forEach(t=>{let a=this.studentFields.findIndex(c=>t.key===c.tableName+"."+c.fieldName);switch(a>=0&&(this.studentFields[a].flsAccess=t.access),a=this.staffFields.findIndex(c=>t.key===c.tableName+"."+c.fieldName),a>=0&&(this.staffFields[a].flsAccess=t.access),t.key){case"person.firstName":this.contactsFLSValues.firstNameAccess=0!==t.access;break;case"person.middleName":this.contactsFLSValues.middleNameAccess=0!==t.access;break;case"person.lastName":this.contactsFLSValues.lastNameAccess=0!==t.access;break;case"person.isActive":this.contactsFLSValues.isActiveAccess=0!==t.access;break;case"personAddress.street":this.contactsFLSValues.streetAccess=0!==t.access;break;case"phoneNumber.phoneNumber":this.contactsFLSValues.phoneNumberAccess=0!==t.access;break;case"phoneNumber.phoneNumberExt":this.contactsFLSValues.phoneNumberExtAccess=0!==t.access;break;case"personPhoneNumberAssoc.phoneNumberAsEntered":this.contactsFLSValues.phoneNumberAsEnteredAccess=0!==t.access;break;case"emailAddress.emailAddress":this.contactsFLSValues.emailAddressAccess=0!==t.access}a=this.contactsFields.findIndex(c=>t.key===c.tableName+"."+c.fieldName),a>=0&&(this.contactsFields[a].flsAccess=t.access)}),this.contactsFields=this.contactsFields.filter(t=>0!==t.flsAccess),this.studentFields=this.studentFields.filter(t=>0!==t.flsAccess),this.staffFields=this.staffFields.filter(t=>0!==t.flsAccess))}enableDialog(){this.enabled=!0,document.addEventListener("click",n=>{this.clickout(n)},!0)}closeDialog(n){this.modal&&(this.searchType===ke.students&&this.studentSearchElement&&this.studentSearchElement.clearFilterOnCancel(n),this.searchType===ke.staff&&this.staffSearchElement&&this.staffSearchElement.clearFilterOnCancel(n),this.searchType===ke.contacts&&this.contactSearchElement&&this.contactSearchElement.clearFilterOnCancel(n))}closeSelectionChange(n){this.modal=this.defaultModal,this.onlySearchType===this.searchType?this.searchType===ke.students?this.contextService.updateStudentsHandleCloseEvent(!0):this.searchType===ke.staff&&this.contextService.updateStaffHandleCloseEvent(!0):n?this.pageContext===ke.students?(this.searchType===ke.students?this.contextService.updateStaffHandleCloseEvent(!1):this.searchType===ke.staff?this.contextService.updateStudentsHandleCloseEvent(!1):this.searchType===ke.contacts&&(this.contextService.updateStudentsHandleCloseEvent(!1),this.contextService.updateStaffHandleCloseEvent(!1)),this.contextService.getPageContextSelectionChanged()&&this.contextService.updateStudentsHandleCloseEvent(!0)):this.pageContext===ke.staff&&(this.searchType===ke.staff?this.contextService.updateStudentsHandleCloseEvent(!1):this.searchType===ke.students?this.contextService.updateStaffHandleCloseEvent(!1):this.searchType===ke.contacts&&(this.contextService.updateStudentsHandleCloseEvent(!1),this.contextService.updateStaffHandleCloseEvent(!1)),this.contextService.getPageContextSelectionChanged()&&this.contextService.updateStudentsHandleCloseEvent(!0)):this.pageContext===ke.students&&this.searchType===ke.staff?(this.contextService.updateStudentsHandleCloseEvent(!1),this.contextService.updateStaffHandleCloseEvent(!0)):this.pageContext===ke.staff&&this.searchType===ke.students?(this.contextService.updateStaffHandleCloseEvent(!1),this.contextService.updateStudentsHandleCloseEvent(!0)):this.pageContext===ke.students&&this.searchType===ke.students?(this.contextService.updateStaffHandleCloseEvent(!1),this.contextService.getPageContextSelectionChanged()&&this.contextService.updateStudentsHandleCloseEvent(!0)):this.pageContext===ke.staff&&this.searchType===ke.staff&&(this.contextService.updateStudentsHandleCloseEvent(!1),this.contextService.getPageContextSelectionChanged()&&this.contextService.updateStaffHandleCloseEvent(!0)),this.modal&&(this.enabled=!1,this.searchType=this.default_search_type),this.modalOptions&&this.modalOptions.returnFocusElementId?this.findElement(this.modalOptions.returnFocusElementId).then(t=>{t.focus(),setTimeout(()=>{this.url=void 0})}):this.isGroupFunctionModal?this.url=void 0:this.findElement("powersearchModalButton").then(t=>{t.focus(),setTimeout(()=>{this.url=void 0})}),this.modalOptions&&(this.modalOptions=void 0,this.onlySearchType=void 0,this.hideSearchSwitch=!1,this.isGroupFunctionModal=!1,this.contextService.updateIsGroupFunctionModal(!1),this.groupFunctionPageName=void 0),initBehaviors()}}Qr.\u0275fac=function(n){return new(n||Qr)(e.Y36(Kt.h),e.Y36(or),e.Y36(ir),e.Y36(yi))},Qr.\u0275cmp=e.Xpm({type:Qr,selectors:[["pss-powersearch"]],viewQuery:function(n,t){if(1&n&&(e.Gf(Bg,7),e.Gf(Vg,5),e.Gf(Hg,5),e.Gf(Zg,5)),2&n){let a;e.iGM(a=e.CRH())&&(t.dialogElement=a.first),e.iGM(a=e.CRH())&&(t.contactSearchElement=a.first),e.iGM(a=e.CRH())&&(t.staffSearchElement=a.first),e.iGM(a=e.CRH())&&(t.studentSearchElement=a.first)}},inputs:{students_search_access:"students_search_access",faculty_search_access:"faculty_search_access",contacts_search_access:"contacts_search_access",default_search_type:"default_search_type",modal:"modal",currentStudentId:["current_student_id","currentStudentId"],currentStaffId:["current_staff_id","currentStaffId"],iconButton:["icon_button","iconButton"],hiddenDialog:["hidden_dialog","hiddenDialog"],newUI:["new_ui","newUI"],pageContext:["page_context","pageContext"]},features:[e._Bn([Pn]),e.qOj],decls:21,vars:24,consts:[["id","openPowersearchModal","tabindex","0","role","button","class","modifySelectionModal",3,"keydown.enter","click",4,"ngIf"],["id","powersearchModalDialog","aria-hidden","false","aria-labelledby","powersearchModalTitle","aria-describedby","powersearchModalDescription",1,"powersearch",3,"ngClass","keydown.esc"],["dialog",""],["id","powersearchModalDescription","class","sr-only",4,"ngIf"],["id","powersearchModalTitle","tabindex","0",4,"ngIf"],["id","powersearchModalContinueTo","class","modalSubHeader","tabindex","0",4,"ngIf"],["id","powersearch_component"],[3,"studentFields","availableSearchTypes","searchType","quickSearchLinks","hidden","modal","hideSearchSwitch","url","pageContext","enabled","current_student_id","newUI","searchTypeChange","closeChange",4,"ngIf"],[3,"availableSearchTypes","searchType","staffFields","quickSearchLinks","hidden","modal","hideSearchSwitch","url","pageContext","enabled","current_staff_id","newUI","searchTypeChange","closeChange",4,"ngIf"],[3,"availableSearchTypes","contactsFields","contactsFLSColumnValues","searchType","quickSearchLinks","hidden","modal","hideSearchSwitch","url","pageContext","enabled","newUI","searchTypeChange","closeChange",4,"ngIf"],["aria-hidden","true","id","dialogOverlay","class","dialogOverlay",4,"ngIf"],["id","openPowersearchModal","tabindex","0","role","button",1,"modifySelectionModal",3,"keydown.enter","click"],["id","powersearchModalDescription",1,"sr-only"],["id","powersearchModalTitle","tabindex","0"],["id","powersearchModalContinueTo","tabindex","0",1,"modalSubHeader"],[3,"studentFields","availableSearchTypes","searchType","quickSearchLinks","hidden","modal","hideSearchSwitch","url","pageContext","enabled","current_student_id","newUI","searchTypeChange","closeChange"],["pssStudentSearch",""],[3,"availableSearchTypes","searchType","staffFields","quickSearchLinks","hidden","modal","hideSearchSwitch","url","pageContext","enabled","current_staff_id","newUI","searchTypeChange","closeChange"],["pssStaffSearch",""],[3,"availableSearchTypes","contactsFields","contactsFLSColumnValues","searchType","quickSearchLinks","hidden","modal","hideSearchSwitch","url","pageContext","enabled","newUI","searchTypeChange","closeChange"],["pssContactSearch",""],["aria-hidden","true","id","dialogOverlay",1,"dialogOverlay"]],template:function(n,t){1&n&&(e.YNc(0,ix,3,3,"a",0),e.TgZ(1,"div",1,2),e.NdJ("keydown.esc",function(c){return t.closeDialog(c)}),e.YNc(3,ox,3,3,"div",3),e.YNc(4,kw,3,3,"div",3),e.YNc(5,jg,3,3,"div",3),e.YNc(6,Ew,3,3,"div",3),e.YNc(7,Iw,3,3,"div",3),e.YNc(8,Fw,3,3,"div",3),e.YNc(9,Aw,3,3,"header",4),e.YNc(10,Nw,3,3,"header",4),e.YNc(11,Lw,3,3,"header",4),e.YNc(12,Rw,3,3,"header",4),e.YNc(13,Bw,5,4,"div",5),e.YNc(14,ed,5,4,"div",5),e.YNc(15,Vw,5,4,"div",5),e.TgZ(16,"section",6),e.YNc(17,Ug,2,12,"pss-studentsearch",7),e.YNc(18,td,2,12,"pss-staffsearch",8),e.YNc(19,$g,2,12,"pss-contactsearch",9),e.qZA()(),e.YNc(20,Gg,1,0,"div",10)),2&n&&(e.Q6J("ngIf",t.modal&&t.iconButton),e.xp6(1),e.Q6J("ngClass",e.WLB(21,Hw,t.modal,t.enabled)),e.uIk("role",t.modal?"dialog":"")("aria-modal",t.modal),e.xp6(2),e.Q6J("ngIf",t.modal&&!t.isGroupFunctionModal&&!t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.isGroupFunctionModal&&"staff"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.isGroupFunctionModal&&"students"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&t.isGroupFunctionModal&&"contacts"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&t.isGroupFunctionModal&&"staff"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&t.isGroupFunctionModal&&"students"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&!t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&"students"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&"staff"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&"contacts"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&"students"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&"staff"===t.onlySearchType),e.xp6(1),e.Q6J("ngIf",t.modal&&t.isGroupFunctionModal&&"contacts"===t.onlySearchType),e.xp6(2),e.Q6J("ngIf",t.hasAccessToStudentsSearch),e.xp6(1),e.Q6J("ngIf",t.hasAccessToStaffSearch),e.xp6(1),e.Q6J("ngIf",t.hasAccessToContactsSearch),e.xp6(1),e.Q6J("ngIf",t.modal&&t.enabled))},dependencies:[H.mk,H.O5,yc,Jr,Pc,Bt.X$],styles:["powersearch-container[_ngcontent-%COMP%]{display:inline-block}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#333}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{border:none;background-color:#f1f4f4;text-decoration:underline}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}.psMultiButton.hideButton[_ngcontent-%COMP%]{display:none}div.box-round[_ngcontent-%COMP%]{margin-top:20px}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{margin:0;background-color:#eee;padding:10px}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]{-webkit-margin-start:10px;margin-inline-start:10px}.gridWidget[_ngcontent-%COMP%]   .tableHead[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}button.searchButton[_ngcontent-%COMP%]{height:32px;width:32px;margin:5px;padding:0;background-color:#fff;border:1px solid #0075db;color:#0075db}button.searchButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#0075db;margin:5px;height:20px;width:20px}.modalDialog[_ngcontent-%COMP%]{display:none;top:50%;inset-inline-start:50%;transform:translate(-50%,-50%);position:fixed;max-height:95vh;width:calc(100vw - 2rem);max-width:560px;z-index:9000;background:#FFFFFF;box-shadow:0 0 20px 200vh #00000040,0 5px 8px #0000007f;flex-direction:column;border-radius:4px;max-width:60vw;width:60vw}.modalDialog.enabled[_ngcontent-%COMP%]{display:block;font-size:14px;line-height:21px;font-weight:400;color:#444}.modalDialog.enabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:4px}.modalDialog[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{position:relative;background:#F1F4F4;display:flex;align-items:center;justify-content:center;flex:0 1 auto;min-height:44px;border-bottom:1px solid #838E91;border-radius:4px 4px 0 0;color:#333;padding:0;margin:0;text-align:center;font-size:18px;font-weight:600}.modalDialog[_ngcontent-%COMP%]   .modalSubHeader[_ngcontent-%COMP%]{padding:10px 20px 0;-webkit-padding-start:20px;padding-inline-start:20px;text-align:center}.modalDialog[_ngcontent-%COMP%]   .modalSubHeader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic}.dialogOverlay[_ngcontent-%COMP%]{position:fixed;top:0;inset-inline-start:0;inset-inline-end:0;bottom:0;background:rgba(0,0,0,.25);z-index:8000}","div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:30vh}@media print{div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:unset}}div.box-round.flexHeight.modal[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:25vh}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;background-color:#eee;margin:0;padding:15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   td.th[_ngcontent-%COMP%]{border:none}div.modalContainer[_ngcontent-%COMP%]{overflow:auto;max-height:65vh}div.modalContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:20px}.footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{justify-content:flex-end;-webkit-margin-end:10px;margin-inline-end:10px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}.footer[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}.single-button-footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-margin-end:10px;margin-inline-end:10px}.single-button-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}"]});const qg=["studentSearchBar"];function rx(r,n){1&r&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.js.angular.studentsearch_component.your_student_selection_was_changed_by_another_page_please_refresh_the_page__")))}function sx(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"pss-searchbar",5,6),e.NdJ("updatedSelection",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSelectionViaSearch(c))})("searchTypeChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchType(c))})("filterAdded",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchOrSelectionByAddedFilter(c))})("filterRemoved",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.updateSearchOrSelectionByRemovedFilter(c))})("addId",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.addId(c))})("updatedFilter",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.filterUpdated(c))})("updatedPagePref",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.pagePrefUpdated(c))})("clearFilters",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.clearFilter())})("updateAdvancedMode",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.advancedModeUpdated(c))})("updateRemoteEnrollments",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.remoteEnrollmentsUpdated(c))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("availableSearchTypes",t.availableSearchTypes)("mySearchType",t.mySearchType)("searchType",t.searchType)("fields",t.studentFields)("quickSearchLinks",t.quickSearchLinks)("isDistrict",t.isDist)("filters",t.filters)("selectionIds",t.currentSelectionIds)("includeRemoteEnrollments",t.includeRemotes)("advancedMode",t.advancedMode)("isScheduler",!0)("schedulerequestyearid",t.schedulerequestyearid)("scheduleFieldPreferences",t.pagePreference)("preferredPage",t.preferredPage)}}function Zw(r,n){if(1&r&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t)}}function jw(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Zw,3,1,"div",17),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errors)}}function Uw(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.there_are_no_search_results")))}function ax(r,n){if(1&r&&(e.TgZ(0,"div",19),e.YNc(1,Uw,3,3,"span",9),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0===t.selectionTracker.items.length)}}function nd(r,n){1&r&&e._UZ(0,"col")}function cx(r,n){1&r&&e._UZ(0,"col")}function $w(r,n){1&r&&e._UZ(0,"col")}function Gw(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",30)(1,"input",31),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw(4);return e.KtG(u.selectionTracker.checkAll=c)})("change",function(){e.CHM(t);const c=e.oxw(4);return e.KtG(c.selectionTracker.toggleSelectionBoxes())}),e.qZA()()}if(2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngModel",t.selectionTracker.checkAll)}}const lx=function(r,n){return{left:r,center:n}};function dx(r,n){if(1&r&&(e.TgZ(0,"th",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit,a=n.index,c=e.oxw(4);e.Q6J("ngClass",e.WLB(4,lx,0===a,a>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home."+c.columnKeys[t]))}}function qw(r,n){1&r&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.school")))}const Kg=function(r,n){return{district:r,school:n}};function Kw(r,n){if(1&r&&(e.TgZ(0,"table",24)(1,"colgroup"),e.YNc(2,nd,1,0,"col",9),e.YNc(3,cx,1,0,"col",25),e.YNc(4,$w,1,0,"col",9),e.qZA(),e.TgZ(5,"thead")(6,"tr"),e.YNc(7,Gw,2,1,"th",27),e.YNc(8,dx,3,7,"th",28),e.YNc(9,qw,3,3,"th",29),e.qZA()()()),2&r){const t=e.oxw(3);e.Tol(t.classes[t.editCurrentSelectionMode?"students_advanced":"students"]),e.Q6J("ngClass",e.WLB(10,Kg,t.isDist,!t.isDist)),e.xp6(2),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments),e.xp6(3),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments)}}function ux(r,n){1&r&&e._UZ(0,"col")}function Jg(r,n){1&r&&e._UZ(0,"col")}function Qg(r,n){1&r&&e._UZ(0,"col")}function Jw(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"input",33),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw().$implicit;return e.KtG(u.inSelection=c)})("change",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.selectionTracker.selectionChange(c))}),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.MGl("id","student_selection_chk",t.dcid,""),e.Q6J("ngModel",t.inSelection)}}function Li(r,n){if(1&r&&(e.TgZ(0,"a",35),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,a=e.oxw().$implicit,c=e.oxw(3);e.MGl("id","student_selection_lnk",a.dcid,""),e.cQ8("href","",c.preferredPage,"?frn=001",a.dcid,"&schedulerequestyearid=",c.schedulerequestyearid,"",e.LSH),e.xp6(1),e.Oqu(a[t])}}function hx(r,n){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.Oqu(a[t])}}function wh(r,n){if(1&r&&(e.TgZ(0,"td",24),e.YNc(1,Li,2,5,"a",34),e.YNc(2,hx,2,1,"ng-container",9),e.qZA()),2&r){const t=n.index;e.Q6J("ngClass",e.WLB(3,lx,0===t,t>0)),e.xp6(1),e.Q6J("ngIf",0===t),e.xp6(1),e.Q6J("ngIf",t>0)}}function px(r,n){if(1&r&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.schoolAbbreviation)}}function Qw(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Jw,2,2,"td",9),e.YNc(2,wh,3,6,"td",28),e.YNc(3,px,2,1,"td",29),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments)}}const bi=function(r){return{active:r}};function _x(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",24)(1,"a",40),e.NdJ("click",function(){const u=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.setPage(u,!1))}),e._uU(2),e.qZA()()}if(2&r){const t=n.$implicit,a=e.oxw(4);e.Q6J("ngClass",e.VKq(3,bi,a.isCurrentPage(t,!1))),e.xp6(1),e.MGl("id","Page",t,"Student"),e.xp6(1),e.Oqu(t)}}const ta=function(r){return{disabled:r}};function fx(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul")(1,"li")(2,"a",36),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.firstPage(!1))}),e._UZ(3,"em"),e._uU(4,"<<"),e.qZA()(),e.TgZ(5,"li")(6,"a",37),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.previousPage(!1))}),e._UZ(7,"em"),e._uU(8,"<"),e.qZA()(),e.YNc(9,_x,3,5,"li",28),e.TgZ(10,"li")(11,"a",38),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.nextPage(!1))}),e._UZ(12,"em"),e._uU(13,">"),e.qZA()(),e.TgZ(14,"li")(15,"a",39),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(3);return e.KtG(c.lastPage(!1))}),e._UZ(16,"em"),e._uU(17,">>"),e.qZA()()()}if(2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(5,ta,1===t.selectionTracker.pageNumber)),e.xp6(4),e.Q6J("ngClass",e.VKq(7,ta,1===t.selectionTracker.pageNumber)),e.xp6(3),e.Q6J("ngForOf",t.selectionTracker.pages),e.xp6(2),e.Q6J("ngClass",e.VKq(9,ta,t.selectionTracker.pageNumber===t.selectionTracker.numberOfPages)),e.xp6(4),e.Q6J("ngClass",e.VKq(11,ta,t.selectionTracker.pageNumber===t.selectionTracker.numberOfPages))}}function gx(r,n){if(1&r&&(e.TgZ(0,"div",20)(1,"div",21),e.YNc(2,Kw,10,13,"table",22),e.qZA(),e.TgZ(3,"div",23)(4,"table",24)(5,"colgroup"),e.YNc(6,ux,1,0,"col",9),e.YNc(7,Jg,1,0,"col",25),e.YNc(8,Qg,1,0,"col",9),e.qZA(),e.TgZ(9,"tbody"),e.YNc(10,Qw,4,3,"tr",25),e.qZA()()(),e.TgZ(11,"div",26),e.YNc(12,fx,18,13,"ul",9),e.qZA()()),2&r){const t=e.oxw(2);e.MGl("id","",t.mySearchType,"SearchTable"),e.xp6(2),e.Q6J("ngIf",t.selectionTracker.items.length>0),e.xp6(1),e.MGl("id","",t.mySearchType,"SelectionTable"),e.xp6(1),e.Tol(t.classes[t.editCurrentSelectionMode?"students_advanced":"students"]),e.Q6J("ngClass",e.WLB(12,Kg,t.isDist,!t.isDist)),e.xp6(2),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngIf",t.isDist||t.remoteEnrollments),e.xp6(2),e.Q6J("ngForOf",t.selectionTracker.items),e.xp6(2),e.Q6J("ngIf",t.selectionTracker.numberOfPages>1)}}function Mh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editSelection(!0))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.select_by_hand"))}}function Yg(r,n){if(1&r&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function zg(r,n){1&r&&e._UZ(0,"hr")}function mx(r,n){if(1&r&&(e.TgZ(0,"label"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function Wg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",48),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.setSelectedFunction(c))})("keyup.enter",function(){e.CHM(t);const c=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.setSelectedFunction(c))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.s9C("id",t.htmlid),e.xp6(1),e.Oqu(t.name)}}const Xg=function(r,n,t){return{active:r,category:n,header:t}};function Cx(r,n){if(1&r&&(e.TgZ(0,"li",24),e.YNc(1,Yg,2,1,"h2",9),e.YNc(2,zg,1,0,"hr",9),e.YNc(3,mx,2,1,"label",9),e.YNc(4,Wg,2,2,"a",47),e.qZA()),2&r){const t=n.$implicit,a=e.oxw(3);e.Q6J("ngClass",e.kEZ(5,Xg,a.selectedFunction===t,"category"===t.type,"header"===t.type)),e.xp6(1),e.Q6J("ngIf","header"===t.type),e.xp6(1),e.Q6J("ngIf","line"===t.type),e.xp6(1),e.Q6J("ngIf","category"===t.type),e.xp6(1),e.Q6J("ngIf","header"!==t.type&&"line"!==t.type&&"category"!==t.type)}}const em=function(r){return{concealed:r}};function vx(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",42)(1,"button",43),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.runFunction())}),e._uU(2),e.qZA(),e.TgZ(3,"button",44),e._UZ(4,"pds-icon",45),e.qZA(),e.TgZ(5,"ul",46),e.YNc(6,Cx,5,9,"li",28),e.qZA()()}if(2&r){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(6,em,t.editCurrentSelectionMode)),e.uIk("parent",t.modal?"#powersearch_component":"#content-main"),e.xp6(1),e.Q6J("disabled",!(t.selectionTracker.items.length>0)||"temp"===t.selectedFunction.type),e.xp6(1),e.Oqu(t.selectedFunction.name),e.xp6(1),e.Q6J("disabled",!(t.selectionTracker.items.length>0)),e.xp6(3),e.Q6J("ngForOf",t.functions)}}function Sh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.editSelection(!1))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"psx.html.admin.home.cancel")))}function ur(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const c=e.oxw(2);return e.KtG(c.updateStudentSelection())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.selectionTracker.checkAll),e.xp6(1),e.Oqu(e.lcZ(2,2,"psx.html.admin.home.update_selection"))}}const tm=function(r,n,t){return{pseudoDialog:r,"no-check-col":n,modal:t}},Oh=function(r){return{0:r}};function Io(r,n){if(1&r&&(e.TgZ(0,"div",7)(1,"h2",8),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,jw,2,1,"ng-container",9),e.YNc(5,ax,2,1,"div",10),e.YNc(6,gx,13,15,"div",11),e.TgZ(7,"div",12),e.YNc(8,Mh,3,4,"button",13),e.YNc(9,vx,7,8,"div",14),e.YNc(10,Sh,3,3,"button",15),e.YNc(11,ur,3,4,"button",16),e.qZA()()),2&r){const t=e.oxw();e.Q6J("ngClass",e.kEZ(12,tm,t.editCurrentSelectionMode,!t.editCurrentSelectionMode,t.modal)),e.xp6(2),e.Oqu(e.xi3(3,9,"psx.html.admin.home.current_student_selection",e.VKq(16,Oh,t.currentSelectionTotal))),e.xp6(2),e.Q6J("ngIf",t.errors.length>0),e.xp6(1),e.Q6J("ngIf",0===t.errors.length&&0===t.selectionTracker.items.length),e.xp6(1),e.Q6J("ngIf",t.selectionTracker.items.length>0),e.xp6(2),e.Q6J("ngIf",!t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.selectedFunction&&t.functions),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode)}}function yx(r,n){1&r&&e._UZ(0,"div",51)}class id extends lr{constructor(n,t,a,c,u,_,S){super(t,S,"pss-schedulerstudentsearch","advancedModeToggleBtnstudents"),this.searchServices=n,this.translateService=t,this.flsService=a,this.studentSearchServices=c,this.contextService=u,this.codesetService=_,this.gradPlanWorkflow=0,this.legacyGradPlan=!1,this.SEARCH_TYPE_STUDENTS=ke.students,this.mySearchType=ke.students,this.remoteEnrollments=!1,this.includeRemotes=!1,this.filtersQueryLast="",this.selectionHasChanged=!1,this.isInitialized=!1,this.errors=[],this.hasAccessToStudentsSearch=!0,this.availableSearchTypes=[ke.students],this.pagePreference=[],this.quickSearchLinks={gender:[]},this.schedulerequestyearid=0,this.searchType=ke.students,this.isDist=!1,this.studentFields=[{name:"all",type:dt.string,messageKey:"psx.js.angular.searchbar_component.all2"},{name:"last_name",tableName:"students",fieldName:"last_name",type:dt.string,messageKey:"psx.js.angular.searchbar_component.last_name2"},{name:"first_name",tableName:"students",fieldName:"first_name",type:dt.string,messageKey:"psx.js.angular.searchbar_component.first_name2"},{name:"student_number",tableName:"students",fieldName:"student_number",type:dt.number,messageKey:"psx.js.angular.searchbar_component.student_number",comparators:[{messageKey:$e.equal,value:$e.equal,keysTranslated:!0},{messageKey:$e.greater,value:$e.greater,keysTranslated:!0},{messageKey:$e.greater_equal,value:$e.greater_equal,keysTranslated:!0},{messageKey:$e.less,value:$e.less,keysTranslated:!0},{messageKey:$e.less_equal,value:$e.less_equal,keysTranslated:!0},{messageKey:"psx.js.angular.searchbar_component.in",value:$e.in,keysTranslated:!1},{messageKey:"psx.js.angular.searchbar_component.not_in",value:$e.not_in,keysTranslated:!1}]},{name:"state_studentNumber",tableName:"students",fieldName:"state_studentNumber",type:dt.string,messageKey:"psx.js.angular.searchbar_component.state_student_number"},{name:"grade_level",tableName:"students",fieldName:"grade_level",type:dt.multiSelect,messageKey:"psx.js.angular.searchbar_component.grade_level",options:[]},{name:"sched_nextyeargrade",tableName:"students",fieldName:"sched_nextyeargrade",type:dt.multiSelect,messageKey:"psx.js.angular.searchbar_component.next_year_grade_level",options:[]},{name:"gender",tableName:"students",fieldName:"gender",type:dt.select,messageKey:"psx.js.angular.searchbar_component.gender",options:[]},{name:"dob",tableName:"students",fieldName:"dob",type:dt.date,messageKey:"psx.js.angular.searchbar_component.date_of_birth",comparators:[{messageKey:$e.equal,value:$e.equal,keysTranslated:!0},{messageKey:$e.greater,value:$e.greater,keysTranslated:!0},{messageKey:$e.greater_equal,value:$e.greater_equal,keysTranslated:!0},{messageKey:$e.less,value:$e.less,keysTranslated:!0},{messageKey:$e.less_equal,value:$e.less_equal,keysTranslated:!0}]}],this.searchType=ke.students,t.getPSSTranslations("psx.html.admin.home","psx.html.admin.home.start_page"),t.getPSSTranslations("psx.js.angular.studentsearch_component","psx.js.angular.studentsearch_component.in"),t.getPSSTranslations("psx.js.angular.searchbar_component","psx.js.angular.searchbar_component.in"),t.getPSSTranslations("psx.js.angular.powersearch_component","psx.js.angular.powersearch_component.current_staff_selection"),t.getPSSTranslations("psx.html.admin_powerschedule_students.white","psx.html.admin_powerschedule_students.white.next_year_grade_level"),t.getPSSTranslations("psx.html.admin_powerschedule_students.menu","psx.html.admin_powerschedule_students.menu.constraints"),typeof document.hidden<"u"&&(this.hidden="hidden",this.visibilityChange="visibilitychange",document.addEventListener(this.visibilityChange,()=>{document[this.hidden]||this.studentSearchServices.checkStudentSelectionUpdated(this.filtersQueryLast).subscribe(F=>{this.selectionHasChanged=F,this.selectionHasChanged&&this.studentSearchServices.getCurrentStudentSelectionIds().subscribe(j=>{const ue=[{filterName:"ext",op:"set",valueForDisplay:j.length,messageKey:"psx.js.angular.studentsearch_component.selection_changed_to__",clearSelection:0===j.length}];this.contextService.updateSelectedStudentCount(j.length),this.studentSearchServices.updateStudentFilters(ue).subscribe(()=>{})})})},!1)),this.exposeFunction("selectStudentByCustomSearchValue",F=>{this.selectByCustomSearchValue(F)},[{name:"searchString",description:"Value to search and select students."}],"Use this function to provide a custom search search string and make it your selection. This function will override the users current filters.")}ngOnInit(){super.ngOnInit();const n=new URLSearchParams(window.location.search);this.schedulerequestyearid=+n.get("schedulerequestyearid"),this.preferredPage="/admin/powerschedule/students/prefs.html",this.pagePreference.push({value:"/admin/powerschedule/students/constraints.html",messageKey:"psx.html.admin_powerschedule_students.menu.constraints"}),this.pagePreference.push({value:"/admin/powerschedule/students/demo.html",messageKey:"psx.html.admin_powerschedule_students.menu.demographics"}),this.gradPlanWorkflow>0&&this.pagePreference.push({value:"/admin/powerschedule/students/GradPlanProgress.html",messageKey:"psx.html.admin_powerschedule_students.menu.grad_planner"}),this.gradPlanWorkflow<2&&this.legacyGradPlan&&this.pagePreference.push({value:"/admin/powerschedule/students/GraduationProgress.html",messageKey:"psx.html.admin_powerschedule_students.menu.grad_planner_legacy"}),this.pagePreference.push({value:"/admin/powerschedule/students/gradcheck.html",messageKey:"psx.html.admin_powerschedule_students.menu.grad_progress"}),this.pagePreference.push({value:"/admin/powerschedule/students/matrix.html",messageKey:"psx.html.admin_powerschedule_students.menu.matrix"}),this.pagePreference.push({value:"/admin/powerschedule/students/prefs.html",messageKey:"psx.html.admin_powerschedule_students.menu.preferences",selected:!0}),this.pagePreference.push({value:"/admin/powerschedule/students/requests.html",messageKey:"psx.html.admin_powerschedule_students.menu.requests"}),this.pagePreference.push({value:"/admin/powerschedule/students/schedule.html",messageKey:"psx.html.admin_powerschedule_students.menu.schedule"}),"loading"!==document.readyState?this.prepareFunctions():document.addEventListener&&document.addEventListener("DOMContentLoaded",()=>{this.prepareFunctions()});const t=[];this.studentFields.forEach(a=>{a.tableName&&a.fieldName&&t.push(a.tableName+"."+a.fieldName)}),(0,js.D)(this.searchServices.getGradeLevels(),this.translateService.get("psx.js.angular.searchbar_component.in"),this.translateService.get("psx.js.angular.searchbar_component.not_in"),this.codesetService.getCodesets("gender",0),this.searchServices.getSchedulingGradeLevels(),this.flsService.getAccessLevels(t)).subscribe(a=>{const c=this.studentFields.findIndex(u=>"student_number"===u.name);if(c>-1&&this.studentFields[c].comparators){const u=this.studentFields[c].comparators.findIndex(S=>"psx.js.angular.searchbar_component.in"===S.messageKey),_=this.studentFields[c].comparators.findIndex(S=>"psx.js.angular.searchbar_component.not_in"===S.messageKey);this.studentFields[c].comparators[u].messageKey=a[1],this.studentFields[c].comparators[u].keysTranslated=!0,this.studentFields[c].comparators[_].messageKey=a[2],this.studentFields[c].comparators[_].keysTranslated=!0}this.processFLS(a[5]),this.processNextYearGradeLevels(a[0]),this.processGenderCodesets(a[3]),this.processCurrentGradeLevels(a[4]),""===studentsAltered&&(studentsAltered=void 0),this.searchType===this.SEARCH_TYPE_STUDENTS&&this.getSelection("studentSearchInput"),setTimeout(()=>{this.isInitialized=!0,initBehaviors(),this.searchType===this.SEARCH_TYPE_STUDENTS&&("complete"===document.readyState||"interactive"===document.readyState?setTimeout(()=>{document.getElementById(this.getSearchBarId()).focus()},1):document.addEventListener("DOMContentLoaded",()=>{document.getElementById(this.getSearchBarId()).focus()}))})})}processNextYearGradeLevels(n){if(n.isError)return void(this.quickSearchLinks.gradeLevels=[]);const t=this.studentFields.findIndex(c=>"sched_nextyeargrade"===c.name);if(t<0)return void(this.quickSearchLinks.gradeLevels=[]);this.quickSearchLinks.gradeLevels=n.record;const a=[{messageKey:"psx.js.angular.searchbar_component.select",value:"",keysTranslated:!1}];n.record.forEach(c=>{a.push({value:c.grade_level,messageKey:c.grade_text,keysTranslated:!0})}),this.studentFields[t].options=a}processCurrentGradeLevels(n){if(n.isError)return void(this.quickSearchLinks.currentGradeLevels=[]);const t=this.studentFields.findIndex(c=>"grade_level"===c.name);if(t<0)return void(this.quickSearchLinks.currentGradeLevels=[]);this.quickSearchLinks.currentGradeLevels=n.record;const a=[{messageKey:"psx.js.angular.searchbar_component.select",value:"",keysTranslated:!1}];n.record.forEach(c=>{a.push({value:c.grade_level,messageKey:c.grade_text,keysTranslated:!0})}),this.studentFields[t].options=a}processFLS(n){n.isError||n&&n.length>0&&(n.forEach(t=>{let a=this.studentFields.findIndex(c=>t.key===c.tableName+"."+c.fieldName);a>=0&&(this.studentFields[a].flsAccess=t.access)}),this.studentFields=this.studentFields.filter(t=>0!==t.flsAccess))}processGenderCodesets(n){if(n.isError)return void(this.quickSearchLinks.genders=[]);let t=[];n.record.forEach(S=>{t.push(S.tables.codeset)});const a=hc.getDayRoundedDate(new Date);t=t.filter(S=>hc.isDateBetween(a,S.effectivestartdate,S.effectiveenddate));const c=[];t.forEach(S=>{c.push({value:S.code,messageKey:S.displayvalue,keysTranslated:!0})}),this.quickSearchLinks.genders=c;const u=this.studentFields.findIndex(S=>"gender"===S.name);if(u<0)return void(this.quickSearchLinks.gendersForStudent=[]);let _=[];this.studentFields[u].options.push({messageKey:"psx.js.angular.searchbar_component.select1",value:"",keysTranslated:!1}),this.quickSearchLinks.genders.forEach(S=>{_.push(S),this.studentFields[u].options.push(S)}),this.studentFields[u].type=this.quickSearchLinks.genders.length>2?dt.multiSelect:dt.select,this.quickSearchLinks.gendersForStudent=_}advancedModeUpdated(n){this.advancedMode=n,document.getElementById("searchTable")&&(document.getElementById("searchTable").scrollTop=0)}prepareFunctions(){this.functions=typeof studentFunctions<"u"?studentFunctions:[],this.functions&&this.createHtmlIds(this.functions);const n=localStorage.getItem(`selected${this.SEARCH_TYPE_STUDENTS}Functions`);this.functions.forEach(t=>{t.htmlid===n&&(this.selectedFunction=t)})}processData(n,t){if(this.errors=[],n.isError)return void this.translateService.get("psx.html.admin.home.oops_something_went_wrong_please_contact_your_system_administrator").subscribe(c=>{this.errors.push(c)});if(n.errors&&n.errors.length>0){n.errors.forEach(u=>{this.errors.push(u)});let c=this.filters.pop();return void this.searchBar.errorWithFilter(c)}this.contextService.updateSelectedStudentCount(n.total),this.columns=n.columns,this.columnKeys={},this.columns.forEach(c=>{switch(c){case"lastFirst":this.columnKeys[c]="student";break;case"dateOfBirth":this.columnKeys[c]="date_of_birth";break;case"gradeLevel":this.columnKeys[c]="grade_level";break;case"socialSecurityNumber":this.columnKeys[c]="ssn";break;case"studentNumber":this.columnKeys[c]="student_number"}});let a=n.columns.length;this.isDist&&a++,n.includeRemote&&(this.includeRemotes=n.includeRemote),n.students.forEach(c=>{if(c.dateOfBirth){const u=c.dateOfBirth.split("-"),_=new Date(+u[0],+u[1]-1,+u[2]);c.dateOfBirth=get_localized_date(_)}}),this.classes.students=`students_${a}`,this.classes.students_advanced=`advanced_students_${a}`,typeof studentsAltered<"u"&&studentsAltered!==n.queryLastExecuted?(this.filters=[{filterName:"ext",op:"set",valueForDisplay:n.total,messageKey:"psx.js.angular.studentsearch_component.selection_changed_to__",clearSelection:0===n.total}],this.studentSearchServices.updateStudentFilters(this.filters).subscribe(()=>{})):this.filters=n.filters?n.filters:[],this.filtersQueryLast=""==n.queryLastExecuted?studentsAltered:n.queryLastExecuted,studentsAltered=void 0,this.currentSelectionTotal=n.total,this.currentSelection=n.students,this.contextService.updateSelectedStudentCount(this.currentSelectionTotal),this.currentSelectionIds=n.selectedStudentIds,this.selectionTracker.updateItems(this.currentSelection),this.selectionTracker.numberOfRows=n.total,this.selectionTracker.updateNumberOfPages(),this.selectionTracker.updatePaginationNumbers()}updateStudentSelection(){const n={filterName:"selected_by_hand",messageKey:"psx.js.angular.studentsearch_component.selected_by_hand__",clearSelection:0===this.selectionTracker.ids.length};this.selectionTracker.reversed?(n.op="substract",n.omitIds=`[${this.selectionTracker.ids.join(",")}]`,n.valueForDisplay=""+(this.currentSelectionTotal-this.selectionTracker.ids.length)):(n.op="set",n.ids=`[${this.selectionTracker.ids.join(",")}]`,n.valueForDisplay=`${this.selectionTracker.ids.length}`),this.filters.push(n),this.updateSelection(),this.editSelection(!1)}getSelection(n){n||(this.elementWithFocusBeforeLoading=document.activeElement),loadingDialog(),this.studentSearchServices.getCurrentStudentSelection(this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage).subscribe(t=>{this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),n?document.getElementById(n)?.focus():this.elementWithFocusBeforeLoading.focus()})}updateSelectionViaSearch(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.studentSearchServices.setStudentSelectionByFilters(n,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage,null,this.remoteEnrollments,!0).subscribe(t=>{this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}updateSelection(){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.studentSearchServices.setStudentSelectionByFilters(this.filters,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage,null,this.remoteEnrollments,!0).subscribe(n=>{this.processData(n,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}addId(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),0===this.filters.length&&"add"===n.op&&(n.op="set"),this.filters.push(n),this.studentSearchServices.setStudentSelectionByFilters(this.filters,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage,null,this.remoteEnrollments,!0).subscribe(t=>{this.selectionTracker.setPageNumber(1),this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}filterUpdated(n){this.elementWithFocusBeforeLoading=document.activeElement,loadingDialog(),this.filters[n.index]=n.filter,this.studentSearchServices.setStudentSelectionByFilters(this.filters,this.selectionTracker.pageNumber,this.selectionTracker.rowsPerPage,null,this.remoteEnrollments,!0).subscribe(t=>{this.selectionTracker.setPageNumber(1),this.processData(t,!0),document.getElementById(`${this.mySearchType}SelectionTable`)&&(document.getElementById(`${this.mySearchType}SelectionTable`).scrollTop=0),closeLoading(),this.elementWithFocusBeforeLoading.focus()})}pagePrefUpdated(n){this.preferredPage=n}remoteEnrollmentsUpdated(n){this.remoteEnrollments=n}getCustomizedFilter(n){const t=this.studentFields[0];return{filterName:t.name,filterValue:n,op:"set",valueForDisplay:n,keysTranslated:t.keysTranslated,messageKey:t.messageKey}}}id.\u0275fac=function(n){return new(n||id)(e.Y36(Pn),e.Y36(Kt.h),e.Y36(or),e.Y36(Dn),e.Y36(yi),e.Y36(ir),e.Y36(e.R0b))},id.\u0275cmp=e.Xpm({type:id,selectors:[["pss-schedulerstudentsearch"]],viewQuery:function(n,t){if(1&n&&e.Gf(qg,5),2&n){let a;e.iGM(a=e.CRH())&&(t.searchBar=a.first)}},inputs:{gradPlanWorkflow:["include_grad_plan_workflow","gradPlanWorkflow"],legacyGradPlan:["legacy_grad_plan","legacyGradPlan"]},features:[e._Bn([Pn,Dn]),e.qOj],decls:5,vars:4,consts:[["class","feedback-alert",4,"ngIf"],[3,"availableSearchTypes","mySearchType","searchType","fields","quickSearchLinks","isDistrict","filters","selectionIds","includeRemoteEnrollments","advancedMode","isScheduler","schedulerequestyearid","scheduleFieldPreferences","preferredPage","updatedSelection","searchTypeChange","filterAdded","filterRemoved","addId","updatedFilter","updatedPagePref","clearFilters","updateAdvancedMode","updateRemoteEnrollments",4,"ngIf"],["class","box-round flexHeight current-selection",3,"ngClass",4,"ngIf"],["class","ui-widget-overlay ui-front",4,"ngIf"],[1,"feedback-alert"],[3,"availableSearchTypes","mySearchType","searchType","fields","quickSearchLinks","isDistrict","filters","selectionIds","includeRemoteEnrollments","advancedMode","isScheduler","schedulerequestyearid","scheduleFieldPreferences","preferredPage","updatedSelection","searchTypeChange","filterAdded","filterRemoved","addId","updatedFilter","updatedPagePref","clearFilters","updateAdvancedMode","updateRemoteEnrollments"],["studentSearchBar",""],[1,"box-round","flexHeight","current-selection",3,"ngClass"],["tabindex","0"],[4,"ngIf"],["class","feedback-info","tabindex","0","id","searchFeedbackStudent",4,"ngIf"],["class","gridWidget",3,"id",4,"ngIf"],[1,"button-row"],["type","button","id","selectByHandButtonStudent",3,"disabled","click",4,"ngIf"],["class","psMultiButton shim-ng",3,"ngClass",4,"ngIf"],["type","button","id","cancelButtonStudent",3,"click",4,"ngIf"],["type","button","id","updateSelectionButtonStudent",3,"disabled","click",4,"ngIf"],["class","feedback-alert","id","'selectErrorFeedbackStudent' + i",4,"ngFor","ngForOf"],["id","'selectErrorFeedbackStudent' + i",1,"feedback-alert"],["tabindex","0","id","searchFeedbackStudent",1,"feedback-info"],[1,"gridWidget",3,"id"],[1,"tableHead"],[3,"class","ngClass",4,"ngIf"],[1,"tableBody",3,"id"],[3,"ngClass"],[4,"ngFor","ngForOf"],[1,"gridWidgetPagination"],["class","left",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"left"],["type","checkbox","id","selectionAllStudent",3,"ngModel","ngModelChange","change"],[1,"center"],["type","checkbox",3,"ngModel","id","ngModelChange","change"],[3,"id","href",4,"ngIf"],[3,"id","href"],["href","#","id","FirstPageStudent",3,"ngClass","click"],["href","#","id","PreviousPageStudent",3,"ngClass","click"],["href","#","id","NextPageStudent",3,"ngClass","click"],["href","#","id","LastPageStudent",3,"ngClass","click"],["href","#",3,"id","click"],["type","button","id","selectByHandButtonStudent",3,"disabled","click"],[1,"psMultiButton","shim-ng",3,"ngClass"],["data-immediate-execute","true","type","button","id","selectedFunctionButtonStudent",1,"executeButton",3,"disabled","click"],["type","button","id","selectFunctionDropdownButtonStudent",1,"menuButton",3,"disabled"],["name","caret-down"],[1,"groupFunctions","selectable","multiButtonList"],[3,"id","click","keyup.enter",4,"ngIf"],[3,"id","click","keyup.enter"],["type","button","id","cancelButtonStudent",3,"click"],["type","button","id","updateSelectionButtonStudent",3,"disabled","click"],[1,"ui-widget-overlay","ui-front"]],template:function(n,t){1&n&&(e.YNc(0,rx,3,3,"div",0),e.TgZ(1,"div"),e.YNc(2,sx,2,14,"pss-searchbar",1),e.qZA(),e.YNc(3,Io,12,18,"div",2),e.YNc(4,yx,1,0,"div",3)),2&n&&(e.Q6J("ngIf",t.selectionHasChanged),e.xp6(2),e.Q6J("ngIf",t.isInitialized),e.xp6(1),e.Q6J("ngIf",t.isInitialized),e.xp6(1),e.Q6J("ngIf",t.editCurrentSelectionMode))},dependencies:[Qe.Wl,Qe.JJ,Qe.On,H.mk,H.sg,H.O5,Eo,Bt.X$],styles:["fieldset[_ngcontent-%COMP%]{margin:0 10px 10px;border:none;border-radius:unset}fieldset[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(even):not(.button-row){background-color:#eee;border-radius:4px}fieldset[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-of-type(odd):not(.button-row){background-color:#fff;border-radius:4px}fieldset[_ngcontent-%COMP%]   button.search[_ngcontent-%COMP%]{margin-top:1px}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:15%}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:15%}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:15%}table.students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table.students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%}table.students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%}table.students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:20%}table.students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:20%}table.students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}table.students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:50%}table.students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:25%}table.students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:25%}table.students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:60%}table.students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:20%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:40%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%}table.advanced_students_5[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6), table.advanced_students_5[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){width:10%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:40%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:20%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}table.advanced_students_4[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5), table.advanced_students_4[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:15%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:50%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:25%}table.advanced_students_3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), table.advanced_students_3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:5%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:60%}table.advanced_students_2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table.advanced_students_2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:35%}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]{border-bottom-left-radius:4px;border-bottom-right-radius:4px}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:.4em .6em}div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]   .ps-buttonset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px;vertical-align:unset}div.search-links.student-search-links[_ngcontent-%COMP%]{padding-bottom:5px}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 5px}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0}.psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}","div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:30vh}@media print{div.box-round.flexHeight[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:unset}}div.box-round.flexHeight.modal[_ngcontent-%COMP%]   div.tableBody[_ngcontent-%COMP%]{max-height:25vh}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;background-color:#eee;margin:0;padding:15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}div.box-round[_ngcontent-%COMP%]   div.button-row[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], div.box-round[_ngcontent-%COMP%]   .gridWidget[_ngcontent-%COMP%]   td.th[_ngcontent-%COMP%]{border:none}div.modalContainer[_ngcontent-%COMP%]{overflow:auto;max-height:65vh}div.modalContainer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:20px}.footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{justify-content:flex-end;-webkit-margin-end:10px;margin-inline-end:10px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]{display:flex;padding:0}.footer[_ngcontent-%COMP%]   .psMultiButton.concealed[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .executeButton[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-margin-end:0;margin-inline-end:0}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]{padding:0;border-radius:4px;z-index:6500;overflow-y:auto}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:10px 15px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]{padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.category[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none;margin:0;padding:0;-webkit-padding-start:10px;padding-inline-start:10px;font-size:100%;font-weight:700;font-style:normal}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]{background-color:#a3bfcc;margin:0;padding:10px 5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   ul.multiButtonList[_ngcontent-%COMP%]   li.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{border-bottom:none;padding:5px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]{box-sizing:border-box;width:32px;padding:0;-webkit-padding-start:2px;padding-inline-start:2px}.footer[_ngcontent-%COMP%]   .psMultiButton[_ngcontent-%COMP%]   .menuButton[_ngcontent-%COMP%]   pds-icon[_ngcontent-%COMP%]{fill:#fff;height:20px;width:20px;margin:4px}.single-button-footer[_ngcontent-%COMP%]{display:flex;position:relative;inset-inline-start:0;background:#eee;margin:auto 0;height:30px;align-items:center;padding:15px;justify-content:space-between;z-index:101}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex:1}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4em .6em}.single-button-footer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-margin-end:10px;margin-inline-end:10px}.single-button-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-sizing:border-box;height:32px;width:auto;margin:auto 5px;max-width:unset;max-height:unset}"]});class na{constructor(n){this.injector=n,this.customElements=[{selector:"pss-powersearch",class:Qr},{selector:"pss-schedulerstudentsearch",class:id}],this.customElements.forEach(t=>{const a=(0,Id.iD)(t.class,{injector:this.injector});customElements.define(t.selector,a)})}}na.\u0275fac=function(n){return new(n||na)(e.LFG(e.zs3))},na.\u0275mod=e.oAB({type:na}),na.\u0275inj=e.cJS({providers:[{provide:Bt.sK,useClass:Kt.h},I_.A],imports:[Qe.u5,H.ez,W.JF,Bt.aw,Lu.y]});class ia{constructor(n){this.injector=n,this.lazyModuleMap={QuickdataModule:()=>{k.e(244).then(k.bind(k,5244)).then(t=>new t.QuickdataModule(this.injector))},UserSettingsModule:()=>{k.e(638).then(k.bind(k,1638)).then(t=>new t.UserSettingsModule(this.injector))},CustomNavigationModule:()=>{k.e(357).then(k.bind(k,7357)).then(t=>new t.CustomNavigationModule(this.injector))}},this.customElements=[{selector:"pss-schoolpicker",class:qo},{selector:"pss-termpicker",class:Jo},{selector:"pss-student-type-ahead",class:Ha},{selector:"pss-staff-type-ahead",class:Ko},{selector:"pss-userprefswitch",class:ks},{selector:"pss-fullwidthbanner",class:cc},{selector:"pss-global-search",class:lc},{selector:"pss-favorites",class:ac},{selector:"pss-favorites-menu-container",class:Zr}]}ngDoBootstrap(){this.customElements.forEach(t=>{const a=(0,Id.iD)(t.class,{injector:this.injector});customElements.define(t.selector,a)});let n=document.body.getAttribute("data-ngModules");if(n){let t=n.split(",");t&&t.forEach(a=>{this.lazyModuleMap[a]()})}}}function Th(r){typeof angular<"u"&&typeof angularJSReady<"u"&&angularJSReady?(r.injector.get(Ba).bootstrap(document.body,angularJSModules,{strictDi:!1}),console.log("We now have a hybrid")):setTimeout(Th,50,r)}ia.\u0275fac=function(n){return new(n||ia)(e.LFG(e.zs3))},ia.\u0275mod=e.oAB({type:ia}),ia.\u0275inj=e.cJS({providers:[{provide:Bt.sK,useClass:Kt.h},{provide:Go,useClass:to},I_.A],imports:[D.b2,Ba,Qe.u5,H.ez,W.JF,Bt.aw.forRoot(),Lu.y,na,P,Zx]}),e.B6R(Ps,function(){return[H.sg,H.O5,nr,tp,ka,ps,us,ip,Ed,er,Ii,Ln,Zs]},function(){return[Bt.X$]}),(0,e.G48)(),D.q6().bootstrapModule(ia).then(r=>{typeof angularJSModules<"u"&&angularJSModules.length>0&&Th(r)}).catch(r=>console.error(r))},591:(qe,_e,k)=>{k.d(_e,{X:()=>e});var C=k(8929),D=k(5279);class e extends C.xQ{constructor(W){super(),this._value=W}get value(){return this.getValue()}_subscribe(W){const Q=super._subscribe(W);return Q&&!Q.closed&&W.next(this._value),Q}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new D.N;return this._value}next(W){super.next(this._value=W)}}},2916:(qe,_e,k)=>{k.d(_e,{y:()=>te});var C=k(3489),e=k(7668),H=k(3292),Q=k(3821),ee=k(5379);var L=k(2830);let te=(()=>{class ye{constructor(Pe){this._isScalar=!1,Pe&&(this._subscribe=Pe)}lift(Pe){const fe=new ye;return fe.source=this,fe.operator=Pe,fe}subscribe(Pe,fe,je){const{operator:we}=this,Ae=function W(ye,De,Pe){if(ye){if(ye instanceof C.L)return ye;if(ye[e.b])return ye[e.b]()}return ye||De||Pe?new C.L(ye,De,Pe):new C.L(H.c)}(Pe,fe,je);if(Ae.add(we?we.call(Ae,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),L.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(fe){L.v.useDeprecatedSynchronousErrorHandling&&(Pe.syncErrorThrown=!0,Pe.syncErrorValue=fe),function D(ye){for(;ye;){const{closed:De,destination:Pe,isStopped:fe}=ye;if(De||fe)return!1;ye=Pe&&Pe instanceof C.L?Pe:null}return!0}(Pe)?Pe.error(fe):console.warn(fe)}}forEach(Pe,fe){return new(fe=re(fe))((je,we)=>{let Ae;Ae=this.subscribe(Ze=>{try{Pe(Ze)}catch(bt){we(bt),Ae&&Ae.unsubscribe()}},we,je)})}_subscribe(Pe){const{source:fe}=this;return fe&&fe.subscribe(Pe)}[Q.L](){return this}pipe(...Pe){return 0===Pe.length?this:function K(ye){return 0===ye.length?ee.y:1===ye.length?ye[0]:function(Pe){return ye.reduce((fe,je)=>je(fe),Pe)}}(Pe)(this)}toPromise(Pe){return new(Pe=re(Pe))((fe,je)=>{let we;this.subscribe(Ae=>we=Ae,Ae=>je(Ae),()=>fe(we))})}}return ye.create=De=>new ye(De),ye})();function re(ye){if(ye||(ye=L.v.Promise||Promise),!ye)throw new Error("no Promise impl found");return ye}},3292:(qe,_e,k)=>{k.d(_e,{c:()=>e});var C=k(2830),D=k(2782);const e={closed:!0,next(H){},error(H){if(C.v.useDeprecatedSynchronousErrorHandling)throw H;(0,D.z)(H)},complete(){}}},6978:(qe,_e,k)=>{k.d(_e,{t:()=>Tt});var C=k(8929),D=k(6686),H=k(2268);const ee=new class W extends H.v{}(class e extends D.o{constructor(q,J){super(q,J),this.scheduler=q,this.work=J}schedule(q,J=0){return J>0?super.schedule(q,J):(this.delay=J,this.state=q,this.scheduler.flush(this),this)}execute(q,J){return J>0||this.closed?super.execute(q,J):this._execute(q,J)}requestAsyncId(q,J,pe=0){return null!==pe&&pe>0||null===pe&&this.delay>0?super.requestAsyncId(q,J,pe):q.flush(this)}});var Y=k(2654),K=k(3489),L=k(8896),te=k(1086),re=k(2916);function De({error:ve,subscriber:q}){q.error(ve)}class fe{constructor(q,J,pe){this.kind=q,this.value=J,this.error=pe,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,J,pe){switch(this.kind){case"N":return q&&q(this.value);case"E":return J&&J(this.error);case"C":return pe&&pe()}}accept(q,J,pe){return q&&"function"==typeof q.next?this.observe(q):this.do(q,J,pe)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return function ye(ve,q){return new re.y(q?J=>q.schedule(De,0,{error:ve,subscriber:J}):J=>J.error(ve))}(this.error);case"C":return(0,L.c)()}throw new Error("unexpected notification kind value")}static createNext(q){return typeof q<"u"?new fe("N",q):fe.undefinedValueNotification}static createError(q){return new fe("E",void 0,q)}static createComplete(){return fe.completeNotification}}fe.completeNotification=new fe("C"),fe.undefinedValueNotification=new fe("N",void 0);class Ae extends K.L{constructor(q,J,pe=0){super(q),this.scheduler=J,this.delay=pe}static dispatch(q){const{notification:J,destination:pe}=q;J.observe(pe),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(Ae.dispatch,this.delay,new Ze(q,this.destination)))}_next(q){this.scheduleMessage(fe.createNext(q))}_error(q){this.scheduleMessage(fe.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(fe.createComplete()),this.unsubscribe()}}class Ze{constructor(q,J){this.notification=q,this.destination=J}}var bt=k(5279),Nt=k(5283);class Tt extends C.xQ{constructor(q=Number.POSITIVE_INFINITY,J=Number.POSITIVE_INFINITY,pe){super(),this.scheduler=pe,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=q<1?1:q,this._windowTime=J<1?1:J,J===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(q){if(!this.isStopped){const J=this._events;J.push(q),J.length>this._bufferSize&&J.shift()}super.next(q)}nextTimeWindow(q){this.isStopped||(this._events.push(new xe(this._getNow(),q)),this._trimBufferThenGetEvents()),super.next(q)}_subscribe(q){const J=this._infiniteTimeWindow,pe=J?this._events:this._trimBufferThenGetEvents(),ie=this.scheduler,Ne=pe.length;let ne;if(this.closed)throw new bt.N;if(this.isStopped||this.hasError?ne=Y.w.EMPTY:(this.observers.push(q),ne=new Nt.W(this,q)),ie&&q.add(q=new Ae(q,ie)),J)for(let Ve=0;Ve<Ne&&!q.closed;Ve++)q.next(pe[Ve]);else for(let Ve=0;Ve<Ne&&!q.closed;Ve++)q.next(pe[Ve].value);return this.hasError?q.error(this.thrownError):this.isStopped&&q.complete(),ne}_getNow(){return(this.scheduler||ee).now()}_trimBufferThenGetEvents(){const q=this._getNow(),J=this._bufferSize,pe=this._windowTime,ie=this._events,Ne=ie.length;let ne=0;for(;ne<Ne&&!(q-ie[ne].time<pe);)ne++;return Ne>J&&(ne=Math.max(ne,Ne-J)),ne>0&&ie.splice(0,ne),ie}}class xe{constructor(q,J){this.time=q,this.value=J}}},8929:(qe,_e,k)=>{k.d(_e,{Yc:()=>ee,xQ:()=>Y});var C=k(2916),D=k(3489),e=k(2654),H=k(5279),W=k(5283),Q=k(7668);class ee extends D.L{constructor(te){super(te),this.destination=te}}let Y=(()=>{class L extends C.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new ee(this)}lift(re){const ye=new K(this,this);return ye.operator=re,ye}next(re){if(this.closed)throw new H.N;if(!this.isStopped){const{observers:ye}=this,De=ye.length,Pe=ye.slice();for(let fe=0;fe<De;fe++)Pe[fe].next(re)}}error(re){if(this.closed)throw new H.N;this.hasError=!0,this.thrownError=re,this.isStopped=!0;const{observers:ye}=this,De=ye.length,Pe=ye.slice();for(let fe=0;fe<De;fe++)Pe[fe].error(re);this.observers.length=0}complete(){if(this.closed)throw new H.N;this.isStopped=!0;const{observers:re}=this,ye=re.length,De=re.slice();for(let Pe=0;Pe<ye;Pe++)De[Pe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(re){if(this.closed)throw new H.N;return super._trySubscribe(re)}_subscribe(re){if(this.closed)throw new H.N;return this.hasError?(re.error(this.thrownError),e.w.EMPTY):this.isStopped?(re.complete(),e.w.EMPTY):(this.observers.push(re),new W.W(this,re))}asObservable(){const re=new C.y;return re.source=this,re}}return L.create=(te,re)=>new K(te,re),L})();class K extends Y{constructor(te,re){super(),this.destination=te,this.source=re}next(te){const{destination:re}=this;re&&re.next&&re.next(te)}error(te){const{destination:re}=this;re&&re.error&&this.destination.error(te)}complete(){const{destination:te}=this;te&&te.complete&&this.destination.complete()}_subscribe(te){const{source:re}=this;return re?this.source.subscribe(te):e.w.EMPTY}}},5283:(qe,_e,k)=>{k.d(_e,{W:()=>D});var C=k(2654);class D extends C.w{constructor(H,W){super(),this.subject=H,this.subscriber=W,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const H=this.subject,W=H.observers;if(this.subject=null,!W||0===W.length||H.isStopped||H.closed)return;const Q=W.indexOf(this.subscriber);-1!==Q&&W.splice(Q,1)}}},3489:(qe,_e,k)=>{k.d(_e,{L:()=>ee});var C=k(7043),D=k(3292),e=k(2654),H=k(7668),W=k(2830),Q=k(2782);class ee extends e.w{constructor(L,te,re){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=D.c;break;case 1:if(!L){this.destination=D.c;break}if("object"==typeof L){L instanceof ee?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new Y(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new Y(this,L,te,re)}}[H.b](){return this}static create(L,te,re){const ye=new ee(L,te,re);return ye.syncErrorThrowable=!1,ye}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class Y extends ee{constructor(L,te,re,ye){super(),this._parentSubscriber=L;let De,Pe=this;(0,C.m)(te)?De=te:te&&(De=te.next,re=te.error,ye=te.complete,te!==D.c&&(Pe=Object.create(te),(0,C.m)(Pe.unsubscribe)&&this.add(Pe.unsubscribe.bind(Pe)),Pe.unsubscribe=this.unsubscribe.bind(this))),this._context=Pe,this._next=De,this._error=re,this._complete=ye}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:te}=this;W.v.useDeprecatedSynchronousErrorHandling&&te.syncErrorThrowable?this.__tryOrSetError(te,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:te}=this,{useDeprecatedSynchronousErrorHandling:re}=W.v;if(this._error)re&&te.syncErrorThrowable?(this.__tryOrSetError(te,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(te.syncErrorThrowable)re?(te.syncErrorValue=L,te.syncErrorThrown=!0):(0,Q.z)(L),this.unsubscribe();else{if(this.unsubscribe(),re)throw L;(0,Q.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const te=()=>this._complete.call(this._context);W.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,te),this.unsubscribe()):(this.__tryOrUnsub(te),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,te){try{L.call(this._context,te)}catch(re){if(this.unsubscribe(),W.v.useDeprecatedSynchronousErrorHandling)throw re;(0,Q.z)(re)}}__tryOrSetError(L,te,re){if(!W.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{te.call(this._context,re)}catch(ye){return W.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=ye,L.syncErrorThrown=!0,!0):((0,Q.z)(ye),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},2654:(qe,_e,k)=>{k.d(_e,{w:()=>Q});var C=k(6688),D=k(7830),e=k(7043);const W=(()=>{function Y(K){return Error.call(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((L,te)=>`${te+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K,this}return Y.prototype=Object.create(Error.prototype),Y})();class Q{constructor(K){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,K&&(this._ctorUnsubscribe=!0,this._unsubscribe=K)}unsubscribe(){let K;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:te,_unsubscribe:re,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof Q)L.remove(this);else if(null!==L)for(let De=0;De<L.length;++De)L[De].remove(this);if((0,e.m)(re)){te&&(this._unsubscribe=void 0);try{re.call(this)}catch(De){K=De instanceof W?ee(De.errors):[De]}}if((0,C.k)(ye)){let De=-1,Pe=ye.length;for(;++De<Pe;){const fe=ye[De];if((0,D.K)(fe))try{fe.unsubscribe()}catch(je){K=K||[],je instanceof W?K=K.concat(ee(je.errors)):K.push(je)}}}if(K)throw new W(K)}add(K){let L=K;if(!K)return Q.EMPTY;switch(typeof K){case"function":L=new Q(K);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof Q)){const ye=L;L=new Q,L._subscriptions=[ye]}break;default:throw new Error("unrecognized teardown "+K+" added to Subscription.")}let{_parentOrParents:te}=L;if(null===te)L._parentOrParents=this;else if(te instanceof Q){if(te===this)return L;L._parentOrParents=[te,this]}else{if(-1!==te.indexOf(this))return L;te.push(this)}const re=this._subscriptions;return null===re?this._subscriptions=[L]:re.push(L),L}remove(K){const L=this._subscriptions;if(L){const te=L.indexOf(K);-1!==te&&L.splice(te,1)}}}var Y;function ee(Y){return Y.reduce((K,L)=>K.concat(L instanceof W?L.errors:L),[])}Q.EMPTY=((Y=new Q).closed=!0,Y)},2830:(qe,_e,k)=>{k.d(_e,{v:()=>D});let C=!1;const D={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const H=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+H.stack)}else C&&console.log("RxJS: Back to a better error behavior. Thank you. <3");C=e},get useDeprecatedSynchronousErrorHandling(){return C}}},1177:(qe,_e,k)=>{k.d(_e,{Ds:()=>Q,IY:()=>H,ft:()=>Y});var C=k(3489),D=k(2916),e=k(9249);class H extends C.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Q extends C.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function Y(K,L){if(L.closed)return;if(K instanceof D.y)return K.subscribe(L);let te;try{te=(0,e.s)(K)(L)}catch(re){L.error(re)}return te}},1221:(qe,_e,k)=>{k.d(_e,{z:()=>H});var C=k(1086),D=k(9146);function H(...W){return function e(){return(0,D.J)(1)}()((0,C.of)(...W))}},8896:(qe,_e,k)=>{k.d(_e,{c:()=>e});var C=k(2916);const D=new C.y(W=>W.complete());function e(W){return W?function H(W){return new C.y(Q=>W.schedule(()=>Q.complete()))}(W):D}},567:(qe,_e,k)=>{k.d(_e,{D:()=>Q});var C=k(2916),D=k(6688),e=k(4850),H=k(7830),W=k(5254);function Q(...Y){if(1===Y.length){const K=Y[0];if((0,D.k)(K))return ee(K,null);if((0,H.K)(K)&&Object.getPrototypeOf(K)===Object.prototype){const L=Object.keys(K);return ee(L.map(te=>K[te]),L)}}if("function"==typeof Y[Y.length-1]){const K=Y.pop();return ee(Y=1===Y.length&&(0,D.k)(Y[0])?Y[0]:Y,null).pipe((0,e.U)(L=>K(...L)))}return ee(Y,null)}function ee(Y,K){return new C.y(L=>{const te=Y.length;if(0===te)return void L.complete();const re=new Array(te);let ye=0,De=0;for(let Pe=0;Pe<te;Pe++){const fe=(0,W.D)(Y[Pe]);let je=!1;L.add(fe.subscribe({next:we=>{je||(je=!0,De++),re[Pe]=we},error:we=>L.error(we),complete:()=>{ye++,(ye===te||!je)&&(De===te&&L.next(K?K.reduce((we,Ae,Ze)=>(we[Ae]=re[Ze],we),{}):re),L.complete())}}))}})}},5254:(qe,_e,k)=>{k.d(_e,{D:()=>Pe});var C=k(2916),D=k(9249),e=k(2654),H=k(3821),ee=k(6454),Y=k(5430),te=k(8955),re=k(8515);function Pe(fe,je){return je?function De(fe,je){if(null!=fe){if(function L(fe){return fe&&"function"==typeof fe[H.L]}(fe))return function W(fe,je){return new C.y(we=>{const Ae=new e.w;return Ae.add(je.schedule(()=>{const Ze=fe[H.L]();Ae.add(Ze.subscribe({next(bt){Ae.add(je.schedule(()=>we.next(bt)))},error(bt){Ae.add(je.schedule(()=>we.error(bt)))},complete(){Ae.add(je.schedule(()=>we.complete()))}}))})),Ae})}(fe,je);if((0,te.t)(fe))return function Q(fe,je){return new C.y(we=>{const Ae=new e.w;return Ae.add(je.schedule(()=>fe.then(Ze=>{Ae.add(je.schedule(()=>{we.next(Ze),Ae.add(je.schedule(()=>we.complete()))}))},Ze=>{Ae.add(je.schedule(()=>we.error(Ze)))}))),Ae})}(fe,je);if((0,re.z)(fe))return(0,ee.r)(fe,je);if(function ye(fe){return fe&&"function"==typeof fe[Y.hZ]}(fe)||"string"==typeof fe)return function K(fe,je){if(!fe)throw new Error("Iterable cannot be null");return new C.y(we=>{const Ae=new e.w;let Ze;return Ae.add(()=>{Ze&&"function"==typeof Ze.return&&Ze.return()}),Ae.add(je.schedule(()=>{Ze=fe[Y.hZ](),Ae.add(je.schedule(function(){if(we.closed)return;let bt,Nt;try{const Tt=Ze.next();bt=Tt.value,Nt=Tt.done}catch(Tt){return void we.error(Tt)}Nt?we.complete():(we.next(bt),this.schedule())}))})),Ae})}(fe,je)}throw new TypeError((null!==fe&&typeof fe||fe)+" is not observable")}(fe,je):fe instanceof C.y?fe:new C.y((0,D.s)(fe))}},3009:(qe,_e,k)=>{k.d(_e,{n:()=>H});var C=k(2916),D=k(3650),e=k(6454);function H(W,Q){return Q?(0,e.r)(W,Q):new C.y((0,D.V)(W))}},6787:(qe,_e,k)=>{k.d(_e,{T:()=>W});var C=k(2916),D=k(2866),e=k(9146),H=k(3009);function W(...Q){let ee=Number.POSITIVE_INFINITY,Y=null,K=Q[Q.length-1];return(0,D.K)(K)?(Y=Q.pop(),Q.length>1&&"number"==typeof Q[Q.length-1]&&(ee=Q.pop())):"number"==typeof K&&(ee=Q.pop()),null===Y&&1===Q.length&&Q[0]instanceof C.y?Q[0]:(0,e.J)(ee)((0,H.n)(Q,Y))}},1086:(qe,_e,k)=>{k.d(_e,{of:()=>H});var C=k(2866),D=k(3009),e=k(6454);function H(...W){let Q=W[W.length-1];return(0,C.K)(Q)?(W.pop(),(0,e.r)(W,Q)):(0,D.n)(W)}},7221:(qe,_e,k)=>{k.d(_e,{K:()=>D});var C=k(1177);function D(W){return function(ee){const Y=new e(W),K=ee.lift(Y);return Y.caught=K}}class e{constructor(Q){this.selector=Q}call(Q,ee){return ee.subscribe(new H(Q,this.selector,this.caught))}}class H extends C.Ds{constructor(Q,ee,Y){super(Q),this.selector=ee,this.caught=Y}error(Q){if(!this.isStopped){let ee;try{ee=this.selector(Q,this.caught)}catch(L){return void super.error(L)}this._unsubscribeAndRecycle();const Y=new C.IY(this);this.add(Y);const K=(0,C.ft)(ee,Y);K!==Y&&this.add(K)}}}},1406:(qe,_e,k)=>{k.d(_e,{b:()=>D});var C=k(1709);function D(e,H){return(0,C.zg)(e,H,1)}},2198:(qe,_e,k)=>{k.d(_e,{h:()=>D});var C=k(3489);function D(W,Q){return function(Y){return Y.lift(new e(W,Q))}}class e{constructor(Q,ee){this.predicate=Q,this.thisArg=ee}call(Q,ee){return ee.subscribe(new H(Q,this.predicate,this.thisArg))}}class H extends C.L{constructor(Q,ee,Y){super(Q),this.predicate=ee,this.thisArg=Y,this.count=0}_next(Q){let ee;try{ee=this.predicate.call(this.thisArg,Q,this.count++)}catch(Y){return void this.destination.error(Y)}ee&&this.destination.next(Q)}}},4850:(qe,_e,k)=>{k.d(_e,{U:()=>D});var C=k(3489);function D(W,Q){return function(Y){if("function"!=typeof W)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Y.lift(new e(W,Q))}}class e{constructor(Q,ee){this.project=Q,this.thisArg=ee}call(Q,ee){return ee.subscribe(new H(Q,this.project,this.thisArg))}}class H extends C.L{constructor(Q,ee,Y){super(Q),this.project=ee,this.count=0,this.thisArg=Y||this}_next(Q){let ee;try{ee=this.project.call(this.thisArg,Q,this.count++)}catch(Y){return void this.destination.error(Y)}this.destination.next(ee)}}},9146:(qe,_e,k)=>{k.d(_e,{J:()=>e});var C=k(1709),D=k(5379);function e(H=Number.POSITIVE_INFINITY){return(0,C.zg)(D.y,H)}},1709:(qe,_e,k)=>{k.d(_e,{zg:()=>H});var C=k(4850),D=k(5254),e=k(1177);function H(Y,K,L=Number.POSITIVE_INFINITY){return"function"==typeof K?te=>te.pipe(H((re,ye)=>(0,D.D)(Y(re,ye)).pipe((0,C.U)((De,Pe)=>K(re,De,ye,Pe))),L)):("number"==typeof K&&(L=K),te=>te.lift(new W(Y,L)))}class W{constructor(K,L=Number.POSITIVE_INFINITY){this.project=K,this.concurrent=L}call(K,L){return L.subscribe(new Q(K,this.project,this.concurrent))}}class Q extends e.Ds{constructor(K,L,te=Number.POSITIVE_INFINITY){super(K),this.project=L,this.concurrent=te,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(K){this.active<this.concurrent?this._tryNext(K):this.buffer.push(K)}_tryNext(K){let L;const te=this.index++;try{L=this.project(K,te)}catch(re){return void this.destination.error(re)}this.active++,this._innerSub(L)}_innerSub(K){const L=new e.IY(this),te=this.destination;te.add(L);const re=(0,e.ft)(K,L);re!==L&&te.add(re)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(K){this.destination.next(K)}notifyComplete(){const K=this.buffer;this.active--,K.length>0?this._next(K.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7545:(qe,_e,k)=>{k.d(_e,{w:()=>H});var C=k(4850),D=k(5254),e=k(1177);function H(ee,Y){return"function"==typeof Y?K=>K.pipe(H((L,te)=>(0,D.D)(ee(L,te)).pipe((0,C.U)((re,ye)=>Y(L,re,te,ye))))):K=>K.lift(new W(ee))}class W{constructor(Y){this.project=Y}call(Y,K){return K.subscribe(new Q(Y,this.project))}}class Q extends e.Ds{constructor(Y,K){super(Y),this.project=K,this.index=0}_next(Y){let K;const L=this.index++;try{K=this.project(Y,L)}catch(te){return void this.destination.error(te)}this._innerSub(K)}_innerSub(Y){const K=this.innerSubscription;K&&K.unsubscribe();const L=new e.IY(this),te=this.destination;te.add(L),this.innerSubscription=(0,e.ft)(Y,L),this.innerSubscription!==L&&te.add(this.innerSubscription)}_complete(){const{innerSubscription:Y}=this;(!Y||Y.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Y){this.destination.next(Y)}}},2986:(qe,_e,k)=>{k.d(_e,{q:()=>H});var C=k(3489),D=k(4231),e=k(8896);function H(ee){return Y=>0===ee?(0,e.c)():Y.lift(new W(ee))}class W{constructor(Y){if(this.total=Y,this.total<0)throw new D.W}call(Y,K){return K.subscribe(new Q(Y,this.total))}}class Q extends C.L{constructor(Y,K){super(Y),this.total=K,this.count=0}_next(Y){const K=this.total,L=++this.count;L<=K&&(this.destination.next(Y),L===K&&(this.destination.complete(),this.unsubscribe()))}}},2868:(qe,_e,k)=>{k.d(_e,{b:()=>H});var C=k(3489);function D(){}var e=k(7043);function H(ee,Y,K){return function(te){return te.lift(new W(ee,Y,K))}}class W{constructor(Y,K,L){this.nextOrObserver=Y,this.error=K,this.complete=L}call(Y,K){return K.subscribe(new Q(Y,this.nextOrObserver,this.error,this.complete))}}class Q extends C.L{constructor(Y,K,L,te){super(Y),this._tapNext=D,this._tapError=D,this._tapComplete=D,this._tapError=L||D,this._tapComplete=te||D,(0,e.m)(K)?(this._context=this,this._tapNext=K):K&&(this._context=K,this._tapNext=K.next||D,this._tapError=K.error||D,this._tapComplete=K.complete||D)}_next(Y){try{this._tapNext.call(this._context,Y)}catch(K){return void this.destination.error(K)}this.destination.next(Y)}_error(Y){try{this._tapError.call(this._context,Y)}catch(K){return void this.destination.error(K)}this.destination.error(Y)}_complete(){try{this._tapComplete.call(this._context)}catch(Y){return void this.destination.error(Y)}return this.destination.complete()}}},6454:(qe,_e,k)=>{k.d(_e,{r:()=>e});var C=k(2916),D=k(2654);function e(H,W){return new C.y(Q=>{const ee=new D.w;let Y=0;return ee.add(W.schedule(function(){Y!==H.length?(Q.next(H[Y++]),Q.closed||ee.add(this.schedule())):Q.complete()})),ee})}},6686:(qe,_e,k)=>{k.d(_e,{o:()=>e});var C=k(2654);class D extends C.w{constructor(W,Q){super()}schedule(W,Q=0){return this}}class e extends D{constructor(W,Q){super(W,Q),this.scheduler=W,this.work=Q,this.pending=!1}schedule(W,Q=0){if(this.closed)return this;this.state=W;const ee=this.id,Y=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(Y,ee,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(Y,this.id,Q),this}requestAsyncId(W,Q,ee=0){return setInterval(W.flush.bind(W,this),ee)}recycleAsyncId(W,Q,ee=0){if(null!==ee&&this.delay===ee&&!1===this.pending)return Q;clearInterval(Q)}execute(W,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(W,Q);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,Q){let Y,ee=!1;try{this.work(W)}catch(K){ee=!0,Y=!!K&&K||new Error(K)}if(ee)return this.unsubscribe(),Y}_unsubscribe(){const W=this.id,Q=this.scheduler,ee=Q.actions,Y=ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Y&&ee.splice(Y,1),null!=W&&(this.id=this.recycleAsyncId(Q,W,null)),this.delay=null}}},2268:(qe,_e,k)=>{k.d(_e,{v:()=>D});let C=(()=>{class e{constructor(W,Q=e.now){this.SchedulerAction=W,this.now=Q}schedule(W,Q=0,ee){return new this.SchedulerAction(this,W).schedule(ee,Q)}}return e.now=()=>Date.now(),e})();class D extends C{constructor(H,W=C.now){super(H,()=>D.delegate&&D.delegate!==this?D.delegate.now():W()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(H,W=0,Q){return D.delegate&&D.delegate!==this?D.delegate.schedule(H,W,Q):super.schedule(H,W,Q)}flush(H){const{actions:W}=this;if(this.active)return void W.push(H);let Q;this.active=!0;do{if(Q=H.execute(H.state,H.delay))break}while(H=W.shift());if(this.active=!1,Q){for(;H=W.shift();)H.unsubscribe();throw Q}}}},5430:(qe,_e,k)=>{k.d(_e,{hZ:()=>D});const D=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(qe,_e,k)=>{k.d(_e,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(qe,_e,k)=>{k.d(_e,{b:()=>C});const C="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(qe,_e,k)=>{k.d(_e,{W:()=>D});const D=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},5279:(qe,_e,k)=>{k.d(_e,{N:()=>D});const D=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},2782:(qe,_e,k)=>{function C(D){setTimeout(()=>{throw D},0)}k.d(_e,{z:()=>C})},5379:(qe,_e,k)=>{function C(D){return D}k.d(_e,{y:()=>C})},6688:(qe,_e,k)=>{k.d(_e,{k:()=>C});const C=Array.isArray||(D=>D&&"number"==typeof D.length)},8515:(qe,_e,k)=>{k.d(_e,{z:()=>C});const C=D=>D&&"number"==typeof D.length&&"function"!=typeof D},7043:(qe,_e,k)=>{function C(D){return"function"==typeof D}k.d(_e,{m:()=>C})},7830:(qe,_e,k)=>{function C(D){return null!==D&&"object"==typeof D}k.d(_e,{K:()=>C})},8955:(qe,_e,k)=>{function C(D){return!!D&&"function"!=typeof D.subscribe&&"function"==typeof D.then}k.d(_e,{t:()=>C})},2866:(qe,_e,k)=>{function C(D){return D&&"function"==typeof D.schedule}k.d(_e,{K:()=>C})},9249:(qe,_e,k)=>{k.d(_e,{s:()=>te});var C=k(3650),D=k(2782),H=k(5430),Q=k(3821),Y=k(8515),K=k(8955),L=k(7830);const te=re=>{if(re&&"function"==typeof re[Q.L])return(re=>ye=>{const De=re[Q.L]();if("function"!=typeof De.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return De.subscribe(ye)})(re);if((0,Y.z)(re))return(0,C.V)(re);if((0,K.t)(re))return(re=>ye=>(re.then(De=>{ye.closed||(ye.next(De),ye.complete())},De=>ye.error(De)).then(null,D.z),ye))(re);if(re&&"function"==typeof re[H.hZ])return(re=>ye=>{const De=re[H.hZ]();for(;;){let Pe;try{Pe=De.next()}catch(fe){return ye.error(fe),ye}if(Pe.done){ye.complete();break}if(ye.next(Pe.value),ye.closed)break}return"function"==typeof De.return&&ye.add(()=>{De.return&&De.return()}),ye})(re);{const De=`You provided ${(0,L.K)(re)?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(De)}}},3650:(qe,_e,k)=>{k.d(_e,{V:()=>C});const C=D=>e=>{for(let H=0,W=D.length;H<W&&!e.closed;H++)e.next(D[H]);e.complete()}},6895:(qe,_e,k)=>{k.d(_e,{HT:()=>H,JF:()=>pa,K0:()=>Q,Mx:()=>ra,NF:()=>da,Nd:()=>gi,O5:()=>tn,PC:()=>nn,bD:()=>ci,ez:()=>ca,mk:()=>Cr,q:()=>e,sg:()=>Bi,uU:()=>Ft,w_:()=>W});var C=k(3071);let D=null;function e(){return D}function H(m){D||(D=m)}class W{}const Q=new C.OlP("DocumentToken");var pe=(()=>((pe=pe||{})[pe.Format=0]="Format",pe[pe.Standalone=1]="Standalone",pe))(),ie=(()=>((ie=ie||{})[ie.Narrow=0]="Narrow",ie[ie.Abbreviated=1]="Abbreviated",ie[ie.Wide=2]="Wide",ie[ie.Short=3]="Short",ie))(),Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.Medium=1]="Medium",Ne[Ne.Long=2]="Long",Ne[Ne.Full=3]="Full",Ne))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function B(m,M){return Xt((0,C.cg1)(m)[C.wAp.DateFormat],M)}function ce(m,M){return Xt((0,C.cg1)(m)[C.wAp.TimeFormat],M)}function Oe(m,M){return Xt((0,C.cg1)(m)[C.wAp.DateTimeFormat],M)}function Fe(m,M){const b=(0,C.cg1)(m),P=b[C.wAp.NumberSymbols][M];if(typeof P>"u"){if(M===ne.CurrencyDecimal)return b[C.wAp.NumberSymbols][ne.Decimal];if(M===ne.CurrencyGroup)return b[C.wAp.NumberSymbols][ne.Group]}return P}function ft(m){if(!m[C.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${m[C.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xt(m,M){for(let b=M;b>-1;b--)if(typeof m[b]<"u")return m[b];throw new Error("Locale data API: locale data undefined")}function Lt(m){const[M,b]=m.split(":");return{hours:+M,minutes:+b}}const co=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Kn={},_r=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.ShortGMT=1]="ShortGMT",Zt[Zt.Long=2]="Long",Zt[Zt.Extended=3]="Extended",Zt))(),Ye=(()=>((Ye=Ye||{})[Ye.FullYear=0]="FullYear",Ye[Ye.Month=1]="Month",Ye[Ye.Date=2]="Date",Ye[Ye.Hours=3]="Hours",Ye[Ye.Minutes=4]="Minutes",Ye[Ye.Seconds=5]="Seconds",Ye[Ye.FractionalSeconds=6]="FractionalSeconds",Ye[Ye.Day=7]="Day",Ye))(),Re=(()=>((Re=Re||{})[Re.DayPeriods=0]="DayPeriods",Re[Re.Days=1]="Days",Re[Re.Months=2]="Months",Re[Re.Eras=3]="Eras",Re))();function Bn(m,M,b,P){let N=function Qt(m){if(vn(m))return m;if("number"==typeof m&&!isNaN(m))return new Date(m);if("string"==typeof m){if(m=m.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(m)){const[N,oe=1,ae=1]=m.split("-").map(Be=>+Be);return Cn(N,oe-1,ae)}const b=parseFloat(m);if(!isNaN(m-b))return new Date(b);let P;if(P=m.match(co))return function It(m){const M=new Date(0);let b=0,P=0;const N=m[8]?M.setUTCFullYear:M.setFullYear,oe=m[8]?M.setUTCHours:M.setHours;m[9]&&(b=Number(m[9]+m[10]),P=Number(m[9]+m[11])),N.call(M,Number(m[1]),Number(m[2])-1,Number(m[3]));const ae=Number(m[4]||0)-b,Be=Number(m[5]||0)-P,yt=Number(m[6]||0),wt=Math.floor(1e3*parseFloat("0."+(m[7]||0)));return oe.call(M,ae,Be,yt,wt),M}(P)}const M=new Date(m);if(!vn(M))throw new Error(`Unable to convert "${m}" into a date`);return M}(m);M=Jn(b,M)||M;let Be,ae=[];for(;M;){if(Be=_r.exec(M),!Be){ae.push(M);break}{ae=ae.concat(Be.slice(1));const Pt=ae.pop();if(!Pt)break;M=Pt}}let yt=N.getTimezoneOffset();P&&(yt=gt(P,yt),N=function it(m,M,b){const P=b?-1:1,N=m.getTimezoneOffset();return function Et(m,M){return(m=new Date(m.getTime())).setMinutes(m.getMinutes()+M),m}(m,P*(gt(M,N)-N))}(N,P,!0));let wt="";return ae.forEach(Pt=>{const ht=function Xe(m){if(me[m])return me[m];let M;switch(m){case"G":case"GG":case"GGG":M=xt(Re.Eras,ie.Abbreviated);break;case"GGGG":M=xt(Re.Eras,ie.Wide);break;case"GGGGG":M=xt(Re.Eras,ie.Narrow);break;case"y":M=pt(Ye.FullYear,1,0,!1,!0);break;case"yy":M=pt(Ye.FullYear,2,0,!0,!0);break;case"yyy":M=pt(Ye.FullYear,3,0,!1,!0);break;case"yyyy":M=pt(Ye.FullYear,4,0,!1,!0);break;case"Y":M=Se(1);break;case"YY":M=Se(2,!0);break;case"YYY":M=Se(3);break;case"YYYY":M=Se(4);break;case"M":case"L":M=pt(Ye.Month,1,1);break;case"MM":case"LL":M=pt(Ye.Month,2,1);break;case"MMM":M=xt(Re.Months,ie.Abbreviated);break;case"MMMM":M=xt(Re.Months,ie.Wide);break;case"MMMMM":M=xt(Re.Months,ie.Narrow);break;case"LLL":M=xt(Re.Months,ie.Abbreviated,pe.Standalone);break;case"LLLL":M=xt(Re.Months,ie.Wide,pe.Standalone);break;case"LLLLL":M=xt(Re.Months,ie.Narrow,pe.Standalone);break;case"w":M=$(1);break;case"ww":M=$(2);break;case"W":M=$(1,!0);break;case"d":M=pt(Ye.Date,1);break;case"dd":M=pt(Ye.Date,2);break;case"c":case"cc":M=pt(Ye.Day,1);break;case"ccc":M=xt(Re.Days,ie.Abbreviated,pe.Standalone);break;case"cccc":M=xt(Re.Days,ie.Wide,pe.Standalone);break;case"ccccc":M=xt(Re.Days,ie.Narrow,pe.Standalone);break;case"cccccc":M=xt(Re.Days,ie.Short,pe.Standalone);break;case"E":case"EE":case"EEE":M=xt(Re.Days,ie.Abbreviated);break;case"EEEE":M=xt(Re.Days,ie.Wide);break;case"EEEEE":M=xt(Re.Days,ie.Narrow);break;case"EEEEEE":M=xt(Re.Days,ie.Short);break;case"a":case"aa":case"aaa":M=xt(Re.DayPeriods,ie.Abbreviated);break;case"aaaa":M=xt(Re.DayPeriods,ie.Wide);break;case"aaaaa":M=xt(Re.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":M=xt(Re.DayPeriods,ie.Abbreviated,pe.Standalone,!0);break;case"bbbb":M=xt(Re.DayPeriods,ie.Wide,pe.Standalone,!0);break;case"bbbbb":M=xt(Re.DayPeriods,ie.Narrow,pe.Standalone,!0);break;case"B":case"BB":case"BBB":M=xt(Re.DayPeriods,ie.Abbreviated,pe.Format,!0);break;case"BBBB":M=xt(Re.DayPeriods,ie.Wide,pe.Format,!0);break;case"BBBBB":M=xt(Re.DayPeriods,ie.Narrow,pe.Format,!0);break;case"h":M=pt(Ye.Hours,1,-12);break;case"hh":M=pt(Ye.Hours,2,-12);break;case"H":M=pt(Ye.Hours,1);break;case"HH":M=pt(Ye.Hours,2);break;case"m":M=pt(Ye.Minutes,1);break;case"mm":M=pt(Ye.Minutes,2);break;case"s":M=pt(Ye.Seconds,1);break;case"ss":M=pt(Ye.Seconds,2);break;case"S":M=pt(Ye.FractionalSeconds,1);break;case"SS":M=pt(Ye.FractionalSeconds,2);break;case"SSS":M=pt(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":M=_i(Zt.Short);break;case"ZZZZZ":M=_i(Zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":M=_i(Zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":M=_i(Zt.Long);break;default:return null}return me[m]=M,M}(Pt);wt+=ht?ht(N,b,yt):"''"===Pt?"'":Pt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wt}function Cn(m,M,b){const P=new Date(0);return P.setFullYear(m,M,b),P.setHours(0,0,0),P}function Jn(m,M){const b=function ln(m){return(0,C.cg1)(m)[C.wAp.LocaleId]}(m);if(Kn[b]=Kn[b]||{},Kn[b][M])return Kn[b][M];let P="";switch(M){case"shortDate":P=B(m,Ne.Short);break;case"mediumDate":P=B(m,Ne.Medium);break;case"longDate":P=B(m,Ne.Long);break;case"fullDate":P=B(m,Ne.Full);break;case"shortTime":P=ce(m,Ne.Short);break;case"mediumTime":P=ce(m,Ne.Medium);break;case"longTime":P=ce(m,Ne.Long);break;case"fullTime":P=ce(m,Ne.Full);break;case"short":const N=Jn(m,"shortTime"),oe=Jn(m,"shortDate");P=Ke(Oe(m,Ne.Short),[N,oe]);break;case"medium":const ae=Jn(m,"mediumTime"),Be=Jn(m,"mediumDate");P=Ke(Oe(m,Ne.Medium),[ae,Be]);break;case"long":const yt=Jn(m,"longTime"),wt=Jn(m,"longDate");P=Ke(Oe(m,Ne.Long),[yt,wt]);break;case"full":const Pt=Jn(m,"fullTime"),ht=Jn(m,"fullDate");P=Ke(Oe(m,Ne.Full),[Pt,ht])}return P&&(Kn[b][M]=P),P}function Ke(m,M){return M&&(m=m.replace(/\{([^}]+)}/g,function(b,P){return null!=M&&P in M?M[P]:b})),m}function $t(m,M,b="-",P,N){let oe="";(m<0||N&&m<=0)&&(N?m=1-m:(m=-m,oe=b));let ae=String(m);for(;ae.length<M;)ae="0"+ae;return P&&(ae=ae.slice(ae.length-M)),oe+ae}function pt(m,M,b=0,P=!1,N=!1){return function(oe,ae){let Be=function fr(m,M){switch(m){case Ye.FullYear:return M.getFullYear();case Ye.Month:return M.getMonth();case Ye.Date:return M.getDate();case Ye.Hours:return M.getHours();case Ye.Minutes:return M.getMinutes();case Ye.Seconds:return M.getSeconds();case Ye.FractionalSeconds:return M.getMilliseconds();case Ye.Day:return M.getDay();default:throw new Error(`Unknown DateType value "${m}".`)}}(m,oe);if((b>0||Be>-b)&&(Be+=b),m===Ye.Hours)0===Be&&-12===b&&(Be=12);else if(m===Ye.FractionalSeconds)return function lo(m,M){return $t(m,3).substring(0,M)}(Be,M);const yt=Fe(ae,ne.MinusSign);return $t(Be,M,yt,P,N)}}function xt(m,M,b=pe.Format,P=!1){return function(N,oe){return function kt(m,M,b,P,N,oe){switch(b){case Re.Months:return function qn(m,M,b){const P=(0,C.cg1)(m),oe=Xt([P[C.wAp.MonthsFormat],P[C.wAp.MonthsStandalone]],M);return Xt(oe,b)}(M,N,P)[m.getMonth()];case Re.Days:return function xi(m,M,b){const P=(0,C.cg1)(m),oe=Xt([P[C.wAp.DaysFormat],P[C.wAp.DaysStandalone]],M);return Xt(oe,b)}(M,N,P)[m.getDay()];case Re.DayPeriods:const ae=m.getHours(),Be=m.getMinutes();if(oe){const wt=function ut(m){const M=(0,C.cg1)(m);return ft(M),(M[C.wAp.ExtraData][2]||[]).map(P=>"string"==typeof P?Lt(P):[Lt(P[0]),Lt(P[1])])}(M),Pt=function pr(m,M,b){const P=(0,C.cg1)(m);ft(P);const oe=Xt([P[C.wAp.ExtraData][0],P[C.wAp.ExtraData][1]],M)||[];return Xt(oe,b)||[]}(M,N,P),ht=wt.findIndex(on=>{if(Array.isArray(on)){const[Dt,qt]=on,Oi=ae>=Dt.hours&&Be>=Dt.minutes,ti=ae<qt.hours||ae===qt.hours&&Be<qt.minutes;if(Dt.hours<qt.hours){if(Oi&&ti)return!0}else if(Oi||ti)return!0}else if(on.hours===ae&&on.minutes===Be)return!0;return!1});if(-1!==ht)return Pt[ht]}return function En(m,M,b){const P=(0,C.cg1)(m),oe=Xt([P[C.wAp.DayPeriodsFormat],P[C.wAp.DayPeriodsStandalone]],M);return Xt(oe,b)}(M,N,P)[ae<12?0:1];case Re.Eras:return function jt(m,M){return Xt((0,C.cg1)(m)[C.wAp.Eras],M)}(M,P)[m.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${b}`)}}(N,oe,m,M,b,P)}}function _i(m){return function(M,b,P){const N=-1*P,oe=Fe(b,ne.MinusSign),ae=N>0?Math.floor(N/60):Math.ceil(N/60);switch(m){case Zt.Short:return(N>=0?"+":"")+$t(ae,2,oe)+$t(Math.abs(N%60),2,oe);case Zt.ShortGMT:return"GMT"+(N>=0?"+":"")+$t(ae,1,oe);case Zt.Long:return"GMT"+(N>=0?"+":"")+$t(ae,2,oe)+":"+$t(Math.abs(N%60),2,oe);case Zt.Extended:return 0===P?"Z":(N>=0?"+":"")+$t(ae,2,oe)+":"+$t(Math.abs(N%60),2,oe);default:throw new Error(`Unknown zone width "${m}"`)}}}function V(m){return Cn(m.getFullYear(),m.getMonth(),m.getDate()+(4-m.getDay()))}function $(m,M=!1){return function(b,P){let N;if(M){const oe=new Date(b.getFullYear(),b.getMonth(),1).getDay()-1,ae=b.getDate();N=1+Math.floor((ae+oe)/7)}else{const oe=V(b),ae=function le(m){const M=Cn(m,0,1).getDay();return Cn(m,0,1+(M<=4?4:11)-M)}(oe.getFullYear()),Be=oe.getTime()-ae.getTime();N=1+Math.round(Be/6048e5)}return $t(N,m,Fe(P,ne.MinusSign))}}function Se(m,M=!1){return function(b,P){return $t(V(b).getFullYear(),m,Fe(P,ne.MinusSign),M)}}const me={};function gt(m,M){m=m.replace(/:/g,"");const b=Date.parse("Jan 01, 1970 00:00:00 "+m)/6e4;return isNaN(b)?M:b}function vn(m){return m instanceof Date&&!isNaN(m.valueOf())}function ra(m,M){M=encodeURIComponent(M);for(const b of m.split(";")){const P=b.indexOf("="),[N,oe]=-1==P?[b,""]:[b.slice(0,P),b.slice(P+1)];if(N.trim()===M)return decodeURIComponent(oe)}return null}let Cr=(()=>{class m{constructor(b,P,N,oe){this._iterableDiffers=b,this._keyValueDiffers=P,this._ngEl=N,this._renderer=oe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(b){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof b?b.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(b){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof b?b.split(/\s+/):b,this._rawClass&&((0,C.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const b=this._iterableDiffer.diff(this._rawClass);b&&this._applyIterableChanges(b)}else if(this._keyValueDiffer){const b=this._keyValueDiffer.diff(this._rawClass);b&&this._applyKeyValueChanges(b)}}_applyKeyValueChanges(b){b.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(b){b.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,C.AaK)(P.item)}`);this._toggleClass(P.item,!0)}),b.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!0)):Object.keys(b).forEach(P=>this._toggleClass(P,!!b[P])))}_removeClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!1)):Object.keys(b).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(b,P){(b=b.trim())&&b.split(/\s+/g).forEach(N=>{P?this._renderer.addClass(this._ngEl.nativeElement,N):this._renderer.removeClass(this._ngEl.nativeElement,N)})}}return m.\u0275fac=function(b){return new(b||m)(C.Y36(C.ZZ4),C.Y36(C.aQg),C.Y36(C.SBq),C.Y36(C.Qsj))},m.\u0275dir=C.lG2({type:m,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),m})();class sa{constructor(M,b,P,N){this.$implicit=M,this.ngForOf=b,this.index=P,this.count=N}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bi=(()=>{class m{set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}constructor(b,P,N){this._viewContainer=b,this._template=P,this._differs=N,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const P=this._viewContainer;b.forEachOperation((N,oe,ae)=>{if(null==N.previousIndex)P.createEmbeddedView(this._template,new sa(N.item,this._ngForOf,-1,-1),null===ae?void 0:ae);else if(null==ae)P.remove(null===oe?void 0:oe);else if(null!==oe){const Be=P.get(oe);P.move(Be,ae),uo(Be,N)}});for(let N=0,oe=P.length;N<oe;N++){const Be=P.get(N).context;Be.index=N,Be.count=oe,Be.ngForOf=this._ngForOf}b.forEachIdentityChange(N=>{uo(P.get(N.currentIndex),N)})}static ngTemplateContextGuard(b,P){return!0}}return m.\u0275fac=function(b){return new(b||m)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},m.\u0275dir=C.lG2({type:m,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),m})();function uo(m,M){m.context.$implicit=M.item}let tn=(()=>{class m{constructor(b,P){this._viewContainer=b,this._context=new un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(b){this._context.$implicit=this._context.ngIf=b,this._updateView()}set ngIfThen(b){Lo("ngIfThen",b),this._thenTemplateRef=b,this._thenViewRef=null,this._updateView()}set ngIfElse(b){Lo("ngIfElse",b),this._elseTemplateRef=b,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(b,P){return!0}}return m.\u0275fac=function(b){return new(b||m)(C.Y36(C.s_b),C.Y36(C.Rgc))},m.\u0275dir=C.lG2({type:m,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),m})();class un{constructor(){this.$implicit=null,this.ngIf=null}}function Lo(m,M){if(M&&!M.createEmbeddedView)throw new Error(`${m} must be a TemplateRef, but received '${(0,C.AaK)(M)}'.`)}let nn=(()=>{class m{constructor(b,P,N){this._ngEl=b,this._differs=P,this._renderer=N,this._ngStyle=null,this._differ=null}set ngStyle(b){this._ngStyle=b,!this._differ&&b&&(this._differ=this._differs.find(b).create())}ngDoCheck(){if(this._differ){const b=this._differ.diff(this._ngStyle);b&&this._applyChanges(b)}}_setStyle(b,P){const[N,oe]=b.split("."),ae=-1===N.indexOf("-")?void 0:C.JOm.DashCase;null!=P?this._renderer.setStyle(this._ngEl.nativeElement,N,oe?`${P}${oe}`:P,ae):this._renderer.removeStyle(this._ngEl.nativeElement,N,ae)}_applyChanges(b){b.forEachRemovedItem(P=>this._setStyle(P.key,null)),b.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),b.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return m.\u0275fac=function(b){return new(b||m)(C.Y36(C.SBq),C.Y36(C.aQg),C.Y36(C.Qsj))},m.\u0275dir=C.lG2({type:m,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),m})();const Ui=new C.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),aa=new C.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ft=(()=>{class m{constructor(b,P,N){this.locale=b,this.defaultTimezone=P,this.defaultOptions=N}transform(b,P,N,oe){if(null==b||""===b||b!=b)return null;try{return Bn(b,P??this.defaultOptions?.dateFormat??"mediumDate",oe||this.locale,N??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ae){throw function hn(m,M){return new C.vHH(2100,!1)}()}}}return m.\u0275fac=function(b){return new(b||m)(C.Y36(C.soG,16),C.Y36(Ui,24),C.Y36(aa,24))},m.\u0275pipe=C.Yjl({name:"date",type:m,pure:!0,standalone:!0}),m})(),gi=(()=>{class m{constructor(b){this.differs=b,this.keyValues=[],this.compareFn=Ct}transform(b,P=Ct){if(!b||!(b instanceof Map)&&"object"!=typeof b)return null;this.differ||(this.differ=this.differs.find(b).create());const N=this.differ.diff(b),oe=P!==this.compareFn;return N&&(this.keyValues=[],N.forEachItem(ae=>{this.keyValues.push(function Gi(m,M){return{key:m,value:M}}(ae.key,ae.currentValue))})),(N||oe)&&(this.keyValues.sort(P),this.compareFn=P),this.keyValues}}return m.\u0275fac=function(b){return new(b||m)(C.Y36(C.aQg,16))},m.\u0275pipe=C.Yjl({name:"keyvalue",type:m,pure:!1,standalone:!0}),m})();function Ct(m,M){const b=m.key,P=M.key;if(b===P)return 0;if(void 0===b)return 1;if(void 0===P)return-1;if(null===b)return 1;if(null===P)return-1;if("string"==typeof b&&"string"==typeof P)return b<P?-1:1;if("number"==typeof b&&"number"==typeof P)return b-P;if("boolean"==typeof b&&"boolean"==typeof P)return b<P?-1:1;const N=String(b),oe=String(P);return N==oe?0:N<oe?-1:1}let ca=(()=>{class m{}return m.\u0275fac=function(b){return new(b||m)},m.\u0275mod=C.oAB({type:m}),m.\u0275inj=C.cJS({}),m})();const ci="browser";function da(m){return m===ci}class pa{}},529:(qe,_e,k)=>{k.d(_e,{JF:()=>_i,LE:()=>we,TP:()=>jt,UA:()=>ne,WM:()=>L,eN:()=>ln});var C=k(6895),D=k(3071),e=k(1086),H=k(2916),W=k(1406),Q=k(2198),ee=k(4850);class Y{}class K{}class L{constructor(V){this.normalizedNames=new Map,this.lazyUpdate=null,V?this.lazyInit="string"==typeof V?()=>{this.headers=new Map,V.split("\n").forEach($=>{const Se=$.indexOf(":");if(Se>0){const me=$.slice(0,Se),Xe=me.toLowerCase(),gt=$.slice(Se+1).trim();this.maybeSetNormalizedName(me,Xe),this.headers.has(Xe)?this.headers.get(Xe).push(gt):this.headers.set(Xe,[gt])}})}:()=>{this.headers=new Map,Object.keys(V).forEach($=>{let Se=V[$];const me=$.toLowerCase();"string"==typeof Se&&(Se=[Se]),Se.length>0&&(this.headers.set(me,Se),this.maybeSetNormalizedName($,me))})}:this.headers=new Map}has(V){return this.init(),this.headers.has(V.toLowerCase())}get(V){this.init();const $=this.headers.get(V.toLowerCase());return $&&$.length>0?$[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(V){return this.init(),this.headers.get(V.toLowerCase())||null}append(V,$){return this.clone({name:V,value:$,op:"a"})}set(V,$){return this.clone({name:V,value:$,op:"s"})}delete(V,$){return this.clone({name:V,value:$,op:"d"})}maybeSetNormalizedName(V,$){this.normalizedNames.has($)||this.normalizedNames.set($,V)}init(){this.lazyInit&&(this.lazyInit instanceof L?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(V=>this.applyUpdate(V)),this.lazyUpdate=null))}copyFrom(V){V.init(),Array.from(V.headers.keys()).forEach($=>{this.headers.set($,V.headers.get($)),this.normalizedNames.set($,V.normalizedNames.get($))})}clone(V){const $=new L;return $.lazyInit=this.lazyInit&&this.lazyInit instanceof L?this.lazyInit:this,$.lazyUpdate=(this.lazyUpdate||[]).concat([V]),$}applyUpdate(V){const $=V.name.toLowerCase();switch(V.op){case"a":case"s":let Se=V.value;if("string"==typeof Se&&(Se=[Se]),0===Se.length)return;this.maybeSetNormalizedName(V.name,$);const me=("a"===V.op?this.headers.get($):void 0)||[];me.push(...Se),this.headers.set($,me);break;case"d":const Xe=V.value;if(Xe){let gt=this.headers.get($);if(!gt)return;gt=gt.filter(Et=>-1===Xe.indexOf(Et)),0===gt.length?(this.headers.delete($),this.normalizedNames.delete($)):this.headers.set($,gt)}else this.headers.delete($),this.normalizedNames.delete($)}}forEach(V){this.init(),Array.from(this.normalizedNames.keys()).forEach($=>V(this.normalizedNames.get($),this.headers.get($)))}}class re{encodeKey(V){return fe(V)}encodeValue(V){return fe(V)}decodeKey(V){return decodeURIComponent(V)}decodeValue(V){return decodeURIComponent(V)}}const De=/%(\d[a-f0-9])/gi,Pe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fe(le){return encodeURIComponent(le).replace(De,(V,$)=>Pe[$]??V)}function je(le){return`${le}`}class we{constructor(V={}){if(this.updates=null,this.cloneFrom=null,this.encoder=V.encoder||new re,V.fromString){if(V.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ye(le,V){const $=new Map;return le.length>0&&le.replace(/^\?/,"").split("&").forEach(me=>{const Xe=me.indexOf("="),[gt,Et]=-1==Xe?[V.decodeKey(me),""]:[V.decodeKey(me.slice(0,Xe)),V.decodeValue(me.slice(Xe+1))],it=$.get(gt)||[];it.push(Et),$.set(gt,it)}),$}(V.fromString,this.encoder)}else V.fromObject?(this.map=new Map,Object.keys(V.fromObject).forEach($=>{const Se=V.fromObject[$],me=Array.isArray(Se)?Se.map(je):[je(Se)];this.map.set($,me)})):this.map=null}has(V){return this.init(),this.map.has(V)}get(V){this.init();const $=this.map.get(V);return $?$[0]:null}getAll(V){return this.init(),this.map.get(V)||null}keys(){return this.init(),Array.from(this.map.keys())}append(V,$){return this.clone({param:V,value:$,op:"a"})}appendAll(V){const $=[];return Object.keys(V).forEach(Se=>{const me=V[Se];Array.isArray(me)?me.forEach(Xe=>{$.push({param:Se,value:Xe,op:"a"})}):$.push({param:Se,value:me,op:"a"})}),this.clone($)}set(V,$){return this.clone({param:V,value:$,op:"s"})}delete(V,$){return this.clone({param:V,value:$,op:"d"})}toString(){return this.init(),this.keys().map(V=>{const $=this.encoder.encodeKey(V);return this.map.get(V).map(Se=>$+"="+this.encoder.encodeValue(Se)).join("&")}).filter(V=>""!==V).join("&")}clone(V){const $=new we({encoder:this.encoder});return $.cloneFrom=this.cloneFrom||this,$.updates=(this.updates||[]).concat(V),$}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(V=>this.map.set(V,this.cloneFrom.map.get(V))),this.updates.forEach(V=>{switch(V.op){case"a":case"s":const $=("a"===V.op?this.map.get(V.param):void 0)||[];$.push(je(V.value)),this.map.set(V.param,$);break;case"d":if(void 0===V.value){this.map.delete(V.param);break}{let Se=this.map.get(V.param)||[];const me=Se.indexOf(je(V.value));-1!==me&&Se.splice(me,1),Se.length>0?this.map.set(V.param,Se):this.map.delete(V.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(V,$){return this.map.set(V,$),this}get(V){return this.map.has(V)||this.map.set(V,V.defaultValue()),this.map.get(V)}delete(V){return this.map.delete(V),this}has(V){return this.map.has(V)}keys(){return this.map.keys()}}function Nt(le){return typeof ArrayBuffer<"u"&&le instanceof ArrayBuffer}function Tt(le){return typeof Blob<"u"&&le instanceof Blob}function xe(le){return typeof FormData<"u"&&le instanceof FormData}class q{constructor(V,$,Se,me){let Xe;if(this.url=$,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=V.toUpperCase(),function bt(le){switch(le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||me?(this.body=void 0!==Se?Se:null,Xe=me):Xe=Se,Xe&&(this.reportProgress=!!Xe.reportProgress,this.withCredentials=!!Xe.withCredentials,Xe.responseType&&(this.responseType=Xe.responseType),Xe.headers&&(this.headers=Xe.headers),Xe.context&&(this.context=Xe.context),Xe.params&&(this.params=Xe.params)),this.headers||(this.headers=new L),this.context||(this.context=new Ze),this.params){const gt=this.params.toString();if(0===gt.length)this.urlWithParams=$;else{const Et=$.indexOf("?");this.urlWithParams=$+(-1===Et?"?":Et<$.length-1?"&":"")+gt}}else this.params=new we,this.urlWithParams=$}serializeBody(){return null===this.body?null:Nt(this.body)||Tt(this.body)||xe(this.body)||function ve(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof we?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xe(this.body)?null:Tt(this.body)?this.body.type||null:Nt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof we?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(V={}){const $=V.method||this.method,Se=V.url||this.url,me=V.responseType||this.responseType,Xe=void 0!==V.body?V.body:this.body,gt=void 0!==V.withCredentials?V.withCredentials:this.withCredentials,Et=void 0!==V.reportProgress?V.reportProgress:this.reportProgress;let it=V.headers||this.headers,Qt=V.params||this.params;const It=V.context??this.context;return void 0!==V.setHeaders&&(it=Object.keys(V.setHeaders).reduce((vn,On)=>vn.set(On,V.setHeaders[On]),it)),V.setParams&&(Qt=Object.keys(V.setParams).reduce((vn,On)=>vn.set(On,V.setParams[On]),Qt)),new q($,Se,Xe,{params:Qt,headers:it,context:It,reportProgress:Et,responseType:me,withCredentials:gt})}}var J=(()=>((J=J||{})[J.Sent=0]="Sent",J[J.UploadProgress=1]="UploadProgress",J[J.ResponseHeader=2]="ResponseHeader",J[J.DownloadProgress=3]="DownloadProgress",J[J.Response=4]="Response",J[J.User=5]="User",J))();class pe{constructor(V,$=200,Se="OK"){this.headers=V.headers||new L,this.status=void 0!==V.status?V.status:$,this.statusText=V.statusText||Se,this.url=V.url||null,this.ok=this.status>=200&&this.status<300}}class ie extends pe{constructor(V={}){super(V),this.type=J.ResponseHeader}clone(V={}){return new ie({headers:V.headers||this.headers,status:void 0!==V.status?V.status:this.status,statusText:V.statusText||this.statusText,url:V.url||this.url||void 0})}}class Ne extends pe{constructor(V={}){super(V),this.type=J.Response,this.body=void 0!==V.body?V.body:null}clone(V={}){return new Ne({body:void 0!==V.body?V.body:this.body,headers:V.headers||this.headers,status:void 0!==V.status?V.status:this.status,statusText:V.statusText||this.statusText,url:V.url||this.url||void 0})}}class ne extends pe{constructor(V){super(V,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${V.url||"(unknown url)"}`:`Http failure response for ${V.url||"(unknown url)"}: ${V.status} ${V.statusText}`,this.error=V.error||null}}function Ve(le,V){return{body:V,headers:le.headers,context:le.context,observe:le.observe,params:le.params,reportProgress:le.reportProgress,responseType:le.responseType,withCredentials:le.withCredentials}}let ln=(()=>{class le{constructor($){this.handler=$}request($,Se,me={}){let Xe;if($ instanceof q)Xe=$;else{let it,Qt;it=me.headers instanceof L?me.headers:new L(me.headers),me.params&&(Qt=me.params instanceof we?me.params:new we({fromObject:me.params})),Xe=new q($,Se,void 0!==me.body?me.body:null,{headers:it,context:me.context,params:Qt,reportProgress:me.reportProgress,responseType:me.responseType||"json",withCredentials:me.withCredentials})}const gt=(0,e.of)(Xe).pipe((0,W.b)(it=>this.handler.handle(it)));if($ instanceof q||"events"===me.observe)return gt;const Et=gt.pipe((0,Q.h)(it=>it instanceof Ne));switch(me.observe||"body"){case"body":switch(Xe.responseType){case"arraybuffer":return Et.pipe((0,ee.U)(it=>{if(null!==it.body&&!(it.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return it.body}));case"blob":return Et.pipe((0,ee.U)(it=>{if(null!==it.body&&!(it.body instanceof Blob))throw new Error("Response is not a Blob.");return it.body}));case"text":return Et.pipe((0,ee.U)(it=>{if(null!==it.body&&"string"!=typeof it.body)throw new Error("Response is not a string.");return it.body}));default:return Et.pipe((0,ee.U)(it=>it.body))}case"response":return Et;default:throw new Error(`Unreachable: unhandled observe type ${me.observe}}`)}}delete($,Se={}){return this.request("DELETE",$,Se)}get($,Se={}){return this.request("GET",$,Se)}head($,Se={}){return this.request("HEAD",$,Se)}jsonp($,Se){return this.request("JSONP",$,{params:(new we).append(Se,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($,Se={}){return this.request("OPTIONS",$,Se)}patch($,Se,me={}){return this.request("PATCH",$,Ve(me,Se))}post($,Se,me={}){return this.request("POST",$,Ve(me,Se))}put($,Se,me={}){return this.request("PUT",$,Ve(me,Se))}}return le.\u0275fac=function($){return new($||le)(D.LFG(Y))},le.\u0275prov=D.Yz7({token:le,factory:le.\u0275fac}),le})();function En(le,V){return V(le)}function xi(le,V){return($,Se)=>V.intercept($,{handle:me=>le(me,Se)})}const jt=new D.OlP("HTTP_INTERCEPTORS"),ge=new D.OlP("HTTP_INTERCEPTOR_FNS");function Je(){let le=null;return(V,$)=>(null===le&&(le=((0,D.f3M)(jt,{optional:!0})??[]).reduceRight(xi,En)),le(V,$))}let B=(()=>{class le extends Y{constructor($,Se){super(),this.backend=$,this.injector=Se,this.chain=null}handle($){if(null===this.chain){const Se=Array.from(new Set(this.injector.get(ge)));this.chain=Se.reduceRight((me,Xe)=>function qn(le,V,$){return(Se,me)=>$.runInContext(()=>V(Se,Xe=>le(Xe,me)))}(me,Xe,this.injector),En)}return this.chain($,Se=>this.backend.handle(Se))}}return le.\u0275fac=function($){return new($||le)(D.LFG(K),D.LFG(D.lqb))},le.\u0275prov=D.Yz7({token:le,factory:le.\u0275fac}),le})();const pr=/^\)\]\}',?\n/;let Xt=(()=>{class le{constructor($){this.xhrFactory=$}handle($){if("JSONP"===$.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new H.y(Se=>{const me=this.xhrFactory.build();if(me.open($.method,$.urlWithParams),$.withCredentials&&(me.withCredentials=!0),$.headers.forEach((G,R)=>me.setRequestHeader(G,R.join(","))),$.headers.has("Accept")||me.setRequestHeader("Accept","application/json, text/plain, */*"),!$.headers.has("Content-Type")){const G=$.detectContentTypeHeader();null!==G&&me.setRequestHeader("Content-Type",G)}if($.responseType){const G=$.responseType.toLowerCase();me.responseType="json"!==G?G:"text"}const Xe=$.serializeBody();let gt=null;const Et=()=>{if(null!==gt)return gt;const G=me.statusText||"OK",R=new L(me.getAllResponseHeaders()),I=function zr(le){return"responseURL"in le&&le.responseURL?le.responseURL:/^X-Request-URL:/m.test(le.getAllResponseHeaders())?le.getResponseHeader("X-Request-URL"):null}(me)||$.url;return gt=new ie({headers:R,status:me.status,statusText:G,url:I}),gt},it=()=>{let{headers:G,status:R,statusText:I,url:z}=Et(),he=null;204!==R&&(he=typeof me.response>"u"?me.responseText:me.response),0===R&&(R=he?200:0);let Ue=R>=200&&R<300;if("json"===$.responseType&&"string"==typeof he){const et=he;he=he.replace(pr,"");try{he=""!==he?JSON.parse(he):null}catch(vt){he=et,Ue&&(Ue=!1,he={error:vt,text:he})}}Ue?(Se.next(new Ne({body:he,headers:G,status:R,statusText:I,url:z||void 0})),Se.complete()):Se.error(new ne({error:he,headers:G,status:R,statusText:I,url:z||void 0}))},Qt=G=>{const{url:R}=Et(),I=new ne({error:G,status:me.status||0,statusText:me.statusText||"Unknown Error",url:R||void 0});Se.error(I)};let It=!1;const vn=G=>{It||(Se.next(Et()),It=!0);let R={type:J.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(R.total=G.total),"text"===$.responseType&&me.responseText&&(R.partialText=me.responseText),Se.next(R)},On=G=>{let R={type:J.UploadProgress,loaded:G.loaded};G.lengthComputable&&(R.total=G.total),Se.next(R)};return me.addEventListener("load",it),me.addEventListener("error",Qt),me.addEventListener("timeout",Qt),me.addEventListener("abort",Qt),$.reportProgress&&(me.addEventListener("progress",vn),null!==Xe&&me.upload&&me.upload.addEventListener("progress",On)),me.send(Xe),Se.next({type:J.Sent}),()=>{me.removeEventListener("error",Qt),me.removeEventListener("abort",Qt),me.removeEventListener("load",it),me.removeEventListener("timeout",Qt),$.reportProgress&&(me.removeEventListener("progress",vn),null!==Xe&&me.upload&&me.upload.removeEventListener("progress",On)),me.readyState!==me.DONE&&me.abort()}})}}return le.\u0275fac=function($){return new($||le)(D.LFG(C.JF))},le.\u0275prov=D.Yz7({token:le,factory:le.\u0275fac}),le})();const Lt=new D.OlP("XSRF_ENABLED"),ao="XSRF-TOKEN",Rn=new D.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ao}),wi="X-XSRF-TOKEN",co=new D.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>wi});class Kn{}let _r=(()=>{class le{constructor($,Se,me){this.doc=$,this.platform=Se,this.cookieName=me,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $=this.doc.cookie||"";return $!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,C.Mx)($,this.cookieName),this.lastCookieString=$),this.lastToken}}return le.\u0275fac=function($){return new($||le)(D.LFG(C.K0),D.LFG(D.Lbi),D.LFG(Rn))},le.\u0275prov=D.Yz7({token:le,factory:le.\u0275fac}),le})();function Zt(le,V){const $=le.url.toLowerCase();if(!(0,D.f3M)(Lt)||"GET"===le.method||"HEAD"===le.method||$.startsWith("http://")||$.startsWith("https://"))return V(le);const Se=(0,D.f3M)(Kn).getToken(),me=(0,D.f3M)(co);return null!=Se&&!le.headers.has(me)&&(le=le.clone({headers:le.headers.set(me,Se)})),V(le)}var Re=(()=>((Re=Re||{})[Re.Interceptors=0]="Interceptors",Re[Re.LegacyInterceptors=1]="LegacyInterceptors",Re[Re.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Re[Re.NoXsrfProtection=3]="NoXsrfProtection",Re[Re.JsonpSupport=4]="JsonpSupport",Re[Re.RequestsMadeViaParent=5]="RequestsMadeViaParent",Re))();function Bn(le,V){return{\u0275kind:le,\u0275providers:V}}function Cn(...le){const V=[ln,Xt,B,{provide:Y,useExisting:B},{provide:K,useExisting:Xt},{provide:ge,useValue:Zt,multi:!0},{provide:Lt,useValue:!0},{provide:Kn,useClass:_r}];for(const $ of le)V.push(...$.\u0275providers);return(0,D.MR2)(V)}const Ke=new D.OlP("LEGACY_INTERCEPTOR_FN");function lo({cookieName:le,headerName:V}){const $=[];return void 0!==le&&$.push({provide:Rn,useValue:le}),void 0!==V&&$.push({provide:co,useValue:V}),Bn(Re.CustomXsrfConfiguration,$)}let _i=(()=>{class le{}return le.\u0275fac=function($){return new($||le)},le.\u0275mod=D.oAB({type:le}),le.\u0275inj=D.cJS({providers:[Cn(Bn(Re.LegacyInterceptors,[{provide:Ke,useFactory:Je},{provide:ge,useExisting:Ke,multi:!0}]),lo({cookieName:ao,headerName:wi}))]}),le})()},3071:(qe,_e,k)=>{k.d(_e,{AFp:()=>$g,ip1:()=>Ug,CZH:()=>td,hGG:()=>MM,z2F:()=>Me,sBO:()=>rd,_Vd:()=>Nr,EJc:()=>cx,SBq:()=>Rr,lqb:()=>Fr,qLn:()=>Br,vpe:()=>so,OlP:()=>Rt,zs3:()=>Yo,ZZ4:()=>Ox,aQg:()=>Tx,soG:()=>nd,h0i:()=>zs,R0b:()=>bi,Lbi:()=>rx,g9A:()=>qg,f1m:()=>_,Qsj:()=>Jp,FYo:()=>Kp,JOm:()=>po,q3G:()=>Yt,WD2:()=>Si,Rgc:()=>Sc,dDg:()=>Cx,eoX:()=>em,GfV:()=>Qp,s_b:()=>Wl,ifc:()=>Vn,Lck:()=>ob,eFA:()=>n,G48:()=>cn,Gpc:()=>Tt,f3M:()=>On,MR2:()=>TC,_c5:()=>wM,zSh:()=>gl,wAp:()=>ze,eQZ:()=>Cl,vHH:()=>ie,lri:()=>Wg,rWj:()=>Xg,JZr:()=>pe,EiD:()=>Fp,mCW:()=>Jo,qzn:()=>Cs,JVY:()=>pC,pB0:()=>mC,eBb:()=>fC,L6k:()=>_C,LAX:()=>gC,D6c:()=>SM,cg1:()=>eh,kL8:()=>Pf,dqk:()=>kt,sIi:()=>dc,CqO:()=>L_,QGY:()=>Hu,F4k:()=>N_,RDi:()=>aC,AaK:()=>Ze,z3N:()=>go,qOj:()=>Zr,TTD:()=>Ci,_Bn:()=>Xf,xp6:()=>xl,uIk:()=>Bu,Q2q:()=>Vu,Tol:()=>Qu,Gre:()=>yf,ekj:()=>Ju,Suo:()=>wg,Xpm:()=>mr,lG2:()=>Bi,Yz7:()=>Lt,cJS:()=>Rn,oAB:()=>yr,Yjl:()=>uo,Y36:()=>Vr,_UZ:()=>rr,BQk:()=>$s,ynx:()=>Us,qZA:()=>Zl,TgZ:()=>Hl,EpF:()=>ko,n5z:()=>Yh,LFG:()=>It,$8M:()=>Wh,$Z:()=>Mu,NdJ:()=>Zu,CRH:()=>mh,oxw:()=>H_,ALo:()=>pg,lcZ:()=>_g,xi3:()=>fg,Hsn:()=>j_,F$t:()=>Z_,Q6J:()=>Vl,s9C:()=>Uu,MGl:()=>Ul,hYB:()=>$u,cQ8:()=>sr,VKq:()=>sg,WLB:()=>ag,kEZ:()=>cg,iGM:()=>bg,KtG:()=>Eh,Jf7:()=>Wp,CHM:()=>kh,oJD:()=>Np,LSH:()=>mo,B6R:()=>ra,YNc:()=>or,_uU:()=>pf,Oqu:()=>qr,hij:()=>Gl,AsE:()=>zu,lnq:()=>Wu,Gf:()=>xg});var C=k(8929),D=k(2654),e=k(2916),H=k(6787),W=k(3489);function Q(){return function(o){return o.lift(new ee(o))}}class ee{constructor(o){this.connectable=o}call(o,s){const{connectable:l}=this;l._refCount++;const d=new Y(o,l),h=s.subscribe(d);return d.closed||(d.connection=l.connect()),h}}class Y extends W.L{constructor(o,s){super(o),this.connectable=s}_unsubscribe(){const{connectable:o}=this;if(!o)return void(this.connection=null);this.connectable=null;const s=o._refCount;if(s<=0)return void(this.connection=null);if(o._refCount=s-1,s>1)return void(this.connection=null);const{connection:l}=this,d=o._connection;this.connection=null,d&&(!l||d===l)&&d.unsubscribe()}}class K extends e.y{constructor(o,s){super(),this.source=o,this.subjectFactory=s,this._refCount=0,this._isComplete=!1}_subscribe(o){return this.getSubject().subscribe(o)}getSubject(){const o=this._subject;return(!o||o.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let o=this._connection;return o||(this._isComplete=!1,o=this._connection=new D.w,o.add(this.source.subscribe(new te(this.getSubject(),this))),o.closed&&(this._connection=null,o=D.w.EMPTY)),o}refCount(){return Q()(this)}}const L=(()=>{const i=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:i._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}}})();class te extends C.Yc{constructor(o,s){super(o),this.connectable=s}_error(o){this._unsubscribe(),super._error(o)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const o=this.connectable;if(o){this.connectable=null;const s=o._connection;o._refCount=0,o._subject=null,o._connection=null,s&&s.unsubscribe()}}}class Pe{constructor(o,s){this.subjectFactory=o,this.selector=s}call(o,s){const{selector:l}=this,d=this.subjectFactory(),h=l(d).subscribe(o);return h.add(s.subscribe(d)),h}}function fe(){return new C.xQ}function we(i){for(let o in i)if(i[o]===we)return o;throw Error("Could not find renamed property on target object.")}function Ae(i,o){for(const s in o)o.hasOwnProperty(s)&&!i.hasOwnProperty(s)&&(i[s]=o[s])}function Ze(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ze).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const s=o.indexOf("\n");return-1===s?o:o.substring(0,s)}function bt(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Nt=we({__forward_ref__:we});function Tt(i){return i.__forward_ref__=Tt,i.toString=function(){return Ze(this())},i}function xe(i){return ve(i)?i():i}function ve(i){return"function"==typeof i&&i.hasOwnProperty(Nt)&&i.__forward_ref__===Tt}function q(i){return i&&!!i.\u0275providers}const pe="https://g.co/ng/security#xss";class ie extends Error{constructor(o,s){super(function Ne(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}(o,s)),this.code=o}}function ne(i){return"string"==typeof i?i:null==i?"":String(i)}function qn(i,o){throw new ie(-201,!1)}function ft(i,o){null==i&&function ut(i,o,s,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${s} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function Lt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Rn(i){return{providers:i.providers||[],imports:i.imports||[]}}function wi(i){return Kn(i,Re)||Kn(i,Cn)}function Kn(i,o){return i.hasOwnProperty(o)?i[o]:null}function Ye(i){return i&&(i.hasOwnProperty(Bn)||i.hasOwnProperty(Jn))?i[Bn]:null}const Re=we({\u0275prov:we}),Bn=we({\u0275inj:we}),Cn=we({ngInjectableDef:we}),Jn=we({ngInjectorDef:we});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let $t;function pt(i){const o=$t;return $t=i,o}function fr(i,o,s){const l=wi(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&Ke.Optional?null:void 0!==o?o:void qn(Ze(i))}const kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),le={},V="__NG_DI_FLAG__",$="ngTempTokenPath",me=/\n/gm,gt="__source";let Et;function it(i){const o=Et;return Et=i,o}function Qt(i,o=Ke.Default){if(void 0===Et)throw new ie(-203,!1);return null===Et?fr(i,void 0,o):Et.get(i,o&Ke.Optional?null:void 0,o)}function It(i,o=Ke.Default){return(function lo(){return $t}()||Qt)(xe(i),o)}function On(i,o=Ke.Default){return It(i,G(o))}function G(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function R(i){const o=[];for(let s=0;s<i.length;s++){const l=xe(i[s]);if(Array.isArray(l)){if(0===l.length)throw new ie(900,!1);let d,h=Ke.Default;for(let p=0;p<l.length;p++){const f=l[p],g=z(f);"number"==typeof g?-1===g?d=f.token:h|=g:d=f}o.push(It(d,h))}else o.push(It(l))}return o}function I(i,o){return i[V]=o,i.prototype[V]=o,i}function z(i){return i[V]}function et(i){return{toString:i}.toString()}var vt=(()=>((vt=vt||{})[vt.OnPush=0]="OnPush",vt[vt.Default=1]="Default",vt))(),Vn=(()=>{return(i=Vn||(Vn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Vn;var i})();const ai={},_t=[],Ao=we({\u0275cmp:we}),Xr=we({\u0275dir:we}),oa=we({\u0275pipe:we}),gr=we({\u0275mod:we}),In=we({\u0275fac:we}),No=we({__NG_ELEMENT_ID__:we});let ad=0;function mr(i){return et(()=>{const s=!0===i.standalone,l={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||_t,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Vn.Emulated,id:"c"+ad++,styles:i.styles||_t,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},h=i.dependencies,p=i.features;return d.inputs=sa(i.inputs,l),d.outputs=sa(i.outputs),p&&p.forEach(f=>f(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Cr).filter(vr):null,d.pipeDefs=h?()=>("function"==typeof h?h():h).map(un).filter(vr):null,d})}function ra(i,o,s){const l=i.\u0275cmp;l.directiveDefs=()=>("function"==typeof o?o():o).map(Cr),l.pipeDefs=()=>("function"==typeof s?s():s).map(un)}function Cr(i){return mt(i)||tn(i)}function vr(i){return null!==i}function yr(i){return et(()=>({type:i.type,bootstrap:i.bootstrap||_t,declarations:i.declarations||_t,imports:i.imports||_t,exports:i.exports||_t,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function sa(i,o){if(null==i)return ai;const s={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),s[d]=l,o&&(o[d]=h)}return s}const Bi=mr;function uo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function mt(i){return i[Ao]||null}function tn(i){return i[Xr]||null}function un(i){return i[oa]||null}function We(i){return Array.isArray(i)&&"object"==typeof i[1]}function bn(i){return Array.isArray(i)&&!0===i[1]}function mi(i){return 0!=(4&i.flags)}function zn(i){return i.componentOffset>-1}function qi(i){return 1==(1&i.flags)}function Zn(i){return null!==i.template}function ca(i){return 0!=(256&i[2])}function Wn(i,o){return i.hasOwnProperty(In)?i[In]:null}class Si{constructor(o,s,l){this.previousValue=o,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ci(){return Xn}function Xn(i){return i.type.prototype.ngOnChanges&&(i.setInput=jc),Zc}function Zc(){const i=Mr(this),o=i?.current;if(o){const s=i.previous;if(s===ai)i.previous=o;else for(let l in o)s[l]=o[l];i.current=null,this.ngOnChanges(o)}}function jc(i,o,s,l){const d=this.declaredInputs[s],h=Mr(i)||function Ji(i,o){return i[dd]=o}(i,{previous:ai,current:null}),p=h.current||(h.current={}),f=h.previous,g=f[d];p[d]=new Si(g&&g.currentValue,o,f===ai),i[l]=o}Ci.ngInherit=!0;const dd="__ngSimpleChanges__";function Mr(i){return i[dd]||null}function _n(i){for(;Array.isArray(i);)i=i[0];return i}function os(i,o){return _n(o[i])}function jn(i,o){return _n(o[i.index])}function y(i,o){return i.data[o]}function v(i,o){return i[o]}function T(i,o){const s=o[i];return We(s)?s:s[0]}function Ee(i){return 64==(64&i[2])}function xn(i,o){return null==o?null:i[o]}function Sr(i){i[18]=0}function Or(i,o){i[5]+=o;let s=i,l=i[3];for(;null!==l&&(1===o&&1===s[5]||-1===o&&0===s[5]);)l[5]+=o,s=l,l=l[3]}const ot={lFrame:Bh(null),bindingsEnabled:!0};function ma(){return ot.bindingsEnabled}function Ce(){return ot.lFrame.lView}function lt(){return ot.lFrame.tView}function kh(i){return ot.lFrame.contextLView=i,i[8]}function Eh(i){return ot.lFrame.contextLView=null,i}function fn(){let i=$c();for(;null!==i&&64===i.type;)i=i.parent;return i}function $c(){return ot.lFrame.currentTNode}function Qi(i,o){const s=ot.lFrame;s.currentTNode=i,s.isParent=o}function Gc(){return ot.lFrame.isParent}function va(){ot.lFrame.isParent=!1}function Un(){const i=ot.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Yi(){return ot.lFrame.bindingIndex}function rs(){return ot.lFrame.bindingIndex++}function ho(i){const o=ot.lFrame,s=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,s}function Ah(i,o){const s=ot.lFrame;s.bindingIndex=s.bindingRootIndex=i,ya(o)}function ya(i){ot.lFrame.currentDirectiveIndex=i}function _d(){return ot.lFrame.currentQueryIndex}function qc(i){ot.lFrame.currentQueryIndex=i}function lm(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Lh(i,o,s){if(s&Ke.SkipSelf){let d=o,h=i;for(;!(d=d.parent,null!==d||s&Ke.Host||(d=lm(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;o=d,i=h}const l=ot.lFrame=Rh();return l.currentTNode=o,l.lView=i,!0}function fd(i){const o=Rh(),s=i[1];ot.lFrame=o,o.currentTNode=s.firstChild,o.lView=i,o.tView=s,o.contextLView=i,o.bindingIndex=s.bindingStartIndex,o.inI18n=!1}function Rh(){const i=ot.lFrame,o=null===i?null:i.child;return null===o?Bh(i):o}function Bh(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Kc(){const i=ot.lFrame;return ot.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const m=Kc;function M(){const i=Kc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function N(){return ot.lFrame.selectedIndex}function oe(i){ot.lFrame.selectedIndex=i}function ae(){const i=ot.lFrame;return y(i.tView,i.selectedIndex)}function Dt(i,o){for(let s=o.directiveStart,l=o.directiveEnd;s<l;s++){const h=i.data[s].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:f,ngAfterViewInit:g,ngAfterViewChecked:w,ngOnDestroy:O}=h;p&&(i.contentHooks||(i.contentHooks=[])).push(-s,p),f&&((i.contentHooks||(i.contentHooks=[])).push(s,f),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(s,f)),g&&(i.viewHooks||(i.viewHooks=[])).push(-s,g),w&&((i.viewHooks||(i.viewHooks=[])).push(s,w),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(s,w)),null!=O&&(i.destroyHooks||(i.destroyHooks=[])).push(s,O)}}function qt(i,o,s){zi(i,o,3,s)}function Oi(i,o,s,l){(3&i[2])===s&&zi(i,o,s,l)}function ti(i,o){let s=i[2];(3&s)===o&&(s&=2047,s+=1,i[2]=s)}function zi(i,o,s,l){const h=l??-1,p=o.length-1;let f=0;for(let g=void 0!==l?65535&i[18]:0;g<p;g++)if("number"==typeof o[g+1]){if(f=o[g],null!=l&&f>=l)break}else o[g]<0&&(i[18]+=65536),(f<h||-1==h)&&(li(i,s,o,g),i[18]=(4294901760&i[18])+g+2),g++}function li(i,o,s,l){const d=s[l]<0,h=s[l+1],f=i[d?-s[l]:s[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{h.call(f)}finally{}}}else try{h.call(f)}finally{}}class Wi{constructor(o,s,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function xa(i,o,s){let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const h=s[l++],p=s[l++],f=s[l++];i.setAttribute(o,p,f,h)}else{const h=d,p=s[++l];Hh(h)?i.setProperty(o,h,p):i.setAttribute(o,h,p),l++}}return l}function Vh(i){return 3===i||4===i||6===i}function Hh(i){return 64===i.charCodeAt(0)}function ss(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let s=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?s=d:0===s||Zh(i,s,d,null,-1===s||2===s?o[++l]:null)}}return i}function Zh(i,o,s,l,d){let h=0,p=i.length;if(-1===o)p=-1;else for(;h<i.length;){const f=i[h++];if("number"==typeof f){if(f===o){p=-1;break}if(f>o){p=h-1;break}}}for(;h<i.length;){const f=i[h];if("number"==typeof f)break;if(f===s){if(null===l)return void(null!==d&&(i[h+1]=d));if(l===i[h+1])return void(i[h+2]=d)}h++,null!==l&&h++,null!==d&&h++}-1!==p&&(i.splice(p,0,o),h=p+1),i.splice(h++,0,s),null!==l&&i.splice(h++,0,l),null!==d&&i.splice(h++,0,d)}function um(i){return-1!==i}function Cd(i){return 32767&i}function vd(i,o){let s=function Ax(i){return i>>16}(i),l=o;for(;s>0;)l=l[15],s--;return l}let jh=!0;function yd(i){const o=jh;return jh=i,o}let pm=0;const Xi={};function bd(i,o){const s=_m(i,o);if(-1!==s)return s;const l=o[1];l.firstCreatePass&&(i.injectorIndex=o.length,$h(l.data,i),$h(o,null),$h(l.blueprint,null));const d=Gh(i,o),h=i.injectorIndex;if(um(d)){const p=Cd(d),f=vd(d,o),g=f[1].data;for(let w=0;w<8;w++)o[h+w]=f[p+w]|g[p+w]}return o[h+8]=d,h}function $h(i,o){i.push(0,0,0,0,0,0,0,0,o)}function _m(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Gh(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let s=0,l=null,d=o;for(;null!==d;){if(l=vm(d),null===l)return-1;if(s++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function qh(i,o,s){!function Lx(i,o,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(No)&&(l=s[No]),null==l&&(l=s[No]=pm++);const d=255&l;o.data[i+(d>>5)]|=1<<d}(i,o,s)}function fm(i,o,s){if(s&Ke.Optional||void 0!==i)return i;qn()}function gm(i,o,s,l){if(s&Ke.Optional&&void 0===l&&(l=null),!(s&(Ke.Self|Ke.Host))){const d=i[9],h=pt(void 0);try{return d?d.get(o,l,s&Ke.Optional):fr(o,l,s&Ke.Optional)}finally{pt(h)}}return fm(l,0,s)}function Kh(i,o,s,l=Ke.Default,d){if(null!==i){if(1024&o[2]){const p=function zh(i,o,s,l,d){let h=i,p=o;for(;null!==h&&null!==p&&1024&p[2]&&!(256&p[2]);){const f=mm(h,p,s,l|Ke.Self,Xi);if(f!==Xi)return f;let g=h.parent;if(!g){const w=p[21];if(w){const O=w.get(s,Xi,l);if(O!==Xi)return O}g=vm(p),p=p[15]}h=g}return d}(i,o,s,l,Xi);if(p!==Xi)return p}const h=mm(i,o,s,l,Xi);if(h!==Xi)return h}return gm(o,s,l,d)}function mm(i,o,s,l,d){const h=function xd(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(No)?i[No]:void 0;return"number"==typeof o?o>=0?255&o:Cm:o}(s);if("function"==typeof h){if(!Lh(o,i,l))return l&Ke.Host?fm(d,0,l):gm(o,s,l,d);try{const p=h(l);if(null!=p||l&Ke.Optional)return p;qn()}finally{m()}}else if("number"==typeof h){let p=null,f=_m(i,o),g=-1,w=l&Ke.Host?o[16][6]:null;for((-1===f||l&Ke.SkipSelf)&&(g=-1===f?Gh(i,o):o[f+8],-1!==g&&Qh(l,!1)?(p=o[1],f=Cd(g),o=vd(g,o)):f=-1);-1!==f;){const O=o[1];if(Jh(h,f,O.data)){const E=wa(f,o,s,p,l,w);if(E!==Xi)return E}g=o[f+8],-1!==g&&Qh(l,o[1].data[f+8]===w)&&Jh(h,f,o)?(p=O,f=Cd(g),o=vd(g,o)):f=-1}}return d}function wa(i,o,s,l,d,h){const p=o[1],f=p.data[i+8],O=Jc(f,p,s,null==l?zn(f)&&jh:l!=p&&0!=(3&f.type),d&Ke.Host&&h===f);return null!==O?Tr(o,p,O,f):Xi}function Jc(i,o,s,l,d){const h=i.providerIndexes,p=o.data,f=1048575&h,g=i.directiveStart,O=h>>20,U=d?f+O:i.directiveEnd;for(let X=l?f:f+O;X<U;X++){const de=p[X];if(X<g&&s===de||X>=g&&de.type===s)return X}if(d){const X=p[g];if(X&&Zn(X)&&X.type===s)return g}return null}function Tr(i,o,s,l){let d=i[s];const h=o.data;if(function gd(i){return i instanceof Wi}(d)){const p=d;p.resolving&&function ln(i,o){const s=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new ie(-200,`Circular dependency in DI detected for ${i}${s}`)}(function Ve(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ne(i)}(h[s]));const f=yd(p.canSeeViewProviders);p.resolving=!0;const g=p.injectImpl?pt(p.injectImpl):null;Lh(i,l,Ke.Default);try{d=i[s]=p.factory(void 0,h,i,l),o.firstCreatePass&&s>=l.directiveStart&&function on(i,o,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:h}=o.type.prototype;if(l){const p=Xn(o);(s.preOrderHooks||(s.preOrderHooks=[])).push(i,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(i,p)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-i,d),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(i,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(i,h))}(s,h[s],o)}finally{null!==g&&pt(g),yd(f),p.resolving=!1,m()}}return d}function Jh(i,o,s){return!!(s[o+(i>>5)]&1<<i)}function Qh(i,o){return!(i&Ke.Self||i&Ke.Host&&o)}class as{constructor(o,s){this._tNode=o,this._lView=s}get(o,s,l){return Kh(this._tNode,this._lView,o,G(l),s)}}function Cm(){return new as(fn(),Ce())}function Yh(i){return et(()=>{const o=i.prototype.constructor,s=o[In]||wd(o),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const h=d[In]||wd(d);if(h&&h!==s)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function wd(i){return ve(i)?()=>{const o=wd(xe(i));return o&&o()}:Wn(i)}function vm(i){const o=i[1],s=o.type;return 2===s?o.declTNode:1===s?i[6]:null}function Wh(i){return function Rx(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const s=i.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const h=s[d];if(Vh(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(h===o)return s[d+1];d+=2}}}return null}(fn(),i)}const Ti="__parameters__";function cs(i,o,s){return et(()=>{const l=function Qc(i){return function(...s){if(i){const l=i(...s);for(const d in l)this[d]=l[d]}}}(o);function d(...h){if(this instanceof d)return l.apply(this,h),this;const p=new d(...h);return f.annotation=p,f;function f(g,w,O){const E=g.hasOwnProperty(Ti)?g[Ti]:Object.defineProperty(g,Ti,{value:[]})[Ti];for(;E.length<=O;)E.push(null);return(E[O]=E[O]||[]).push(p),g}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Rt{constructor(o,s){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Lt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Pi(i,o){i.forEach(s=>Array.isArray(s)?Pi(s,o):o(s))}function Od(i,o,s){o>=i.length?i.push(s):i.splice(o,0,s)}function Ta(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Dr(i,o){const s=[];for(let l=0;l<i;l++)s.push(o);return s}function ni(i,o,s){let l=ds(i,o);return l>=0?i[1|l]=s:(l=~l,function Pa(i,o,s,l){let d=i.length;if(d==o)i.push(s,l);else if(1===d)i.push(l,i[0]),i[0]=s;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=s,i[o+1]=l}}(i,l,o,s)),l}function Wc(i,o){const s=ds(i,o);if(s>=0)return i[1|s]}function ds(i,o){return function Td(i,o,s){let l=0,d=i.length>>s;for(;d!==l;){const h=l+(d-l>>1),p=i[h<<s];if(o===p)return h<<s;p>o?d=h:l=h+1}return~(d<<s)}(i,o,1)}const kd=I(cs("Optional"),8),Ea=I(cs("SkipSelf"),4);var po=(()=>((po=po||{})[po.Important=1]="Important",po[po.DashCase=2]="DashCase",po))();const up=new Map;let il=0;const gs="__ngContext__";function Tn(i,o){We(o)?(i[gs]=o[20],function Bm(i){up.set(i[20],i)}(o)):i[gs]=o}function al(i,o){return undefined(i,o)}function La(i){const o=i[3];return bn(o)?o[3]:o}function Vd(i){return cl(i[13])}function Hd(i){return cl(i[4])}function cl(i){for(;null!==i&&!bn(i);)i=i[4];return i}function Ra(i,o,s,l,d){if(null!=l){let h,p=!1;bn(l)?h=l:We(l)&&(p=!0,l=l[0]);const f=_n(l);0===i&&null!==s?null==d?Wm(o,s,f):_o(o,s,f,d||null,!0):1===i&&null!==s?_o(o,s,f,d||null,!0):2===i?function Qd(i,o,s){const l=Ba(i,o);l&&function Yx(i,o,s,l){i.removeChild(o,s,l)}(i,l,o,s)}(o,f,p):3===i&&o.destroyNode(f),null!=h&&function tC(i,o,s,l,d){const h=s[7];h!==_n(s)&&Ra(o,i,l,h,d);for(let f=10;f<s.length;f++){const g=s[f];Va(g[1],g,i,o,l,h)}}(o,i,h,s,d)}}function ms(i,o,s){return i.createElement(o,s)}function jd(i,o){const s=i[9],l=s.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,Or(d,-1)),s.splice(l,1)}function Ud(i,o){if(i.length<=10)return;const s=10+o,l=i[s];if(l){const d=l[17];null!==d&&d!==i&&jd(d,l),o>0&&(i[s-1][4]=l[4]);const h=Ta(i,10+o);!function mp(i,o){Va(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const p=h[19];null!==p&&p.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function zm(i,o){if(!(128&o[2])){const s=o[11];s.destroyNode&&Va(i,o,s,3,null,null),function Qm(i){let o=i[13];if(!o)return ll(i[1],i);for(;o;){let s=null;if(We(o))s=o[13];else{const l=o[10];l&&(s=l)}if(!s){for(;o&&!o[4]&&o!==i;)We(o)&&ll(o[1],o),o=o[3];null===o&&(o=i),We(o)&&ll(o[1],o),s=o&&o[4]}o=s}}(o)}}function ll(i,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function $d(i,o){let s;if(null!=i&&null!=(s=i.destroyHooks))for(let l=0;l<s.length;l+=2){const d=o[s[l]];if(!(d instanceof Wi)){const h=s[l+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const f=d[h[p]],g=h[p+1];try{g.call(f)}finally{}}else try{h.call(d)}finally{}}}}(i,o),function vp(i,o){const s=i.cleanup,l=o[7];let d=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const p=s[h+3];p>=0?l[d=p]():l[d=-p].unsubscribe(),h+=2}else{const p=l[d=s[h+1]];s[h].call(p)}if(null!==l){for(let h=d+1;h<l.length;h++)(0,l[h])();o[7]=null}}(i,o),1===o[1].type&&o[11].destroy();const s=o[17];if(null!==s&&bn(o[3])){s!==o[3]&&jd(s,o);const l=o[19];null!==l&&l.detachView(i)}!function hp(i){up.delete(i[20])}(o)}}function Gd(i,o,s){return function qd(i,o,s){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return s[0];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:h}=i.data[l.directiveStart+d];if(h===Vn.None||h===Vn.Emulated)return null}return jn(l,s)}}(i,o.parent,s)}function _o(i,o,s,l,d){i.insertBefore(o,s,l,d)}function Wm(i,o,s){i.appendChild(o,s)}function Xm(i,o,s,l,d){null!==l?_o(i,o,s,l,d):Wm(i,o,s)}function Ba(i,o){return i.parentNode(o)}function Kt(i,o,s){return Go(i,o,s)}let qo,Wd,Ko,Go=function Di(i,o,s){return 40&i.type?jn(i,s):null};function ki(i,o,s,l){const d=Gd(i,l,o),h=o[11],f=Kt(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(s))for(let g=0;g<s.length;g++)Xm(h,d,s[g],f,!1);else Xm(h,d,s,f,!1)}function dl(i,o){if(null!==o){const s=o.type;if(3&s)return jn(o,i);if(4&s)return Jd(-1,i[o.index]);if(8&s){const l=o.child;if(null!==l)return dl(i,l);{const d=i[o.index];return bn(d)?Jd(-1,d):_n(d)}}if(32&s)return al(o,i)()||_n(i[o.index]);{const l=yp(i,o);return null!==l?Array.isArray(l)?l[0]:dl(La(i[16]),l):dl(i,o.next)}}return null}function yp(i,o){return null!==o?i[16][6].projection[o.projection]:null}function Jd(i,o){const s=10+i+1;if(s<o.length){const l=o[s],d=l[1].firstChild;if(null!==d)return dl(l,d)}return o[7]}function Yd(i,o,s,l,d,h,p){for(;null!=s;){const f=l[s.index],g=s.type;if(p&&0===o&&(f&&Tn(_n(f),l),s.flags|=2),32!=(32&s.flags))if(8&g)Yd(i,o,s.child,l,d,h,!1),Ra(o,i,d,f,h);else if(32&g){const w=al(s,l);let O;for(;O=w();)Ra(o,i,d,O,h);Ra(o,i,d,f,h)}else 16&g?bp(i,o,l,s,d,h):Ra(o,i,d,f,h);s=p?s.projectionNext:s.next}}function Va(i,o,s,l,d,h){Yd(s,l,i.firstChild,o,d,h,!1)}function bp(i,o,s,l,d,h){const p=s[16],g=p[6].projection[l.projection];if(Array.isArray(g))for(let w=0;w<g.length;w++)Ra(o,i,d,g[w],h);else Yd(i,o,g,p[3],d,h,!0)}function xp(i,o,s){""===s?i.removeAttribute(o,"class"):i.setAttribute(o,"class",s)}function wp(i,o,s){const{mergedAttrs:l,classes:d,styles:h}=s;null!==l&&xa(i,o,l),null!==d&&xp(i,o,d),null!==h&&function iC(i,o,s){i.setAttribute(o,"style",s)}(i,o,h)}function kr(i){return function zd(){if(void 0===qo&&(qo=null,kt.trustedTypes))try{qo=kt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return qo}()?.createHTML(i)||i}function aC(i){Wd=i}function Sp(i){return function Xd(){if(void 0===Ko&&(Ko=null,kt.trustedTypes))try{Ko=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ko}()?.createHTML(i)||i}class Er{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pe})`}}class cC extends Er{getTypeName(){return"HTML"}}class lC extends Er{getTypeName(){return"Style"}}class dC extends Er{getTypeName(){return"Script"}}class uC extends Er{getTypeName(){return"URL"}}class Ha extends Er{getTypeName(){return"ResourceURL"}}function go(i){return i instanceof Er?i.changingThisBreaksApplicationSecurity:i}function Cs(i,o){const s=function hC(i){return i instanceof Er&&i.getTypeName()||null}(i);if(null!=s&&s!==o){if("ResourceURL"===s&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${s} (see ${pe})`)}return s===o}function pC(i){return new cC(i)}function _C(i){return new lC(i)}function fC(i){return new dC(i)}function gC(i){return new uC(i)}function mC(i){return new Ha(i)}class CC{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const s=(new window.DOMParser).parseFromString(kr(o),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(o):(s.removeChild(s.firstChild),s)}catch{return null}}}class vC{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(o){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=kr(o),s;const l=this.inertDocument.createElement("body");return l.innerHTML=kr(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const s=o.attributes;for(let d=s.length-1;0<d;d--){const p=s.item(d).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&o.removeAttribute(p)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const bC=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Jo(i){return(i=String(i)).match(bC)?i:"unsafe:"+i}function Ht(i){const o={};for(const s of i.split(","))o[s]=!0;return o}function to(...i){const o={};for(const s of i)for(const l in s)s.hasOwnProperty(l)&&(o[l]=!0);return o}const vs=Ht("area,br,col,hr,img,wbr"),ui=Ht("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eu=Ht("rp,rt"),ul=to(vs,to(ui,Ht("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),to(eu,Ht("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),to(eu,ui)),nu=Ht("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kp=to(nu,Ht("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ht("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ep=Ht("script,style,template");class wC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let s=o.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(o){const s=o.nodeName.toLowerCase();if(!ul.hasOwnProperty(s))return this.sanitizedSomething=!0,!Ep.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=o.attributes;for(let d=0;d<l.length;d++){const h=l.item(d),p=h.name,f=p.toLowerCase();if(!kp.hasOwnProperty(f)){this.sanitizedSomething=!0;continue}let g=h.value;nu[f]&&(g=Jo(g)),this.buf.push(" ",p,'="',iu(g),'"')}return this.buf.push(">"),!0}endElement(o){const s=o.nodeName.toLowerCase();ul.hasOwnProperty(s)&&!vs.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(o){this.buf.push(iu(o))}checkClobberedElement(o,s){if(s&&(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return s}}const MC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ip=/([^\#-~ |!])/g;function iu(i){return i.replace(/&/g,"&amp;").replace(MC,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Ip,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Za;function Fp(i,o){let s=null;try{Za=Za||function Pp(i){const o=new vC(i);return function yC(){try{return!!(new window.DOMParser).parseFromString(kr(""),"text/html")}catch{return!1}}()?new CC(o):o}(i);let l=o?String(o):"";s=Za.getInertBodyElement(l);let d=5,h=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=h,h=s.innerHTML,s=Za.getInertBodyElement(l)}while(l!==h);return kr((new wC).sanitizeChildren(ou(s)||s))}finally{if(s){const l=ou(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ou(i){return"content"in i&&function Ap(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Yt=(()=>((Yt=Yt||{})[Yt.NONE=0]="NONE",Yt[Yt.HTML=1]="HTML",Yt[Yt.STYLE=2]="STYLE",Yt[Yt.SCRIPT=3]="SCRIPT",Yt[Yt.URL=4]="URL",Yt[Yt.RESOURCE_URL=5]="RESOURCE_URL",Yt))();function Np(i){const o=ja();return o?Sp(o.sanitize(Yt.HTML,i)||""):Cs(i,"HTML")?Sp(go(i)):Fp(function Mp(){return void 0!==Wd?Wd:typeof document<"u"?document:void 0}(),ne(i))}function mo(i){const o=ja();return o?o.sanitize(Yt.URL,i)||"":Cs(i,"URL")?go(i):Jo(ne(i))}function ja(){const i=Ce();return i&&i[12]}const Vp=new Rt("ENVIRONMENT_INITIALIZER"),su=new Rt("INJECTOR",-1),au=new Rt("INJECTOR_DEF_TYPES");class cu{get(o,s=le){if(s===le){const l=new Error(`NullInjectorError: No provider for ${Ze(o)}!`);throw l.name="NullInjectorError",l}return s}}function TC(i){return{\u0275providers:i}}function $n(...i){return{\u0275providers:lu(0,i),\u0275fromNgModule:!0}}function lu(i,...o){const s=[],l=new Set;let d;return Pi(o,h=>{const p=h;Ua(p,s,[],l)&&(d||(d=[]),d.push(p))}),void 0!==d&&du(d,s),s}function du(i,o){for(let s=0;s<i.length;s++){const{providers:d}=i[s];uu(d,h=>{o.push(h)})}}function Ua(i,o,s,l){if(!(i=xe(i)))return!1;let d=null,h=Ye(i);const p=!h&&mt(i);if(h||p){if(p&&!p.standalone)return!1;d=i}else{const g=i.ngModule;if(h=Ye(g),!h)return!1;d=g}const f=l.has(d);if(p){if(f)return!1;if(l.add(d),p.dependencies){const g="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const w of g)Ua(w,o,s,l)}}else{if(!h)return!1;{if(null!=h.imports&&!f){let w;l.add(d);try{Pi(h.imports,O=>{Ua(O,o,s,l)&&(w||(w=[]),w.push(O))})}finally{}void 0!==w&&du(w,o)}if(!f){const w=Wn(d)||(()=>new d);o.push({provide:d,useFactory:w,deps:_t},{provide:au,useValue:d,multi:!0},{provide:Vp,useValue:()=>It(d),multi:!0})}const g=h.providers;null==g||f||uu(g,O=>{o.push(O)})}}return d!==i&&void 0!==i.providers}function uu(i,o){for(let s of i)q(s)&&(s=s.\u0275providers),Array.isArray(s)?uu(s,o):o(s)}const _l=we({provide:String,useValue:we});function Co(i){return null!==i&&"object"==typeof i&&_l in i}function yo(i){return"function"==typeof i}const gl=new Rt("Set Injector scope."),$a={},Hp={};let ml;function Ir(){return void 0===ml&&(ml=new cu),ml}class Fr{}class Zp extends Fr{get destroyed(){return this._destroyed}constructor(o,s,l,d){super(),this.parent=s,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mt(o,p=>this.processProvider(p)),this.records.set(su,Ar(void 0,this)),d.has("environment")&&this.records.set(Fr,Ar(void 0,this));const h=this.records.get(gl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(au.multi,_t,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const s=it(this),l=pt(void 0);try{return o()}finally{it(s),pt(l)}}get(o,s=le,l=Ke.Default){this.assertNotDestroyed(),l=G(l);const d=it(this),h=pt(void 0);try{if(!(l&Ke.SkipSelf)){let f=this.records.get(o);if(void 0===f){const g=function $p(i){return"function"==typeof i||"object"==typeof i&&i instanceof Rt}(o)&&wi(o);f=g&&this.injectableDefInScope(g)?Ar(hu(o),$a):null,this.records.set(o,f)}if(null!=f)return this.hydrate(o,f)}return(l&Ke.Self?Ir():this.parent).get(o,s=l&Ke.Optional&&s===le?null:s)}catch(p){if("NullInjectorError"===p.name){if((p[$]=p[$]||[]).unshift(Ze(o)),d)throw p;return function he(i,o,s,l){const d=i[$];throw o[gt]&&d.unshift(o[gt]),i.message=function Ue(i,o,s,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=Ze(o);if(Array.isArray(o))d=o.map(Ze).join(" -> ");else if("object"==typeof o){let h=[];for(let p in o)if(o.hasOwnProperty(p)){let f=o[p];h.push(p+":"+("string"==typeof f?JSON.stringify(f):Ze(f)))}d=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${i.replace(me,"\n  ")}`}("\n"+i.message,d,s,l),i.ngTokenPath=d,i[$]=null,i}(p,o,"R3InjectorError",this.source)}throw p}finally{pt(h),it(d)}}resolveInjectorInitializers(){const o=it(this),s=pt(void 0);try{const l=this.get(Vp.multi,_t,Ke.Self);for(const d of l)d()}finally{it(o),pt(s)}}toString(){const o=[],s=this.records;for(const l of s.keys())o.push(Ze(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(o){let s=yo(o=xe(o))?o:xe(o&&o.provide);const l=function ri(i){return Co(i)?Ar(void 0,i.useValue):Ar(Up(i),$a)}(o);if(yo(o)||!0!==o.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=Ar(void 0,$a,!0),d.factory=()=>R(d.multi),this.records.set(s,d)),s=o,d.multi.push(o)}this.records.set(s,l)}hydrate(o,s){return s.value===$a&&(s.value=Hp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function DC(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(o){if(!o.providedIn)return!1;const s=xe(o.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function hu(i){const o=wi(i),s=null!==o?o.factory:Wn(i);if(null!==s)return s;if(i instanceof Rt)throw new ie(204,!1);if(i instanceof Function)return function jp(i){const o=i.length;if(o>0)throw Dr(o,"?"),new ie(204,!1);const s=function _r(i){const o=i&&(i[Re]||i[Cn]);if(o){const s=function Zt(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),o}return null}(i);return null!==s?()=>s.factory(i):()=>new i}(i);throw new ie(204,!1)}function Up(i,o,s){let l;if(yo(i)){const d=xe(i);return Wn(d)||hu(d)}if(Co(i))l=()=>xe(i.useValue);else if(function fl(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...R(i.deps||[]));else if(function vo(i){return!(!i||!i.useExisting)}(i))l=()=>It(xe(i.useExisting));else{const d=xe(i&&(i.useClass||i.provide));if(!function wn(i){return!!i.deps}(i))return Wn(d)||hu(d);l=()=>new d(...R(i.deps))}return l}function Ar(i,o,s=!1){return{factory:i,value:o,multi:s?[]:void 0}}function Mt(i,o){for(const s of i)Array.isArray(s)?Mt(s,o):s&&q(s)?Mt(s.\u0275providers,o):o(s)}class Gp{}class pu{}class Ga{resolveComponentFactory(o){throw function _u(i){const o=Error(`No component factory found for ${Ze(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let Nr=(()=>{class i{}return i.NULL=new Ga,i})();function gu(){return Lr(fn(),Ce())}function Lr(i,o){return new Rr(jn(i,o))}let Rr=(()=>{class i{constructor(s){this.nativeElement=s}}return i.__NG_ELEMENT_ID__=gu,i})();function qp(i){return i instanceof Rr?i.nativeElement:i}class Kp{}let Jp=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function kC(){const i=Ce(),s=T(fn().index,i);return(We(s)?s:i)[11]}(),i})(),EC=(()=>{class i{}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:()=>null}),i})();class Qp{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const IC=new Qp("15.1.0"),Cl={};function vl(i){return i.ngOriginalError}class Br{constructor(){this._console=console}handleError(o){const s=this._findOriginalError(o);this._console.error("ERROR",o),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(o){let s=o&&vl(o);for(;s&&vl(s);)s=vl(s);return s||null}}function Wp(i){return i.ownerDocument.defaultView}function bs(i,o,s){let l=i.length;for(;;){const d=i.indexOf(o,s);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=o.length;if(d+h===l||i.charCodeAt(d+h)<=32)return d}s=d+1}}const bl="ng-template";function Ka(i,o,s){let l=0;for(;l<i.length;){let d=i[l++];if(s&&"class"===d){if(d=i[l],-1!==bs(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Cu(i){return 4===i.type&&i.value!==bl}function vu(i,o,s){return o===(4!==i.type||s?i.value:bl)}function si(i,o,s){let l=4;const d=i.attrs||[],h=function yu(i){for(let o=0;o<i.length;o++)if(Vh(i[o]))return o;return i.length}(d);let p=!1;for(let f=0;f<o.length;f++){const g=o[f];if("number"!=typeof g){if(!p)if(4&l){if(l=2|1&l,""!==g&&!vu(i,g,s)||""===g&&1===o.length){if(Ei(l))return!1;p=!0}}else{const w=8&l?g:o[++f];if(8&l&&null!==i.attrs){if(!Ka(i.attrs,w,s)){if(Ei(l))return!1;p=!0}continue}const E=o_(8&l?"class":g,d,Cu(i),s);if(-1===E){if(Ei(l))return!1;p=!0;continue}if(""!==w){let U;U=E>h?"":d[E+1].toLowerCase();const X=8&l?U:null;if(X&&-1!==bs(X,w,0)||2&l&&w!==U){if(Ei(l))return!1;p=!0}}}}else{if(!p&&!Ei(l)&&!Ei(g))return!1;if(p&&Ei(g))continue;p=!1,l=g|1&l}}return Ei(l)||p}function Ei(i){return 0==(1&i)}function o_(i,o,s,l){if(null===o)return-1;let d=0;if(l||!s){let h=!1;for(;d<o.length;){const p=o[d];if(p===i)return d;if(3===p||6===p)h=!0;else{if(1===p||2===p){let f=o[++d];for(;"string"==typeof f;)f=o[++d];continue}if(4===p)break;if(0===p){d+=4;continue}}d+=h?1:2}return-1}return function Ja(i,o){let s=i.indexOf(4);if(s>-1)for(s++;s<i.length;){const l=i[s];if("number"==typeof l)return-1;if(l===o)return s;s++}return-1}(o,i)}function r_(i,o,s=!1){for(let l=0;l<o.length;l++)if(si(i,o[l],s))return!0;return!1}function s_(i,o){e:for(let s=0;s<o.length;s++){const l=o[s];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function bu(i,o){return i?":not("+o.trim()+")":o}function RC(i){let o=i[0],s=1,l=2,d="",h=!1;for(;s<i.length;){let p=i[s];if("string"==typeof p)if(2&l){const f=i[++s];d+="["+p+(f.length>0?'="'+f+'"':"")+"]"}else 8&l?d+="."+p:4&l&&(d+=" "+p);else""!==d&&!Ei(p)&&(o+=bu(h,d),d=""),l=p,h=h||!Ei(l);s++}return""!==d&&(o+=bu(h,d)),o}const rt={};function xl(i){a_(lt(),Ce(),N()+i,!1)}function a_(i,o,s,l){if(!l)if(3==(3&o[2])){const h=i.preOrderCheckHooks;null!==h&&qt(o,h,s)}else{const h=i.preOrderHooks;null!==h&&Oi(o,h,0,s)}oe(s)}function Ml(i,o=null,s=null,l){const d=Qa(i,o,s,l);return d.resolveInjectorInitializers(),d}function Qa(i,o=null,s=null,l,d=new Set){const h=[s||_t,$n(i)];return l=l||("object"==typeof i?void 0:Ze(i)),new Zp(h,o||Ir(),l||null,d)}let Yo=(()=>{class i{static create(s,l){if(Array.isArray(s))return Ml({name:""},l,s,"");{const d=s.name??"";return Ml({name:d},s.parent,s.providers,d)}}}return i.THROW_IF_NOT_FOUND=le,i.NULL=new cu,i.\u0275prov=Lt({token:i,providedIn:"any",factory:()=>It(su)}),i.__NG_ELEMENT_ID__=-1,i})();function Vr(i,o=Ke.Default){const s=Ce();return null===s?It(i,o):Kh(fn(),s,xe(i),o)}function Mu(){throw new Error("invalid")}function v_(i,o){const s=i.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l+1];if(-1!==h){const p=i.data[h];qc(s[l]),p.contentQueries(2,o[h],h)}}}function Hr(i,o,s,l,d,h,p,f,g,w,O){const E=o.blueprint.slice();return E[0]=d,E[2]=76|l,(null!==O||i&&1024&i[2])&&(E[2]|=1024),Sr(E),E[3]=E[15]=i,E[8]=s,E[10]=p||i&&i[10],E[11]=f||i&&i[11],E[12]=g||i&&i[12]||null,E[9]=w||i&&i[9]||null,E[6]=h,E[20]=function Rm(){return il++}(),E[21]=O,E[16]=2==o.type?i[16]:E,E}function ws(i,o,s,l,d){let h=i.data[o];if(null===h)h=function Ou(i,o,s,l,d){const h=$c(),p=Gc(),g=i.data[o]=function XC(i,o,s,l,d,h){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,s,o,l,d);return null===i.firstChild&&(i.firstChild=g),null!==h&&(p?null==h.child&&null!==g.parent&&(h.child=g):null===h.next&&(h.next=g)),g}(i,o,s,l,d),function cm(){return ot.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=l,h.attrs=d;const p=function Ca(){const i=ot.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return Qi(h,!0),h}function Ms(i,o,s,l){if(0===s)return-1;const d=o.length;for(let h=0;h<s;h++)o.push(l),i.blueprint.push(l),i.data.push(null);return d}function Dl(i,o,s){fd(o);try{const l=i.viewQuery;null!==l&&er(1,l,s);const d=i.template;null!==d&&Wa(i,o,d,1,s),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&v_(i,o),i.staticViewQueries&&er(2,i.viewQuery,s);const h=i.components;null!==h&&function YC(i,o){for(let s=0;s<o.length;s++)ic(i,o[s])}(o,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[2]&=-5,M()}}function kl(i,o,s,l){const d=o[2];if(128!=(128&d)){fd(o);try{Sr(o),function pd(i){return ot.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==s&&Wa(i,o,s,2,l);const p=3==(3&d);if(p){const w=i.preOrderCheckHooks;null!==w&&qt(o,w,null)}else{const w=i.preOrderHooks;null!==w&&Oi(o,w,0,null),ti(o,0)}if(function av(i){for(let o=Vd(i);null!==o;o=Hd(o)){if(!o[2])continue;const s=o[9];for(let l=0;l<s.length;l++){const d=s[l];512&d[2]||Or(d[3],1),d[2]|=512}}}(o),function sv(i){for(let o=Vd(i);null!==o;o=Hd(o))for(let s=10;s<o.length;s++){const l=o[s],d=l[1];Ee(l)&&kl(d,l,d.template,l[8])}}(o),null!==i.contentQueries&&v_(i,o),p){const w=i.contentCheckHooks;null!==w&&qt(o,w)}else{const w=i.contentHooks;null!==w&&Oi(o,w,1),ti(o,1)}!function So(i,o){const s=i.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)oe(~d);else{const h=d,p=s[++l],f=s[++l];Ah(p,h),f(2,o[h])}}}finally{oe(-1)}}(i,o);const f=i.components;null!==f&&function Su(i,o){for(let s=0;s<o.length;s++)cv(i,o[s])}(o,f);const g=i.viewQuery;if(null!==g&&er(2,g,l),p){const w=i.viewCheckHooks;null!==w&&qt(o,w)}else{const w=i.viewHooks;null!==w&&Oi(o,w,2),ti(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Or(o[3],-1))}finally{M()}}}function Wa(i,o,s,l,d){const h=N(),p=2&l;try{oe(-1),p&&o.length>22&&a_(i,o,22,!1),s(l,d)}finally{oe(h)}}function Ss(i,o,s){if(mi(o)){const d=o.directiveEnd;for(let h=o.directiveStart;h<d;h++){const p=i.data[h];p.contentQueries&&p.contentQueries(1,s[h],h)}}}function Tu(i,o,s){ma()&&(function nv(i,o,s,l){const d=s.directiveStart,h=s.directiveEnd;zn(s)&&function Os(i,o,s){const l=jn(o,i),d=y_(s),h=i[10],p=Al(i,Hr(i,d,null,s.onPush?32:16,l,o,h,h.createRenderer(l,s),null,null,null));i[o.index]=p}(o,s,i.data[d+s.componentOffset]),i.firstCreatePass||bd(s,o),Tn(l,o);const p=s.initialInputs;for(let f=d;f<h;f++){const g=i.data[f],w=Tr(o,i,f,s);Tn(w,o),null!==p&&tc(0,f-d,w,g,0,p),Zn(g)&&(T(s.index,o)[8]=Tr(o,i,f,s))}}(i,o,s,jn(s,o)),64==(64&s.flags)&&M_(i,o,s))}function Pu(i,o,s=jn){const l=o.localNames;if(null!==l){let d=o.index+1;for(let h=0;h<l.length;h+=2){const p=l[h+1],f=-1===p?s(o,i):i[p];i[d++]=f}}}function y_(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Du(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function Du(i,o,s,l,d,h,p,f,g,w){const O=22+l,E=O+d,U=function zC(i,o){const s=[];for(let l=0;l<o;l++)s.push(l<i?null:rt);return s}(O,E),X="function"==typeof w?w():w;return U[1]={type:i,blueprint:U,template:s,queries:null,viewQuery:f,declTNode:o,data:U.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:g,consts:X,incompleteFirstPass:!1}}function ku(i,o,s,l){const d=Au(o);null===s?d.push(l):(d.push(s),i.firstCreatePass&&Ts(i).push(l,d.length-1))}function Eu(i,o,s,l){for(let d in i)if(i.hasOwnProperty(d)){s=null===s?{}:s;const h=i[d];null===l?El(s,o,d,h):l.hasOwnProperty(d)&&El(s,o,l[d],h)}return s}function El(i,o,s,l){i.hasOwnProperty(s)?i[s].push(o,l):i[s]=[o,l]}function pi(i,o,s,l,d,h,p,f){const g=jn(o,s);let O,w=o.inputs;!f&&null!=w&&(O=w[l])?(Nu(i,s,O,l,d),zn(o)&&b_(s,o.index)):3&o.type&&(l=function ev(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=p?p(d,o.value||"",l):d,h.setProperty(g,l,d))}function b_(i,o){const s=T(o,i);16&s[2]||(s[2]|=32)}function Xa(i,o,s,l){let d=!1;if(ma()){const h=null===l?null:{"":-1},p=function ov(i,o){const s=i.directiveRegistry;let l=null,d=null;if(s)for(let h=0;h<s.length;h++){const p=s[h];if(r_(o,p.selectors,!1))if(l||(l=[]),Zn(p))if(null!==p.findHostDirectiveDefs){const f=[];d=d||new Map,p.findHostDirectiveDefs(p,f,d),l.unshift(...f,p),ec(i,o,f.length)}else l.unshift(p),ec(i,o,0);else d=d||new Map,p.findHostDirectiveDefs?.(p,l,d),l.push(p)}return null===l?null:[l,d]}(i,s);let f,g;null===p?f=g=null:[f,g]=p,null!==f&&(d=!0,w_(i,o,s,f,h,g)),h&&function S_(i,o,s){if(o){const l=i.localNames=[];for(let d=0;d<o.length;d+=2){const h=s[o[d+1]];if(null==h)throw new ie(-301,!1);l.push(o[d],h)}}}(s,l,h)}return s.mergedAttrs=ss(s.mergedAttrs,s.attrs),d}function w_(i,o,s,l,d,h){for(let w=0;w<l.length;w++)qh(bd(s,o),i,l[w].type);!function O_(i,o,s){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+s,i.providerIndexes=o}(s,i.data.length,l.length);for(let w=0;w<l.length;w++){const O=l[w];O.providersResolver&&O.providersResolver(O)}let p=!1,f=!1,g=Ms(i,o,l.length,null);for(let w=0;w<l.length;w++){const O=l[w];s.mergedAttrs=ss(s.mergedAttrs,O.hostAttrs),rw(i,s,o,g,O),rv(g,O,d),null!==O.contentQueries&&(s.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(s.flags|=64);const E=O.type.prototype;!p&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(s.index),p=!0),!f&&(E.ngOnChanges||E.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(s.index),f=!0),g++}!function Il(i,o,s){const d=o.directiveEnd,h=i.data,p=o.attrs,f=[];let g=null,w=null;for(let O=o.directiveStart;O<d;O++){const E=h[O],U=s?s.get(E):null,de=U?U.outputs:null;g=Eu(E.inputs,O,g,U?U.inputs:null),w=Eu(E.outputs,O,w,de);const Te=null===g||null===p||Cu(o)?null:Fl(g,O,p);f.push(Te)}null!==g&&(g.hasOwnProperty("class")&&(o.flags|=8),g.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=f,o.inputs=g,o.outputs=w}(i,s,h)}function M_(i,o,s){const l=s.directiveStart,d=s.directiveEnd,h=s.index,p=function Nh(){return ot.lFrame.currentDirectiveIndex}();try{oe(h);for(let f=l;f<d;f++){const g=i.data[f],w=o[f];ya(f),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&iv(g,w)}}finally{oe(-1),ya(p)}}function iv(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function ec(i,o,s){o.componentOffset=s,(i.components||(i.components=[])).push(o.index)}function rv(i,o,s){if(s){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)s[o.exportAs[l]]=i;Zn(o)&&(s[""]=i)}}function rw(i,o,s,l,d){i.data[l]=d;const h=d.factory||(d.factory=Wn(d.type)),p=new Wi(h,Zn(d),Vr);i.blueprint[l]=p,s[l]=p,function tv(i,o,s,l,d){const h=d.hostBindings;if(h){let p=i.hostBindingOpCodes;null===p&&(p=i.hostBindingOpCodes=[]);const f=~o.index;(function Iu(i){let o=i.length;for(;o>0;){const s=i[--o];if("number"==typeof s&&s<0)return s}return 0})(p)!=f&&p.push(f),p.push(s,l,h)}}(i,o,l,Ms(i,s,d.hostVars,rt),d)}function rn(i,o,s,l,d,h){const p=jn(i,o);!function Wo(i,o,s,l,d,h,p){if(null==h)i.removeAttribute(o,d,s);else{const f=null==p?ne(h):p(h,l||"",d);i.setAttribute(o,d,f,s)}}(o[11],p,h,i.value,s,l,d)}function tc(i,o,s,l,d,h){const p=h[o];if(null!==p){const f=l.setInput;for(let g=0;g<p.length;){const w=p[g++],O=p[g++],E=p[g++];null!==f?l.setInput(s,E,w,O):s[O]=E}}}function Fl(i,o,s){let l=null,d=0;for(;d<s.length;){const h=s[d];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===l&&(l=[]);const p=i[h];for(let f=0;f<p.length;f+=2)if(p[f]===o){l.push(h,p[f+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Oo(i,o,s,l){return[i,!0,!1,o,null,0,l,s,null,null]}function cv(i,o){const s=T(o,i);if(Ee(s)){const l=s[1];48&s[2]?kl(l,s,l.template,s[8]):s[5]>0&&nc(s)}}function nc(i){for(let l=Vd(i);null!==l;l=Hd(l))for(let d=10;d<l.length;d++){const h=l[d];if(Ee(h))if(512&h[2]){const p=h[1];kl(p,h,p.template,h[8])}else h[5]>0&&nc(h)}const s=i[1].components;if(null!==s)for(let l=0;l<s.length;l++){const d=T(s[l],i);Ee(d)&&d[5]>0&&nc(d)}}function ic(i,o){const s=T(o,i),l=s[1];(function lv(i,o){for(let s=o.length;s<i.blueprint.length;s++)o.push(i.blueprint[s])})(l,s),Dl(l,s,s[8])}function Al(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function Fu(i){for(;i;){i[2]|=32;const o=La(i);if(ca(i)&&!o)return i;i=o}return null}function Xo(i,o,s,l=!0){const d=o[10];d.begin&&d.begin();try{kl(i,o,i.template,s)}catch(p){throw l&&P_(o,p),p}finally{d.end&&d.end()}}function er(i,o,s){qc(0),o(i,s)}function Au(i){return i[7]||(i[7]=[])}function Ts(i){return i.cleanup||(i.cleanup=[])}function P_(i,o){const s=i[9],l=s?s.get(Br,null):null;l&&l.handleError(o)}function Nu(i,o,s,l,d){for(let h=0;h<s.length;){const p=s[h++],f=s[h++],g=o[p],w=i.data[p];null!==w.setInput?w.setInput(g,d,l,f):g[f]=d}}function To(i,o,s){const l=os(o,i);!function qm(i,o,s){i.setValue(o,s)}(i[11],l,s)}function Ll(i,o,s){let l=s?i.styles:null,d=s?i.classes:null,h=0;if(null!==o)for(let p=0;p<o.length;p++){const f=o[p];"number"==typeof f?h=f:1==h?d=bt(d,f):2==h&&(l=bt(l,f+": "+o[++p]+";"))}s?i.styles=l:i.stylesWithoutHost=l,s?i.classes=d:i.classesWithoutHost=d}function oc(i,o,s,l,d=!1){for(;null!==s;){const h=o[s.index];if(null!==h&&l.push(_n(h)),bn(h))for(let f=10;f<h.length;f++){const g=h[f],w=g[1].firstChild;null!==w&&oc(g[1],g,w,l)}const p=s.type;if(8&p)oc(i,o,s.child,l);else if(32&p){const f=al(s,o);let g;for(;g=f();)l.push(g)}else if(16&p){const f=yp(o,s);if(Array.isArray(f))l.push(...f);else{const g=La(o[16]);oc(g[1],g,f,l,!0)}}s=d?s.projectionNext:s.next}return l}class Po{get rootNodes(){const o=this._lView,s=o[1];return oc(s,o,s.firstChild,[])}constructor(o,s){this._lView=o,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(bn(o)){const s=o[8],l=s?s.indexOf(this):-1;l>-1&&(Ud(o,l),Ta(s,l))}this._attachedToViewContainer=!1}zm(this._lView[1],this._lView)}onDestroy(o){ku(this._lView[1],this._lView,null,o)}markForCheck(){Fu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Xo(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jm(i,o){Va(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=o}}class Do extends Po{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Xo(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class D_ extends Nr{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const s=mt(o);return new rc(s,this.ngModule)}}function k_(i){const o=[];for(let s in i)i.hasOwnProperty(s)&&o.push({propName:i[s],templateName:s});return o}class uv{constructor(o,s){this.injector=o,this.parentInjector=s}get(o,s,l){l=G(l);const d=this.injector.get(o,Cl,l);return d!==Cl||s===Cl?d:this.parentInjector.get(o,s,l)}}class rc extends pu{get inputs(){return k_(this.componentDef.inputs)}get outputs(){return k_(this.componentDef.outputs)}constructor(o,s){super(),this.componentDef=o,this.ngModule=s,this.componentType=o.type,this.selector=function BC(i){return i.map(RC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!s}create(o,s,l,d){let h=(d=d||this.ngModule)instanceof Fr?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const p=h?new uv(o,h):o,f=p.get(Kp,null);if(null===f)throw new ie(407,!1);const g=p.get(EC,null),w=f.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",E=l?function WC(i,o,s){return i.selectRootElement(o,s===Vn.ShadowDom)}(w,l,this.componentDef.encapsulation):ms(w,O,function dv(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),U=this.componentDef.onPush?288:272,X=Du(0,null,null,1,0,null,null,null,null,null),de=Hr(null,X,null,U,null,null,f,w,g,p,null);let Te,Ie;fd(de);try{const He=this.componentDef;let tt,be=null;He.findHostDirectiveDefs?(tt=[],be=new Map,He.findHostDirectiveDefs(He,tt,be),tt.push(He)):tt=[He];const ct=function pv(i,o){const s=i[1];return i[22]=o,ws(s,22,2,"#host",null)}(de,E),Wt=function _v(i,o,s,l,d,h,p,f){const g=d[1];!function Ps(i,o,s,l){for(const d of i)o.mergedAttrs=ss(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Ll(o,o.mergedAttrs,!0),null!==s&&wp(l,s,o))}(l,i,o,p);const w=h.createRenderer(o,s),O=Hr(d,y_(s),null,s.onPush?32:16,d[i.index],i,h,w,f||null,null,null);return g.firstCreatePass&&ec(g,i,l.length-1),Al(d,O),d[i.index]=O}(ct,E,He,tt,de,f,w);Ie=y(X,22),E&&function gv(i,o,s,l){if(l)xa(i,s,["ng-version",IC.full]);else{const{attrs:d,classes:h}=function VC(i){const o=[],s=[];let l=1,d=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===d?""!==h&&o.push(h,i[++l]):8===d&&s.push(h);else{if(!Ei(d))break;d=h}l++}return{attrs:o,classes:s}}(o.selectors[0]);d&&xa(i,s,d),h&&h.length>0&&xp(i,s,h.join(" "))}}(w,He,E,l),void 0!==s&&function sc(i,o,s){const l=i.projection=[];for(let d=0;d<o.length;d++){const h=s[d];l.push(null!=h?Array.from(h):null)}}(Ie,this.ngContentSelectors,s),Te=function fv(i,o,s,l,d,h){const p=fn(),f=d[1],g=jn(p,d);w_(f,d,p,s,null,l);for(let O=0;O<s.length;O++)Tn(Tr(d,f,p.directiveStart+O,p),d);M_(f,d,p),g&&Tn(g,d);const w=Tr(d,f,p.directiveStart+p.componentOffset,p);if(i[8]=d[8]=w,null!==h)for(const O of h)O(w,o);return Ss(f,p,i),w}(Wt,He,tt,be,de,[mv]),Dl(X,de,null)}finally{M()}return new hv(this.componentType,Te,Lr(Ie,de),de,Ie)}}class hv extends Gp{constructor(o,s,l,d,h){super(),this.location=l,this._rootLView=d,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Do(d),this.componentType=o}setInput(o,s){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const h=this._rootLView;Nu(h[1],h,d,o,s),b_(h,this._tNode.index)}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function mv(){const i=fn();Dt(Ce()[1],i)}function Zr(i){let o=function E_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),s=!0;const l=[i];for(;o;){let d;if(Zn(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ie(903,!1);d=o.\u0275dir}if(d){if(s){l.push(d);const p=i;p.inputs=tr(i.inputs),p.declaredInputs=tr(i.declaredInputs),p.outputs=tr(i.outputs);const f=d.hostBindings;f&&Ds(i,f);const g=d.viewQuery,w=d.contentQueries;if(g&&Cv(i,g),w&&cc(i,w),Ae(i.inputs,d.inputs),Ae(i.declaredInputs,d.declaredInputs),Ae(i.outputs,d.outputs),Zn(d)&&d.data.animation){const O=i.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let p=0;p<h.length;p++){const f=h[p];f&&f.ngInherit&&f(i),f===Zr&&(s=!1)}}o=Object.getPrototypeOf(o)}!function ac(i){let o=0,s=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=o+=d.hostVars,d.hostAttrs=ss(d.hostAttrs,s=ss(s,d.hostAttrs))}}(l)}function tr(i){return i===ai?{}:i===_t?[]:i}function Cv(i,o){const s=i.viewQuery;i.viewQuery=s?(l,d)=>{o(l,d),s(l,d)}:o}function cc(i,o){const s=i.contentQueries;i.contentQueries=s?(l,d,h)=>{o(l,d,h),s(l,d,h)}:o}function Ds(i,o){const s=i.hostBindings;i.hostBindings=s?(l,d)=>{o(l,d),s(l,d)}:o}let Rl=null;function Ur(){if(!Rl){const i=kt.Symbol;if(i&&i.iterator)Rl=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<o.length;++s){const l=o[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Rl=l)}}}return Rl}function dc(i){return!!Ru(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ur()in i)}function Ru(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function io(i,o,s){return i[o]=s}function Nn(i,o,s){return!Object.is(i[o],s)&&(i[o]=s,!0)}function Ii(i,o,s,l){const d=Nn(i,o,s);return Nn(i,o+1,l)||d}function Bl(i,o,s,l,d){const h=Ii(i,o,s,l);return Nn(i,o+2,d)||h}function Bu(i,o,s,l){const d=Ce();return Nn(d,rs(),o)&&(lt(),rn(ae(),d,i,o,s,l)),Bu}function Fs(i,o,s,l){return Nn(i,rs(),s)?o+ne(s)+l:rt}function As(i,o,s,l,d,h){const f=Ii(i,Yi(),s,d);return ho(2),f?o+ne(s)+l+ne(d)+h:rt}function Ns(i,o,s,l,d,h,p,f){const w=Bl(i,Yi(),s,d,p);return ho(3),w?o+ne(s)+l+ne(d)+h+ne(p)+f:rt}function Vu(i,o,s,l,d,h){const p=Ce(),f=Fs(p,o,s,l);return f!==rt&&rn(ae(),p,i,f,d,h),Vu}function or(i,o,s,l,d,h,p,f){const g=Ce(),w=lt(),O=i+22,E=w.firstCreatePass?function $e(i,o,s,l,d,h,p,f,g){const w=o.consts,O=ws(o,i,4,p||null,xn(w,f));Xa(o,s,O,xn(w,g)),Dt(o,O);const E=O.tViews=Du(2,O,l,d,h,o.directiveRegistry,o.pipeRegistry,null,o.schemas,w);return null!==o.queries&&(o.queries.template(o,O),E.queries=o.queries.embeddedTView(O)),O}(O,w,g,o,s,l,d,h,p):w.data[O];Qi(E,!1);const U=g[11].createComment("");ki(w,g,U,E),Tn(U,g),Al(g,g[O]=Oo(U,g,U,E)),qi(E)&&Tu(w,g,E),null!=p&&Pu(g,E,f)}function Vl(i,o,s){const l=Ce();return Nn(l,rs(),o)&&pi(lt(),ae(),l,i,o,l[11],s,!1),Vl}function Dn(i,o,s,l,d){const p=d?"class":"style";Nu(i,s,o.inputs[p],p,l)}function Hl(i,o,s,l){const d=Ce(),h=lt(),p=22+i,f=d[11],g=d[p]=ms(f,o,function ht(){return ot.lFrame.currentNamespace}()),w=h.firstCreatePass?function wv(i,o,s,l,d,h,p){const f=o.consts,w=ws(o,i,2,d,xn(f,h));return Xa(o,s,w,xn(f,p)),null!==w.attrs&&Ll(w,w.attrs,!1),null!==w.mergedAttrs&&Ll(w,w.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,d,0,o,s,l):h.data[p];return Qi(w,!0),wp(f,g,w),32!=(32&w.flags)&&ki(h,d,g,w),0===function rm(){return ot.lFrame.elementDepthCount}()&&Tn(g,d),function sm(){ot.lFrame.elementDepthCount++}(),qi(w)&&(Tu(h,d,w),Ss(h,w,d)),null!==l&&Pu(d,w),Hl}function Zl(){let i=fn();Gc()?va():(i=i.parent,Qi(i,!1));const o=i;!function Dh(){ot.lFrame.elementDepthCount--}();const s=lt();return s.firstCreatePass&&(Dt(s,i),mi(i)&&s.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Ex(i){return 0!=(8&i.flags)}(o)&&Dn(s,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function dm(i){return 0!=(16&i.flags)}(o)&&Dn(s,o,Ce(),o.stylesWithoutHost,!1),Zl}function rr(i,o,s,l){return Hl(i,o,s,l),Zl(),rr}function Us(i,o,s){const l=Ce(),d=lt(),h=i+22,p=d.firstCreatePass?function Fi(i,o,s,l,d){const h=o.consts,p=xn(h,l),f=ws(o,i,8,"ng-container",p);return null!==p&&Ll(f,p,!0),Xa(o,s,f,xn(h,d)),null!==o.queries&&o.queries.elementStart(o,f),f}(h,d,l,o,s):d.data[h];Qi(p,!0);const f=l[h]=l[11].createComment("");return ki(d,l,f,p),Tn(f,l),qi(p)&&(Tu(d,l,p),Ss(d,p,l)),null!=s&&Pu(l,p),Us}function $s(){let i=fn();const o=lt();return Gc()?va():(i=i.parent,Qi(i,!1)),o.firstCreatePass&&(Dt(o,i),mi(i)&&o.queries.elementEnd(i)),$s}function ko(){return Ce()}function Hu(i){return!!i&&"function"==typeof i.then}function N_(i){return!!i&&"function"==typeof i.subscribe}const L_=N_;function Zu(i,o,s,l){const d=Ce(),h=lt(),p=fn();return function B_(i,o,s,l,d,h,p){const f=qi(l),w=i.firstCreatePass&&Ts(i),O=o[8],E=Au(o);let U=!0;if(3&l.type||p){const Te=jn(l,o),Ie=p?p(Te):Te,He=E.length,tt=p?ct=>p(_n(ct[l.index])):l.index;let be=null;if(!p&&f&&(be=function Mv(i,o,s,l){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const p=d[h];if(p===s&&d[h+1]===l){const f=o[7],g=d[h+2];return f.length>g?f[g]:null}"string"==typeof p&&(h+=2)}return null}(i,o,d,l.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=h,be.__ngLastListenerFn__=h,U=!1;else{h=ju(l,o,O,h,!1);const ct=s.listen(Ie,d,h);E.push(h,ct),w&&w.push(d,tt,He,He+1)}}else h=ju(l,o,O,h,!1);const X=l.outputs;let de;if(U&&null!==X&&(de=X[d])){const Te=de.length;if(Te)for(let Ie=0;Ie<Te;Ie+=2){const Wt=o[de[Ie]][de[Ie+1]].subscribe(h),mn=E.length;E.push(h,Wt),w&&w.push(d,l.index,mn,-(mn+1))}}}(h,d,d[11],p,i,o,l),Zu}function V_(i,o,s,l){try{return!1!==s(l)}catch(d){return P_(i,d),!1}}function ju(i,o,s,l,d){return function h(p){if(p===Function)return l;Fu(i.componentOffset>-1?T(i.index,o):o);let g=V_(o,0,l,p),w=h.__ngNextListenerFn__;for(;w;)g=V_(o,0,w,p)&&g,w=w.__ngNextListenerFn__;return d&&!1===g&&(p.preventDefault(),p.returnValue=!1),g}}function H_(i=1){return function b(i){return(ot.lFrame.contextLView=function P(i,o){for(;i>0;)o=o[15],i--;return o}(i,ot.lFrame.contextLView))[8]}(i)}function Sv(i,o){let s=null;const l=function LC(i){const o=i.attrs;if(null!=o){const s=o.indexOf(5);if(!(1&s))return o[s+1]}return null}(i);for(let d=0;d<o.length;d++){const h=o[d];if("*"!==h){if(null===l?r_(i,h,!0):s_(l,h))return d}else s=d}return s}function Z_(i){const o=Ce()[16][6];if(!o.projection){const l=o.projection=Dr(i?i.length:1,null),d=l.slice();let h=o.child;for(;null!==h;){const p=i?Sv(h,i):0;null!==p&&(d[p]?d[p].projectionNext=h:l[p]=h,d[p]=h),h=h.next}}}function j_(i,o=0,s){const l=Ce(),d=lt(),h=ws(d,22+i,16,null,s||null);null===h.projection&&(h.projection=o),va(),32!=(32&h.flags)&&function eC(i,o,s){bp(o[11],0,o,s,Gd(i,s,o),Kt(s.parent||o[6],s,o))}(d,l,h)}function Uu(i,o,s){return Ul(i,"",o,"",s),Uu}function Ul(i,o,s,l,d){const h=Ce(),p=Fs(h,o,s,l);return p!==rt&&pi(lt(),ae(),h,i,p,h[11],d,!1),Ul}function $u(i,o,s,l,d,h,p){const f=Ce(),g=As(f,o,s,l,d,h);return g!==rt&&pi(lt(),ae(),f,i,g,f[11],p,!1),$u}function sr(i,o,s,l,d,h,p,f,g){const w=Ce(),O=Ns(w,o,s,l,d,h,p,f);return O!==rt&&pi(lt(),ae(),w,i,O,w[11],g,!1),sr}function ar(i,o){return i<<17|o<<2}function cr(i){return i>>17&32767}function Gu(i){return 2|i}function Gr(i){return(131068&i)>>2}function qu(i,o){return-131069&i|o<<2}function Ku(i){return 1|i}function Q_(i,o,s,l,d){const h=i[s+1],p=null===o;let f=l?cr(h):Gr(h),g=!1;for(;0!==f&&(!1===g||p);){const O=i[f+1];Ev(i[f],o)&&(g=!0,i[f+1]=l?Ku(O):Gu(O)),f=l?cr(O):Gr(O)}g&&(i[s+1]=l?Gu(h):Ku(h))}function Ev(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&ds(i,o)>=0}const an={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Y_(i){return i.substring(an.key,an.keyEnd)}function W_(i,o){const s=an.textEnd;return s===o?-1:(o=an.keyEnd=function Fv(i,o,s){for(;o<s&&i.charCodeAt(o)>32;)o++;return o}(i,an.key=o,s),Gs(i,o,s))}function Gs(i,o,s){for(;o<s&&i.charCodeAt(o)<=32;)o++;return o}function Ju(i,o){return function Ai(i,o,s,l){const d=Ce(),h=lt(),p=ho(2);h.firstUpdatePass&&cf(h,i,p,l),o!==rt&&Nn(d,p,o)&&df(h,h.data[N()],d,d[11],i,d[p+1]=function Uv(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=Ze(go(i)))),i}(o,s),l,p)}(i,o,null,!0),Ju}function Qu(i){Ni(ni,ro,i,!0)}function ro(i,o){for(let s=function z_(i){return function tf(i){an.key=0,an.keyEnd=0,an.value=0,an.valueEnd=0,an.textEnd=i.length}(i),W_(i,Gs(i,0,an.textEnd))}(o);s>=0;s=W_(o,s))ni(i,Y_(o),!0)}function Ni(i,o,s,l){const d=lt(),h=ho(2);d.firstUpdatePass&&cf(d,null,h,l);const p=Ce();if(s!==rt&&Nn(p,h,s)){const f=d.data[N()];if(hf(f,l)&&!af(d,h)){let g=l?f.classesWithoutHost:f.stylesWithoutHost;null!==g&&(s=bt(g,s||"")),Dn(d,f,p,s,l)}else!function jv(i,o,s,l,d,h,p,f){d===rt&&(d=_t);let g=0,w=0,O=0<d.length?d[0]:null,E=0<h.length?h[0]:null;for(;null!==O||null!==E;){const U=g<d.length?d[g+1]:void 0,X=w<h.length?h[w+1]:void 0;let Te,de=null;O===E?(g+=2,w+=2,U!==X&&(de=E,Te=X)):null===E||null!==O&&O<E?(g+=2,de=O):(w+=2,de=E,Te=X),null!==de&&df(i,o,s,l,de,Te,p,f),O=g<d.length?d[g]:null,E=w<h.length?h[w]:null}}(d,f,p,p[11],p[h+1],p[h+1]=function Zv(i,o,s){if(null==s||""===s)return _t;const l=[],d=go(s);if(Array.isArray(d))for(let h=0;h<d.length;h++)i(l,d[h],!0);else if("object"==typeof d)for(const h in d)d.hasOwnProperty(h)&&i(l,h,d[h]);else"string"==typeof d&&o(l,d);return l}(i,o,s),l,h)}}function af(i,o){return o>=i.expandoStartIndex}function cf(i,o,s,l){const d=i.data;if(null===d[s+1]){const h=d[N()],p=af(i,s);hf(h,l)&&null===o&&!p&&(o=!1),o=function Rv(i,o,s,l){const d=function ba(i){const o=ot.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let h=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(s=_c(s=Yu(null,i,o,s,l),o.attrs,l),h=null);else{const p=o.directiveStylingLast;if(-1===p||i[p]!==d)if(s=Yu(d,i,o,s,l),null===h){let g=function Bv(i,o,s){const l=s?o.classBindings:o.styleBindings;if(0!==Gr(l))return i[cr(l)]}(i,o,l);void 0!==g&&Array.isArray(g)&&(g=Yu(null,i,o,g[1],l),g=_c(g,o.attrs,l),function Vv(i,o,s,l){i[cr(s?o.classBindings:o.styleBindings)]=l}(i,o,l,g))}else h=function Hv(i,o,s){let l;const d=o.directiveEnd;for(let h=1+o.directiveStylingLast;h<d;h++)l=_c(l,i[h].hostAttrs,s);return _c(l,o.attrs,s)}(i,o,l)}return void 0!==h&&(l?o.residualClasses=h:o.residualStyles=h),s}(d,h,o,l),function Dv(i,o,s,l,d,h){let p=h?o.classBindings:o.styleBindings,f=cr(p),g=Gr(p);i[l]=s;let O,w=!1;if(Array.isArray(s)?(O=s[1],(null===O||ds(s,O)>0)&&(w=!0)):O=s,d)if(0!==g){const U=cr(i[f+1]);i[l+1]=ar(U,f),0!==U&&(i[U+1]=qu(i[U+1],l)),i[f+1]=function Tv(i,o){return 131071&i|o<<17}(i[f+1],l)}else i[l+1]=ar(f,0),0!==f&&(i[f+1]=qu(i[f+1],l)),f=l;else i[l+1]=ar(g,0),0===f?f=l:i[g+1]=qu(i[g+1],l),g=l;w&&(i[l+1]=Gu(i[l+1])),Q_(i,O,l,!0),Q_(i,O,l,!1),function kv(i,o,s,l,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof o&&ds(h,o)>=0&&(s[l+1]=Ku(s[l+1]))}(o,O,i,l,h),p=ar(f,g),h?o.classBindings=p:o.styleBindings=p}(d,h,o,s,p,l)}}function Yu(i,o,s,l,d){let h=null;const p=s.directiveEnd;let f=s.directiveStylingLast;for(-1===f?f=s.directiveStart:f++;f<p&&(h=o[f],l=_c(l,h.hostAttrs,d),h!==i);)f++;return null!==i&&(s.directiveStylingLast=f),l}function _c(i,o,s){const l=s?1:2;let d=-1;if(null!==o)for(let h=0;h<o.length;h++){const p=o[h];"number"==typeof p?d=p:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ni(i,p,!!s||o[++h]))}return void 0===i?null:i}function df(i,o,s,l,d,h,p,f){if(!(3&o.type))return;const g=i.data,w=g[f+1],O=function Pv(i){return 1==(1&i)}(w)?uf(g,o,s,d,Gr(w),p):void 0;$l(O)||($l(h)||function Ov(i){return 2==(2&i)}(w)&&(h=uf(g,null,s,d,f,p)),function nC(i,o,s,l,d){if(o)d?i.addClass(s,l):i.removeClass(s,l);else{let h=-1===l.indexOf("-")?void 0:po.DashCase;null==d?i.removeStyle(s,l,h):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),h|=po.Important),i.setStyle(s,l,d,h))}}(l,p,os(N(),s),d,h))}function uf(i,o,s,l,d,h){const p=null===o;let f;for(;d>0;){const g=i[d],w=Array.isArray(g),O=w?g[1]:g,E=null===O;let U=s[d+1];U===rt&&(U=E?_t:void 0);let X=E?Wc(U,l):O===l?U:void 0;if(w&&!$l(X)&&(X=Wc(g,l)),$l(X)&&(f=X,p))return f;const de=i[d+1];d=p?cr(de):Gr(de)}if(null!==o){let g=h?o.residualClasses:o.residualStyles;null!=g&&(f=Wc(g,l))}return f}function $l(i){return void 0!==i}function hf(i,o){return 0!=(i.flags&(o?8:16))}function pf(i,o=""){const s=Ce(),l=lt(),d=i+22,h=l.firstCreatePass?ws(l,d,1,o,null):l.data[d],p=s[d]=function Zd(i,o){return i.createText(o)}(s[11],o);ki(l,s,p,h),Qi(h,!1)}function qr(i){return Gl("",i,""),qr}function Gl(i,o,s){const l=Ce(),d=Fs(l,i,o,s);return d!==rt&&To(l,N(),d),Gl}function zu(i,o,s,l,d){const h=Ce(),p=As(h,i,o,s,l,d);return p!==rt&&To(h,N(),p),zu}function Wu(i,o,s,l,d,h,p){const f=Ce(),g=Ns(f,i,o,s,l,d,h,p);return g!==rt&&To(f,N(),g),Wu}function yf(i,o,s){Ni(ni,ro,Fs(Ce(),i,o,s),!0)}const dr=void 0;var ay=["en",[["a","p"],["AM","PM"],dr],[["AM","PM"],dr,dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dr,"{1} 'at' {0}",dr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sy(i){const s=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Ks={};function eh(i){const o=function cy(i){return i.toLowerCase().replace(/_/g,"-")}(i);let s=Df(o);if(s)return s;const l=o.split("-")[0];if(s=Df(l),s)return s;if("en"===l)return ay;throw new ie(701,!1)}function Pf(i){return eh(i)[ze.PluralCase]}function Df(i){return i in Ks||(Ks[i]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[i]),Ks[i]}var ze=(()=>((ze=ze||{})[ze.LocaleId=0]="LocaleId",ze[ze.DayPeriodsFormat=1]="DayPeriodsFormat",ze[ze.DayPeriodsStandalone=2]="DayPeriodsStandalone",ze[ze.DaysFormat=3]="DaysFormat",ze[ze.DaysStandalone=4]="DaysStandalone",ze[ze.MonthsFormat=5]="MonthsFormat",ze[ze.MonthsStandalone=6]="MonthsStandalone",ze[ze.Eras=7]="Eras",ze[ze.FirstDayOfWeek=8]="FirstDayOfWeek",ze[ze.WeekendRange=9]="WeekendRange",ze[ze.DateFormat=10]="DateFormat",ze[ze.TimeFormat=11]="TimeFormat",ze[ze.DateTimeFormat=12]="DateTimeFormat",ze[ze.NumberSymbols=13]="NumberSymbols",ze[ze.NumberFormats=14]="NumberFormats",ze[ze.CurrencyCode=15]="CurrencyCode",ze[ze.CurrencySymbol=16]="CurrencySymbol",ze[ze.CurrencyName=17]="CurrencyName",ze[ze.Currencies=18]="Currencies",ze[ze.Directionality=19]="Directionality",ze[ze.PluralCase=20]="PluralCase",ze[ze.ExtraData=21]="ExtraData",ze))();const Js="en-US";let kf=Js;function oh(i,o,s,l,d){if(i=xe(i),Array.isArray(i))for(let h=0;h<i.length;h++)oh(i[h],o,s,l,d);else{const h=lt(),p=Ce();let f=yo(i)?i:xe(i.provide),g=Up(i);const w=fn(),O=1048575&w.providerIndexes,E=w.directiveStart,U=w.providerIndexes>>20;if(yo(i)||!i.multi){const X=new Wi(g,d,Vr),de=sh(f,o,d?O:O+U,E);-1===de?(qh(bd(w,p),h,f),rh(h,i,o.length),o.push(f),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),s.push(X),p.push(X)):(s[de]=X,p[de]=X)}else{const X=sh(f,o,O+U,E),de=sh(f,o,O,O+U),Ie=de>=0&&s[de];if(d&&!Ie||!d&&!(X>=0&&s[X])){qh(bd(w,p),h,f);const He=function nb(i,o,s,l,d){const h=new Wi(i,s,Vr);return h.multi=[],h.index=o,h.componentProviders=0,Wf(h,d,l&&!s),h}(d?yc:tb,s.length,d,l,g);!d&&Ie&&(s[de].providerFactory=He),rh(h,i,o.length,0),o.push(f),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),s.push(He),p.push(He)}else rh(h,i,X>-1?X:de,Wf(s[d?de:X],g,!d&&l));!d&&l&&Ie&&s[de].componentProviders++}}}function rh(i,o,s,l){const d=yo(o),h=function PC(i){return!!i.useClass}(o);if(d||h){const g=(h?xe(o.useClass):o).prototype.ngOnDestroy;if(g){const w=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const O=w.indexOf(s);-1===O?w.push(s,[l,g]):w[O+1].push(l,g)}else w.push(s,g)}}}function Wf(i,o,s){return s&&i.componentProviders++,i.multi.push(o)-1}function sh(i,o,s,l){for(let d=s;d<l;d++)if(o[d]===i)return d;return-1}function tb(i,o,s,l){return ah(this.multi,[])}function yc(i,o,s,l){const d=this.multi;let h;if(this.providerFactory){const p=this.providerFactory.componentProviders,f=Tr(s,s[1],this.providerFactory.index,l);h=f.slice(0,p),ah(d,h);for(let g=p;g<f.length;g++)h.push(f[g])}else h=[],ah(d,h);return h}function ah(i,o){for(let s=0;s<i.length;s++)o.push((0,i[s])());return o}function Xf(i,o=[]){return s=>{s.providersResolver=(l,d)=>function eb(i,o,s){const l=lt();if(l.firstCreatePass){const d=Zn(i);oh(s,l.data,l.blueprint,d,!0),oh(o,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,o)}}class zs{}class ib{}function ob(i,o){return new eg(i,o??null)}class eg extends zs{constructor(o,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new D_(this);const l=function yn(i,o){const s=i[gr]||null;if(!s&&!0===o)throw new Error(`Type ${Ze(i)} does not have '\u0275mod' property.`);return s}(o);this._bootstrapComponents=function bo(i){return i instanceof Function?i():i}(l.bootstrap),this._r3Injector=Qa(o,s,[{provide:zs,useValue:this},{provide:Nr,useValue:this.componentFactoryResolver}],Ze(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ch extends ib{constructor(o){super(),this.moduleType=o}create(o){return new eg(this.moduleType,o)}}function sg(i,o,s,l){return lg(Ce(),Un(),i,o,s,l)}function ag(i,o,s,l,d){return dg(Ce(),Un(),i,o,s,l,d)}function cg(i,o,s,l,d,h){return function wc(i,o,s,l,d,h,p,f){const g=o+s;return Bl(i,g,d,h,p)?io(i,g+3,f?l.call(f,d,h,p):l(d,h,p)):xc(i,g+3)}(Ce(),Un(),i,o,s,l,d,h)}function xc(i,o){const s=i[o];return s===rt?void 0:s}function lg(i,o,s,l,d,h){const p=o+s;return Nn(i,p,d)?io(i,p+1,h?l.call(h,d):l(d)):xc(i,p+1)}function dg(i,o,s,l,d,h,p){const f=o+s;return Ii(i,f,d,h)?io(i,f+2,p?l.call(p,d,h):l(d,h)):xc(i,f+2)}function pg(i,o){const s=lt();let l;const d=i+22;s.firstCreatePass?(l=function wb(i,o){if(o)for(let s=o.length-1;s>=0;s--){const l=o[s];if(i===l.name)return l}}(o,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,l.onDestroy)):l=s.data[d];const h=l.factory||(l.factory=Wn(l.type)),p=pt(Vr);try{const f=yd(!1),g=h();return yd(f),function xv(i,o,s,l){s>=i.data.length&&(i.data[s]=null,i.blueprint[s]=null),o[s]=l}(s,Ce(),d,g),g}finally{pt(p)}}function _g(i,o,s){const l=i+22,d=Ce(),h=v(d,l);return Mc(d,l)?lg(d,Un(),o,h.transform,s,h):h.transform(s)}function fg(i,o,s,l){const d=i+22,h=Ce(),p=v(h,d);return Mc(h,d)?dg(h,Un(),o,p.transform,s,l,p):p.transform(s,l)}function Mc(i,o){return i[1].data[o].pure}function dh(i){return o=>{setTimeout(i,void 0,o)}}const so=class Tb extends C.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,s,l){let d=o,h=s||(()=>null),p=l;if(o&&"object"==typeof o){const g=o;d=g.next?.bind(g),h=g.error?.bind(g),p=g.complete?.bind(g)}this.__isAsync&&(h=dh(h),d&&(d=dh(d)),p&&(p=dh(p)));const f=super.subscribe({next:d,error:h,complete:p});return o instanceof D.w&&o.add(f),f}};function Pb(){return this._results[Ur()]()}class uh{get changes(){return this._changes||(this._changes=new so)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ur(),l=uh.prototype;l[s]||(l[s]=Pb)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,s){return this._results.reduce(o,s)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,s){const l=this;l.dirty=!1;const d=function di(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function zc(i,o,s){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],h=o[l];if(s&&(d=s(d),h=s(h)),h!==d)return!1}return!0}(l._results,d,s))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sc=(()=>{class i{}return i.__NG_ELEMENT_ID__=Eb,i})();const Db=Sc,kb=class extends Db{constructor(o,s,l){super(),this._declarationLView=o,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(o,s){const l=this._declarationTContainer.tViews,d=Hr(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(l)),Dl(l,d,o),new Po(d)}};function Eb(){return zl(fn(),Ce())}function zl(i,o){return 4&i.type?new kb(o,i,Lr(i,o)):null}let Wl=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ib,i})();function Ib(){return Cg(fn(),Ce())}const Fb=Wl,gg=class extends Fb{constructor(o,s,l){super(),this._lContainer=o,this._hostTNode=s,this._hostLView=l}get element(){return Lr(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const o=Gh(this._hostTNode,this._hostLView);if(um(o)){const s=vd(o,this._hostLView),l=Cd(o);return new as(s[1].data[l+8],s)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const s=mg(this._lContainer);return null!==s&&s[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,s,l){let d,h;"number"==typeof l?d=l:null!=l&&(d=l.index,h=l.injector);const p=o.createEmbeddedView(s||{},h);return this.insert(p,d),p}createComponent(o,s,l,d,h){const p=o&&!function Oa(i){return"function"==typeof i}(o);let f;if(p)f=s;else{const E=s||{};f=E.index,l=E.injector,d=E.projectableNodes,h=E.environmentInjector||E.ngModuleRef}const g=p?o:new rc(mt(o)),w=l||this.parentInjector;if(!h&&null==g.ngModule){const U=(p?w:this.parentInjector).get(Fr,null);U&&(h=U)}const O=g.create(w,d,void 0,h);return this.insert(O.hostView,f),O}insert(o,s){const l=o._lView,d=l[1];if(function sn(i){return bn(i[3])}(l)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const E=l[3],U=new gg(E,E[6],E[3]);U.detach(U.indexOf(o))}}const h=this._adjustIndex(s),p=this._lContainer;!function Ym(i,o,s,l){const d=10+l,h=s.length;l>0&&(s[d-1][4]=o),l<h-10?(o[4]=s[d],Od(s,10+l,o)):(s.push(o),o[4]=null),o[3]=s;const p=o[17];null!==p&&s!==p&&function Cp(i,o){const s=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===s?i[9]=[o]:s.push(o)}(p,o);const f=o[19];null!==f&&f.insertView(i),o[2]|=64}(d,l,p,h);const f=Jd(h,p),g=l[11],w=Ba(g,p[7]);return null!==w&&function Km(i,o,s,l,d,h){l[0]=d,l[6]=o,Va(i,l,s,1,d,h)}(d,p[6],g,l,w,f),o.attachToViewContainerRef(),Od(hh(p),h,o),o}move(o,s){return this.insert(o,s)}indexOf(o){const s=mg(this._lContainer);return null!==s?s.indexOf(o):-1}remove(o){const s=this._adjustIndex(o,-1),l=Ud(this._lContainer,s);l&&(Ta(hh(this._lContainer),s),zm(l[1],l))}detach(o){const s=this._adjustIndex(o,-1),l=Ud(this._lContainer,s);return l&&null!=Ta(hh(this._lContainer),s)?new Po(l):null}_adjustIndex(o,s=0){return o??this.length+s}};function mg(i){return i[8]}function hh(i){return i[8]||(i[8]=[])}function Cg(i,o){let s;const l=o[i.index];if(bn(l))s=l;else{let d;if(8&i.type)d=_n(l);else{const h=o[11];d=h.createComment("");const p=jn(i,o);_o(h,Ba(h,p),d,function Bt(i,o){return i.nextSibling(o)}(h,p),!1)}o[i.index]=s=Oo(l,o,d,i),Al(o,s)}return new gg(s,i,o)}class ph{constructor(o){this.queryList=o,this.matches=null}clone(){return new ph(this.queryList)}setDirty(){this.queryList.setDirty()}}class _h{constructor(o=[]){this.queries=o}createEmbeddedView(o){const s=o.queries;if(null!==s){const l=null!==o.contentQueries?o.contentQueries[0]:s.length,d=[];for(let h=0;h<l;h++){const p=s.getByIndex(h);d.push(this.queries[p.indexInDeclarationView].clone())}return new _h(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let s=0;s<this.queries.length;s++)null!==Sg(o,s).matches&&this.queries[s].setDirty()}}class vg{constructor(o,s,l=null){this.predicate=o,this.flags=s,this.read=l}}class fh{constructor(o=[]){this.queries=o}elementStart(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,s)}elementEnd(o){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(o)}embeddedTView(o){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(o,d);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new fh(s):null}template(o,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,s)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Jr{constructor(o,s=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(o,s){this.isApplyingToNode(s)&&this.matchTNode(o,s)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,s){this.elementStart(o,s)}embeddedTView(o,s){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,s),new Jr(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const h=l[d];this.matchTNodeWithReadOption(o,s,Ab(s,h)),this.matchTNodeWithReadOption(o,s,Jc(s,o,h,!1,!1))}else l===Sc?4&s.type&&this.matchTNodeWithReadOption(o,s,-1):this.matchTNodeWithReadOption(o,s,Jc(s,o,l,!1,!1))}matchTNodeWithReadOption(o,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Rr||d===Wl||d===Sc&&4&s.type)this.addMatch(s.index,-2);else{const h=Jc(s,o,d,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(o,s){null===this.matches?this.matches=[o,s]:this.matches.push(o,s)}}function Ab(i,o){const s=i.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===o)return s[l+1];return null}function Lb(i,o,s,l){return-1===s?function Nb(i,o){return 11&i.type?Lr(i,o):4&i.type?zl(i,o):null}(o,i):-2===s?function Rb(i,o,s){return s===Rr?Lr(o,i):s===Sc?zl(o,i):s===Wl?Cg(o,i):void 0}(i,o,l):Tr(i,i[1],s,o)}function yg(i,o,s,l){const d=o[19].queries[l];if(null===d.matches){const h=i.data,p=s.matches,f=[];for(let g=0;g<p.length;g+=2){const w=p[g];f.push(w<0?null:Lb(o,h[w],p[g+1],s.metadata.read))}d.matches=f}return d.matches}function gh(i,o,s,l){const d=i.queries.getByIndex(s),h=d.matches;if(null!==h){const p=yg(i,o,d,s);for(let f=0;f<h.length;f+=2){const g=h[f];if(g>0)l.push(p[f/2]);else{const w=h[f+1],O=o[-g];for(let E=10;E<O.length;E++){const U=O[E];U[17]===U[3]&&gh(U[1],U,w,l)}if(null!==O[9]){const E=O[9];for(let U=0;U<E.length;U++){const X=E[U];gh(X[1],X,w,l)}}}}}return l}function bg(i){const o=Ce(),s=lt(),l=_d();qc(l+1);const d=Sg(s,l);if(i.dirty&&function se(i){return 4==(4&i[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?gh(s,o,l,[]):yg(s,o,d,l);i.reset(h,qp),i.notifyOnChanges()}return!0}return!1}function xg(i,o,s){const l=lt();l.firstCreatePass&&(Mg(l,new vg(i,o,s),-1),2==(2&o)&&(l.staticViewQueries=!0)),Ch(l,Ce(),o)}function wg(i,o,s,l){const d=lt();if(d.firstCreatePass){const h=fn();Mg(d,new vg(o,s,l),h.index),function Vb(i,o){const s=i.contentQueries||(i.contentQueries=[]);o!==(s.length?s[s.length-1]:-1)&&s.push(i.queries.length-1,o)}(d,i),2==(2&s)&&(d.staticContentQueries=!0)}Ch(d,Ce(),s)}function mh(){return function Bb(i,o){return i[19].queries[o].queryList}(Ce(),_d())}function Ch(i,o,s){const l=new uh(4==(4&s));ku(i,o,l,l.destroy),null===o[19]&&(o[19]=new _h),o[19].queries.push(new ph(l))}function Mg(i,o,s){null===i.queries&&(i.queries=new fh),i.queries.track(new Jr(o,s))}function Sg(i,o){return i.queries.getByIndex(o)}function ed(...i){}const Ug=new Rt("Application Initializer");let td=(()=>{class i{constructor(s){this.appInits=s,this.resolve=ed,this.reject=ed,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(Hu(h))s.push(h);else if(L_(h)){const p=new Promise((f,g)=>{h.subscribe({complete:f,error:g})});s.push(p)}}Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}}return i.\u0275fac=function(s){return new(s||i)(It(Ug,8))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const $g=new Rt("AppId",{providedIn:"root",factory:function Gg(){return`${Qr()}${Qr()}${Qr()}`}});function Qr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qg=new Rt("Platform Initializer"),rx=new Rt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sx=new Rt("appBootstrapListener"),nd=new Rt("LocaleId",{providedIn:"root",factory:()=>On(nd,Ke.Optional|Ke.SkipSelf)||function ax(){return typeof $localize<"u"&&$localize.locale||Js}()}),cx=new Rt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),hx=(()=>Promise.resolve(0))();function wh(i){typeof Zone>"u"?hx.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class bi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new so(!1),this.onMicrotaskEmpty=new so(!1),this.onStable=new so(!1),this.onError=new so(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&s,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function px(){let i=kt.requestAnimationFrame,o=kt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const s=i[Zone.__symbol__("OriginalDelegate")];s&&(i=s);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function gx(i){const o=()=>{!function fx(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Mh(i),i.isCheckStableRunning=!0,ta(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Mh(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,d,h,p,f)=>{try{return Yg(i),s.invokeTask(d,h,p,f)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&o(),zg(i)}},onInvoke:(s,l,d,h,p,f,g)=>{try{return Yg(i),s.invoke(d,h,p,f,g)}finally{i.shouldCoalesceRunChangeDetection&&o(),zg(i)}},onHasTask:(s,l,d,h)=>{s.hasTask(d,h),l===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,Mh(i),ta(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,d,h)=>(s.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bi.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(bi.isInAngularZone())throw new ie(909,!1)}run(o,s,l){return this._inner.run(o,s,l)}runTask(o,s,l,d){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+d,o,_x,ed,ed);try{return h.runTask(p,s,l)}finally{h.cancelTask(p)}}runGuarded(o,s,l){return this._inner.runGuarded(o,s,l)}runOutsideAngular(o){return this._outer.run(o)}}const _x={};function ta(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Mh(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Yg(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zg(i){i._nesting--,ta(i)}class mx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new so,this.onMicrotaskEmpty=new so,this.onStable=new so,this.onError=new so}run(o,s,l){return o.apply(s,l)}runGuarded(o,s,l){return o.apply(s,l)}runOutsideAngular(o){return o()}runTask(o,s,l,d){return o.apply(s,l)}}const Wg=new Rt(""),Xg=new Rt("");let Sh,Cx=(()=>{class i{constructor(s,l,d){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sh||(function vx(i){Sh=i}(d),d.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bi.assertNotInAngularZone(),wh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wh(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:d})}whenStable(s,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,d){return[]}}return i.\u0275fac=function(s){return new(s||i)(It(bi),It(em),It(Xg))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})(),em=(()=>{class i{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return Sh?.findTestabilityInTree(this,s,l)??null}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),ur=null;const tm=new Rt("AllowMultipleToken"),Oh=new Rt("PlatformDestroyListeners");function n(i,o,s=[]){const l=`Platform: ${o}`,d=new Rt(l);return(h=[])=>{let p=u();if(!p||p.injector.get(tm,!1)){const f=[...s,...h,{provide:d,useValue:!0}];i?i(f):function ia(i){if(ur&&!ur.get(tm,!1))throw new ie(400,!1);ur=i;const o=i.get(_);(function Th(i){const o=i.get(qg,null);o&&o.forEach(s=>s())})(i)}(function a(i=[],o){return Yo.create({name:o,providers:[{provide:gl,useValue:"platform"},{provide:Oh,useValue:new Set([()=>ur=null])},...i]})}(f,l))}return function t(i){const o=u();if(!o)throw new ie(401,!1);return o}()}}function u(){return ur?.get(_)??null}let _=(()=>{class i{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const d=function F(i,o){let s;return s="noop"===i?new mx:("zone.js"===i?void 0:i)||new bi(o),s}(l?.ngZone,function S(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:bi,useValue:d}];return d.run(()=>{const p=Yo.create({providers:h,parent:this.injector,name:s.moduleType.name}),f=s.create(p),g=f.injector.get(Br,null);if(!g)throw new ie(402,!1);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:O=>{g.handleError(O)}});f.onDestroy(()=>{Ge(this._modules,f),w.unsubscribe()})}),function j(i,o,s){try{const l=s();return Hu(l)?l.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(g,d,()=>{const w=f.injector.get(td);return w.runInitializers(),w.donePromise.then(()=>(function Ef(i){ft(i,"Expected localeId to be defined"),"string"==typeof i&&(kf=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(nd,Js)||Js),this._moduleDoBootstrap(f),f))})})}bootstrapModule(s,l=[]){const d=ue({},l);return function yx(i,o,s){const l=new ch(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(s){const l=s.injector.get(Me);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new ie(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(Oh,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(s){return new(s||i)(It(Yo))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function ue(i,o){return Array.isArray(o)?o.reduce(ue,i):{...i,...o}}let Me=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,l,d){this._zone=s,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new e.y(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),p=new e.y(f=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{bi.assertNotInAngularZone(),wh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const w=this._zone.onUnstable.subscribe(()=>{bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),w.unsubscribe()}});this.isStable=(0,H.T)(h,p.pipe(function je(){return i=>Q()(function De(i,o){return function(l){let d;if(d="function"==typeof i?i:function(){return i},"function"==typeof o)return l.lift(new Pe(d,o));const h=Object.create(l,L);return h.source=l,h.subjectFactory=d,h}}(fe)(i))}()))}bootstrap(s,l){const d=s instanceof pu;if(!this._injector.get(td).done)throw!d&&function Lo(i){const o=mt(i)||tn(i)||un(i);return null!==o&&o.standalone}(s),new ie(405,false);let p;p=d?s:this._injector.get(Nr).resolveComponentFactory(s),this.componentTypes.push(p.componentType);const f=function na(i){return i.isBoundToModule}(p)?void 0:this._injector.get(zs),w=p.create(Yo.NULL,[],l||p.selector,f),O=w.location.nativeElement,E=w.injector.get(Wg,null);return E?.registerApplication(O),w.onDestroy(()=>{this.detachView(w.hostView),Ge(this.components,w),E?.unregisterApplication(O)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Ge(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(sx,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ge(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ie(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(s){return new(s||i)(It(bi),It(Fr),It(Br))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ge(i,o){const s=i.indexOf(o);s>-1&&i.splice(s,1)}function cn(){}let rd=(()=>{class i{}return i.__NG_ELEMENT_ID__=Fo,i})();function Fo(i){return function hr(i,o,s){if(zn(i)&&!s){const l=T(i.index,o);return new Po(l,l)}return 47&i.type?new Po(o[16],o):null}(fn(),Ce(),16==(16&i))}class tM{constructor(){}supports(o){return dc(o)}create(o){return new gM(o)}}const fM=(i,o)=>o;class gM{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||fM}forEachItem(o){let s;for(s=this._itHead;null!==s;s=s._next)o(s)}forEachOperation(o){let s=this._itHead,l=this._removalsHead,d=0,h=null;for(;s||l;){const p=!l||s&&s.currentIndex<iM(l,d,h)?s:l,f=iM(p,d,h),g=p.currentIndex;if(p===l)d--,l=l._nextRemoved;else if(s=s._next,null==p.previousIndex)d++;else{h||(h=[]);const w=f-d,O=g-d;if(w!=O){for(let U=0;U<w;U++){const X=U<h.length?h[U]:h[U]=0,de=X+U;O<=de&&de<w&&(h[U]=X+1)}h[p.previousIndex]=O-w}}f!==g&&o(p,f,g)}}forEachPreviousItem(o){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachMovedItem(o){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}forEachIdentityChange(o){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)o(s)}diff(o){if(null==o&&(o=[]),!dc(o))throw new ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,h,p,s=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let f=0;f<this.length;f++)h=o[f],p=this._trackByFn(f,h),null!==s&&Object.is(s.trackById,p)?(l&&(s=this._verifyReinsertion(s,h,p,f)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,p,f),l=!0),s=s._next}else d=0,function yv(i,o){if(Array.isArray(i))for(let s=0;s<i.length;s++)o(i[s]);else{const s=i[Ur()]();let l;for(;!(l=s.next()).done;)o(l.value)}}(o,f=>{p=this._trackByFn(d,f),null!==s&&Object.is(s.trackById,p)?(l&&(s=this._verifyReinsertion(s,f,p,d)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,p,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,s,l,d){let h;return null===o?h=this._itTail:(h=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._reinsertAfter(o,h,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,s)||this._addIdentityChange(o,s),this._moveAfter(o,h,d)):o=this._addAfter(new mM(s,l),h,d),o}_verifyReinsertion(o,s,l,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?o=this._reinsertAfter(h,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const s=o._next;this._addToRemovals(this._unlink(o)),o=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,h=o._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(o,s,l),this._addToMoves(o,l),o}_moveAfter(o,s,l){return this._unlink(o),this._insertAfter(o,s,l),this._addToMoves(o,l),o}_addAfter(o,s,l){return this._insertAfter(o,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,s,l){const d=null===s?this._itHead:s._next;return o._next=d,o._prev=s,null===d?this._itTail=o:d._prev=o,null===s?this._itHead=o:s._next=o,null===this._linkedRecords&&(this._linkedRecords=new nM),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const s=o._prev,l=o._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,o}_addToMoves(o,s){return o.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nM),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,s){return o.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class mM{constructor(o,s){this.item=o,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CM{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const s=o._prevDup,l=o._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class nM{constructor(){this.map=new Map}put(o){const s=o.trackById;let l=this.map.get(s);l||(l=new CM,this.map.set(s,l)),l.add(o)}get(o,s){const d=this.map.get(o);return d?d.get(o,s):null}remove(o){const s=o.trackById;return this.map.get(s).remove(o)&&this.map.delete(s),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iM(i,o,s){const l=i.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+o+d}class oM{constructor(){}supports(o){return o instanceof Map||Ru(o)}create(){return new vM}}class vM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let s;for(s=this._mapHead;null!==s;s=s._next)o(s)}forEachPreviousItem(o){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)o(s)}forEachChangedItem(o){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)o(s)}forEachAddedItem(o){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)o(s)}forEachRemovedItem(o){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)o(s)}diff(o){if(o){if(!(o instanceof Map||Ru(o)))throw new ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,s){if(o){const l=o._prev;return s._next=o,s._prev=l,o._prev=s,l&&(l._next=s),o===this._mapHead&&(this._mapHead=s),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(o,s){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,s);const h=d._prev,p=d._next;return h&&(h._next=p),p&&(p._prev=h),d._next=null,d._prev=null,d}const l=new yM(o);return this._records.set(o,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,s){Object.is(s,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=s,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,s){o instanceof Map?o.forEach(s):Object.keys(o).forEach(l=>s(o[l],l))}}class yM{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rM(){return new Ox([new tM])}let Ox=(()=>{class i{constructor(s){this.factories=s}static create(s,l){if(null!=l){const d=l.factories.slice();s=s.concat(d)}return new i(s)}static extend(s){return{provide:i,useFactory:l=>i.create(s,l||rM()),deps:[[i,new Ea,new kd]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(null!=l)return l;throw new ie(901,!1)}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:rM}),i})();function sM(){return new Tx([new oM])}let Tx=(()=>{class i{constructor(s){this.factories=s}static create(s,l){if(l){const d=l.factories.slice();s=s.concat(d)}return new i(s)}static extend(s){return{provide:i,useFactory:l=>i.create(s,l||sM()),deps:[[i,new Ea,new kd]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(l)return l;throw new ie(901,!1)}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:sM}),i})();const wM=n(null,"core",[]);let MM=(()=>{class i{constructor(s){}}return i.\u0275fac=function(s){return new(s||i)(It(Me))},i.\u0275mod=yr({type:i}),i.\u0275inj=Rn({}),i})();function SM(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},1452:(qe,_e,k)=>{k.d(_e,{iD:()=>Nt});var C=k(3071),D=k(6978),e=k(6787),H=k(7545),W=k(4850);const Q={schedule(xe,ve){const q=setTimeout(xe,ve);return()=>clearTimeout(q)},scheduleBeforeRender(xe){if(typeof window>"u")return Q.schedule(xe,0);if(typeof window.requestAnimationFrame>"u")return Q.schedule(xe,16);const ve=window.requestAnimationFrame(xe);return()=>window.cancelAnimationFrame(ve)}};let te;function je(xe,ve,q){let J=q;return function Y(xe){return!!xe&&xe.nodeType===Node.ELEMENT_NODE}(xe)&&ve.some((pe,ie)=>!("*"===pe||!function re(xe,ve){if(!te){const q=Element.prototype;te=q.matches||q.matchesSelector||q.mozMatchesSelector||q.msMatchesSelector||q.oMatchesSelector||q.webkitMatchesSelector}return xe.nodeType===Node.ELEMENT_NODE&&te.call(xe,ve)}(xe,pe)||(J=ie,0))),J}class Ae{constructor(ve,q){this.componentFactory=q.get(C._Vd).resolveComponentFactory(ve)}create(ve){return new Ze(this.componentFactory,ve)}}class Ze{constructor(ve,q){this.componentFactory=ve,this.injector=q,this.eventEmitters=new D.t(1),this.events=this.eventEmitters.pipe((0,H.w)(J=>(0,e.T)(...J))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:J})=>J)),this.ngZone=this.injector.get(C.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(ve){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(ve)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Q.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(ve){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(ve):this.componentRef.instance[ve])}setInputValue(ve,q){this.runInZone(()=>{null!==this.componentRef?function ye(xe,ve){return xe===ve||xe!=xe&&ve!=ve}(q,this.getInputValue(ve))&&(void 0!==q||!this.unchangedInputs.has(ve))||(this.recordInputChange(ve,q),this.unchangedInputs.delete(ve),this.hasInputChanges=!0,this.componentRef.instance[ve]=q,this.scheduleDetectChanges()):this.initialInputValues.set(ve,q)})}initializeComponent(ve){const q=C.zs3.create({providers:[],parent:this.injector}),J=function fe(xe,ve){const q=xe.childNodes,J=ve.map(()=>[]);let pe=-1;ve.some((ie,Ne)=>"*"===ie&&(pe=Ne,!0));for(let ie=0,Ne=q.length;ie<Ne;++ie){const ne=q[ie],Ve=je(ne,ve,pe);-1!==Ve&&J[Ve].push(ne)}return J}(ve,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(q,J,ve),this.viewChangeDetectorRef=this.componentRef.injector.get(C.sBO),this.implementsOnChanges=function K(xe){return"function"==typeof xe}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(C.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:ve})=>{this.initialInputValues.has(ve)&&this.setInputValue(ve,this.initialInputValues.get(ve))}),this.initialInputValues.clear()}initializeOutputs(ve){const q=this.componentFactory.outputs.map(({propName:J,templateName:pe})=>ve.instance[J].pipe((0,W.U)(Ne=>({name:pe,value:Ne}))));this.eventEmitters.next(q)}callNgOnChanges(ve){if(!this.implementsOnChanges||null===this.inputChanges)return;const q=this.inputChanges;this.inputChanges=null,ve.instance.ngOnChanges(q)}markViewForCheck(ve){this.hasInputChanges&&(this.hasInputChanges=!1,ve.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Q.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(ve,q){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const J=this.inputChanges[ve];if(J)return void(J.currentValue=q);const pe=this.unchangedInputs.has(ve),ie=pe?void 0:this.getInputValue(ve);this.inputChanges[ve]=new C.WD2(ie,q,pe)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(ve){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(ve):ve()}}class bt extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function Nt(xe,ve){const q=function Pe(xe,ve){return ve.get(C._Vd).resolveComponentFactory(xe).inputs}(xe,ve.injector),J=ve.strategyFactory||new Ae(xe,ve.injector),pe=function De(xe){const ve={};return xe.forEach(({propName:q,templateName:J})=>{ve[function ee(xe){return xe.replace(/[A-Z]/g,ve=>`-${ve.toLowerCase()}`)}(J)]=q}),ve}(q);class ie extends bt{get ngElementStrategy(){if(!this._ngElementStrategy){const ne=this._ngElementStrategy=J.create(this.injector||ve.injector);q.forEach(({propName:Ve})=>{if(!this.hasOwnProperty(Ve))return;const ln=this[Ve];delete this[Ve],ne.setInputValue(Ve,ln)})}return this._ngElementStrategy}constructor(ne){super(),this.injector=ne}attributeChangedCallback(ne,Ve,ln,En){this.ngElementStrategy.setInputValue(pe[ne],ln)}connectedCallback(){let ne=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),ne=!0),this.ngElementStrategy.connect(this),ne||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(ne=>{const Ve=new CustomEvent(ne.name,{detail:ne.value});this.dispatchEvent(Ve)})}}return ie.observedAttributes=Object.keys(pe),q.forEach(({propName:Ne})=>{Object.defineProperty(ie.prototype,Ne,{get(){return this.ngElementStrategy.getInputValue(Ne)},set(ne){this.ngElementStrategy.setInputValue(Ne,ne)},configurable:!0,enumerable:!0})}),ie}},4006:(qe,_e,k)=>{k.d(_e,{EJ:()=>qi,F:()=>uo,Fj:()=>De,JJ:()=>Xt,JL:()=>Lt,Kr:()=>da,On:()=>hn,Wl:()=>L,YN:()=>Zn,_:()=>Zi,_Y:()=>Bo,u5:()=>os});var C=k(3071),D=k(6895),e=k(5254),H=k(567),W=k(4850);let Q=(()=>{class x{constructor(v,T){this._renderer=v,this._elementRef=T,this.onChange=se=>{},this.onTouched=()=>{}}setProperty(v,T){this._renderer.setProperty(this._elementRef.nativeElement,v,T)}registerOnTouched(v){this.onTouched=v}registerOnChange(v){this.onChange=v}setDisabledState(v){this.setProperty("disabled",v)}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(C.Qsj),C.Y36(C.SBq))},x.\u0275dir=C.lG2({type:x}),x})(),ee=(()=>{class x extends Q{}return x.\u0275fac=function(){let y;return function(T){return(y||(y=C.n5z(x)))(T||x)}}(),x.\u0275dir=C.lG2({type:x,features:[C.qOj]}),x})();const Y=new C.OlP("NgValueAccessor"),K={provide:Y,useExisting:(0,C.Gpc)(()=>L),multi:!0};let L=(()=>{class x extends ee{writeValue(v){this.setProperty("checked",v)}}return x.\u0275fac=function(){let y;return function(T){return(y||(y=C.n5z(x)))(T||x)}}(),x.\u0275dir=C.lG2({type:x,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(v,T){1&v&&C.NdJ("change",function(Ee){return T.onChange(Ee.target.checked)})("blur",function(){return T.onTouched()})},features:[C._Bn([K]),C.qOj]}),x})();const te={provide:Y,useExisting:(0,C.Gpc)(()=>De),multi:!0},ye=new C.OlP("CompositionEventMode");let De=(()=>{class x extends Q{constructor(v,T,se){super(v,T),this._compositionMode=se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function re(){const x=(0,D.q)()?(0,D.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(v){this.setProperty("value",v??"")}_handleInput(v){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(v)}_compositionStart(){this._composing=!0}_compositionEnd(v){this._composing=!1,this._compositionMode&&this.onChange(v)}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(ye,8))},x.\u0275dir=C.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(v,T){1&v&&C.NdJ("input",function(Ee){return T._handleInput(Ee.target.value)})("blur",function(){return T.onTouched()})("compositionstart",function(){return T._compositionStart()})("compositionend",function(Ee){return T._compositionEnd(Ee.target.value)})},features:[C._Bn([te]),C.qOj]}),x})();const we=new C.OlP("NgValidators"),Ae=new C.OlP("NgAsyncValidators");function ne(x){return null!=x}function Ve(x){return(0,C.QGY)(x)?(0,e.D)(x):x}function ln(x){let y={};return x.forEach(v=>{y=null!=v?{...y,...v}:y}),0===Object.keys(y).length?null:y}function En(x,y){return y.map(v=>v(x))}function qn(x){return x.map(y=>function xi(x){return!x.validate}(y)?y:v=>y.validate(v))}function ge(x){return null!=x?function jt(x){if(!x)return null;const y=x.filter(ne);return 0==y.length?null:function(v){return ln(En(v,y))}}(qn(x)):null}function B(x){return null!=x?function Je(x){if(!x)return null;const y=x.filter(ne);return 0==y.length?null:function(v){const T=En(v,y).map(Ve);return(0,H.D)(T).pipe((0,W.U)(ln))}}(qn(x)):null}function ce(x,y){return null===x?[y]:Array.isArray(x)?[...x,y]:[x,y]}function nt(x){return x?Array.isArray(x)?x:[x]:[]}function Jt(x,y){return Array.isArray(x)?x.includes(y):x===y}function dn(x,y){const v=nt(y);return nt(x).forEach(se=>{Jt(v,se)||v.push(se)}),v}function Mn(x,y){return nt(y).filter(v=>!Jt(x,v))}class Sn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(y){this._rawValidators=y||[],this._composedValidatorFn=ge(this._rawValidators)}_setAsyncValidators(y){this._rawAsyncValidators=y||[],this._composedAsyncValidatorFn=B(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(y){this._onDestroyCallbacks.push(y)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(y=>y()),this._onDestroyCallbacks=[]}reset(y){this.control&&this.control.reset(y)}hasError(y,v){return!!this.control&&this.control.hasError(y,v)}getError(y,v){return this.control?this.control.getError(y,v):null}}class At extends Sn{get formDirective(){return null}get path(){return null}}class ft extends Sn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ut{constructor(y){this._cd=y}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xt=(()=>{class x extends ut{constructor(v){super(v)}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(ft,2))},x.\u0275dir=C.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(v,T){2&v&&C.ekj("ng-untouched",T.isUntouched)("ng-touched",T.isTouched)("ng-pristine",T.isPristine)("ng-dirty",T.isDirty)("ng-valid",T.isValid)("ng-invalid",T.isInvalid)("ng-pending",T.isPending)},features:[C.qOj]}),x})(),Lt=(()=>{class x extends ut{constructor(v){super(v)}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(At,10))},x.\u0275dir=C.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(v,T){2&v&&C.ekj("ng-untouched",T.isUntouched)("ng-touched",T.isTouched)("ng-pristine",T.isPristine)("ng-dirty",T.isDirty)("ng-valid",T.isValid)("ng-invalid",T.isInvalid)("ng-pending",T.isPending)("ng-submitted",T.isSubmitted)},features:[C.qOj]}),x})();const kt="VALID",_i="INVALID",Ri="PENDING",fi="DISABLED";function le(x){return(me(x)?x.validators:x)||null}function $(x,y){return(me(y)?y.asyncValidators:x)||null}function me(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}class Et{constructor(y,v){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(y),this._assignAsyncValidators(v)}get validator(){return this._composedValidatorFn}set validator(y){this._rawValidators=this._composedValidatorFn=y}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(y){this._rawAsyncValidators=this._composedAsyncValidatorFn=y}get parent(){return this._parent}get valid(){return this.status===kt}get invalid(){return this.status===_i}get pending(){return this.status==Ri}get disabled(){return this.status===fi}get enabled(){return this.status!==fi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(y){this._assignValidators(y)}setAsyncValidators(y){this._assignAsyncValidators(y)}addValidators(y){this.setValidators(dn(y,this._rawValidators))}addAsyncValidators(y){this.setAsyncValidators(dn(y,this._rawAsyncValidators))}removeValidators(y){this.setValidators(Mn(y,this._rawValidators))}removeAsyncValidators(y){this.setAsyncValidators(Mn(y,this._rawAsyncValidators))}hasValidator(y){return Jt(this._rawValidators,y)}hasAsyncValidator(y){return Jt(this._rawAsyncValidators,y)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(y={}){this.touched=!0,this._parent&&!y.onlySelf&&this._parent.markAsTouched(y)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(y=>y.markAllAsTouched())}markAsUntouched(y={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(v=>{v.markAsUntouched({onlySelf:!0})}),this._parent&&!y.onlySelf&&this._parent._updateTouched(y)}markAsDirty(y={}){this.pristine=!1,this._parent&&!y.onlySelf&&this._parent.markAsDirty(y)}markAsPristine(y={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(v=>{v.markAsPristine({onlySelf:!0})}),this._parent&&!y.onlySelf&&this._parent._updatePristine(y)}markAsPending(y={}){this.status=Ri,!1!==y.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!y.onlySelf&&this._parent.markAsPending(y)}disable(y={}){const v=this._parentMarkedDirty(y.onlySelf);this.status=fi,this.errors=null,this._forEachChild(T=>{T.disable({...y,onlySelf:!0})}),this._updateValue(),!1!==y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...y,skipPristineCheck:v}),this._onDisabledChange.forEach(T=>T(!0))}enable(y={}){const v=this._parentMarkedDirty(y.onlySelf);this.status=kt,this._forEachChild(T=>{T.enable({...y,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:y.emitEvent}),this._updateAncestors({...y,skipPristineCheck:v}),this._onDisabledChange.forEach(T=>T(!1))}_updateAncestors(y){this._parent&&!y.onlySelf&&(this._parent.updateValueAndValidity(y),y.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(y){this._parent=y}getRawValue(){return this.value}updateValueAndValidity(y={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kt||this.status===Ri)&&this._runAsyncValidator(y.emitEvent)),!1!==y.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!y.onlySelf&&this._parent.updateValueAndValidity(y)}_updateTreeValidity(y={emitEvent:!0}){this._forEachChild(v=>v._updateTreeValidity(y)),this.updateValueAndValidity({onlySelf:!0,emitEvent:y.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fi:kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(y){if(this.asyncValidator){this.status=Ri,this._hasOwnPendingAsyncValidator=!0;const v=Ve(this.asyncValidator(this));this._asyncValidationSubscription=v.subscribe(T=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(T,{emitEvent:y})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(y,v={}){this.errors=y,this._updateControlsErrors(!1!==v.emitEvent)}get(y){let v=y;return null==v||(Array.isArray(v)||(v=v.split(".")),0===v.length)?null:v.reduce((T,se)=>T&&T._find(se),this)}getError(y,v){const T=v?this.get(v):this;return T&&T.errors?T.errors[y]:null}hasError(y,v){return!!this.getError(y,v)}get root(){let y=this;for(;y._parent;)y=y._parent;return y}_updateControlsErrors(y){this.status=this._calculateStatus(),y&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(y)}_initObservables(){this.valueChanges=new C.vpe,this.statusChanges=new C.vpe}_calculateStatus(){return this._allControlsDisabled()?fi:this.errors?_i:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ri)?Ri:this._anyControlsHaveStatus(_i)?_i:kt}_anyControlsHaveStatus(y){return this._anyControls(v=>v.status===y)}_anyControlsDirty(){return this._anyControls(y=>y.dirty)}_anyControlsTouched(){return this._anyControls(y=>y.touched)}_updatePristine(y={}){this.pristine=!this._anyControlsDirty(),this._parent&&!y.onlySelf&&this._parent._updatePristine(y)}_updateTouched(y={}){this.touched=this._anyControlsTouched(),this._parent&&!y.onlySelf&&this._parent._updateTouched(y)}_registerOnCollectionChange(y){this._onCollectionChange=y}_setUpdateStrategy(y){me(y)&&null!=y.updateOn&&(this._updateOn=y.updateOn)}_parentMarkedDirty(y){return!y&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(y){return null}_assignValidators(y){this._rawValidators=Array.isArray(y)?y.slice():y,this._composedValidatorFn=function V(x){return Array.isArray(x)?ge(x):x||null}(this._rawValidators)}_assignAsyncValidators(y){this._rawAsyncValidators=Array.isArray(y)?y.slice():y,this._composedAsyncValidatorFn=function Se(x){return Array.isArray(x)?B(x):x||null}(this._rawAsyncValidators)}}class it extends Et{constructor(y,v,T){super(le(v),$(T,v)),this.controls=y,this._initObservables(),this._setUpdateStrategy(v),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(y,v){return this.controls[y]?this.controls[y]:(this.controls[y]=v,v.setParent(this),v._registerOnCollectionChange(this._onCollectionChange),v)}addControl(y,v,T={}){this.registerControl(y,v),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}removeControl(y,v={}){this.controls[y]&&this.controls[y]._registerOnCollectionChange(()=>{}),delete this.controls[y],this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}setControl(y,v,T={}){this.controls[y]&&this.controls[y]._registerOnCollectionChange(()=>{}),delete this.controls[y],v&&this.registerControl(y,v),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}contains(y){return this.controls.hasOwnProperty(y)&&this.controls[y].enabled}setValue(y,v={}){(function gt(x,y,v){x._forEachChild((T,se)=>{if(void 0===v[se])throw new C.vHH(1002,"")})})(this,0,y),Object.keys(y).forEach(T=>{(function Xe(x,y,v){const T=x.controls;if(!(y?Object.keys(T):T).length)throw new C.vHH(1e3,"");if(!T[v])throw new C.vHH(1001,"")})(this,!0,T),this.controls[T].setValue(y[T],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v)}patchValue(y,v={}){null!=y&&(Object.keys(y).forEach(T=>{const se=this.controls[T];se&&se.patchValue(y[T],{onlySelf:!0,emitEvent:v.emitEvent})}),this.updateValueAndValidity(v))}reset(y={},v={}){this._forEachChild((T,se)=>{T.reset(y[se],{onlySelf:!0,emitEvent:v.emitEvent})}),this._updatePristine(v),this._updateTouched(v),this.updateValueAndValidity(v)}getRawValue(){return this._reduceChildren({},(y,v,T)=>(y[T]=v.getRawValue(),y))}_syncPendingControls(){let y=this._reduceChildren(!1,(v,T)=>!!T._syncPendingControls()||v);return y&&this.updateValueAndValidity({onlySelf:!0}),y}_forEachChild(y){Object.keys(this.controls).forEach(v=>{const T=this.controls[v];T&&y(T,v)})}_setUpControls(){this._forEachChild(y=>{y.setParent(this),y._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(y){for(const[v,T]of Object.entries(this.controls))if(this.contains(v)&&y(T))return!0;return!1}_reduceValue(){return this._reduceChildren({},(v,T,se)=>((T.enabled||this.disabled)&&(v[se]=T.value),v))}_reduceChildren(y,v){let T=y;return this._forEachChild((se,Ee)=>{T=v(T,se,Ee)}),T}_allControlsDisabled(){for(const y of Object.keys(this.controls))if(this.controls[y].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(y){return this.controls.hasOwnProperty(y)?this.controls[y]:null}}const G=new C.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>R}),R="always";function z(x,y,v=R){vt(x,y),y.valueAccessor.writeValue(x.value),(x.disabled||"always"===v)&&y.valueAccessor.setDisabledState?.(x.disabled),function Wr(x,y){y.valueAccessor.registerOnChange(v=>{x._pendingValue=v,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&ai(x,y)})}(x,y),function _t(x,y){const v=(T,se)=>{y.valueAccessor.writeValue(T),se&&y.viewToModelUpdate(T)};x.registerOnChange(v),y._registerOnDestroy(()=>{x._unregisterOnChange(v)})}(x,y),function Vn(x,y){y.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&ai(x,y),"submit"!==x.updateOn&&x.markAsTouched()})}(x,y),function et(x,y){if(y.valueAccessor.setDisabledState){const v=T=>{y.valueAccessor.setDisabledState(T)};x.registerOnDisabledChange(v),y._registerOnDestroy(()=>{x._unregisterOnDisabledChange(v)})}}(x,y)}function Ue(x,y){x.forEach(v=>{v.registerOnValidatorChange&&v.registerOnValidatorChange(y)})}function vt(x,y){const v=function Oe(x){return x._rawValidators}(x);null!==y.validator?x.setValidators(ce(v,y.validator)):"function"==typeof v&&x.setValidators([v]);const T=function Fe(x){return x._rawAsyncValidators}(x);null!==y.asyncValidator?x.setAsyncValidators(ce(T,y.asyncValidator)):"function"==typeof T&&x.setAsyncValidators([T]);const se=()=>x.updateValueAndValidity();Ue(y._rawValidators,se),Ue(y._rawAsyncValidators,se)}function ai(x,y){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),y.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}const sa={provide:At,useExisting:(0,C.Gpc)(()=>uo)},Bi=(()=>Promise.resolve())();let uo=(()=>{class x extends At{constructor(v,T,se){super(),this.callSetDisabledState=se,this.submitted=!1,this._directives=new Set,this.ngSubmit=new C.vpe,this.form=new it({},ge(v),B(T))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(v){Bi.then(()=>{const T=this._findContainer(v.path);v.control=T.registerControl(v.name,v.control),z(v.control,v,this.callSetDisabledState),v.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(v)})}getControl(v){return this.form.get(v.path)}removeControl(v){Bi.then(()=>{const T=this._findContainer(v.path);T&&T.removeControl(v.name),this._directives.delete(v)})}addFormGroup(v){Bi.then(()=>{const T=this._findContainer(v.path),se=new it({});(function Ao(x,y){vt(x,y)})(se,v),T.registerControl(v.name,se),se.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(v){Bi.then(()=>{const T=this._findContainer(v.path);T&&T.removeControl(v.name)})}getFormGroup(v){return this.form.get(v.path)}updateModel(v,T){Bi.then(()=>{this.form.get(v.path).setValue(T)})}setValue(v){this.control.setValue(v)}onSubmit(v){return this.submitted=!0,function Cr(x,y){x._syncPendingControls(),y.forEach(v=>{const T=v.control;"submit"===T.updateOn&&T._pendingChange&&(v.viewToModelUpdate(T._pendingValue),T._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(v),"dialog"===v?.target?.method}onReset(){this.resetForm()}resetForm(v){this.form.reset(v),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(v){return v.pop(),v.length?this.form.get(v):this.form}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(we,10),C.Y36(Ae,10),C.Y36(G,8))},x.\u0275dir=C.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(v,T){1&v&&C.NdJ("submit",function(Ee){return T.onSubmit(Ee)})("reset",function(){return T.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([sa]),C.qOj]}),x})();function mt(x,y){const v=x.indexOf(y);v>-1&&x.splice(v,1)}function tn(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const un=class extends Et{constructor(y=null,v,T){super(le(v),$(T,v)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(y),this._setUpdateStrategy(v),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),me(v)&&(v.nonNullable||v.initialValueIsDefault)&&(this.defaultValue=tn(y)?y.value:y)}setValue(y,v={}){this.value=this._pendingValue=y,this._onChange.length&&!1!==v.emitModelToViewChange&&this._onChange.forEach(T=>T(this.value,!1!==v.emitViewToModelChange)),this.updateValueAndValidity(v)}patchValue(y,v={}){this.setValue(y,v)}reset(y=this.defaultValue,v={}){this._applyFormState(y),this.markAsPristine(v),this.markAsUntouched(v),this.setValue(this.value,v),this._pendingChange=!1}_updateValue(){}_anyControls(y){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(y){this._onChange.push(y)}_unregisterOnChange(y){mt(this._onChange,y)}registerOnDisabledChange(y){this._onDisabledChange.push(y)}_unregisterOnDisabledChange(y){mt(this._onDisabledChange,y)}_forEachChild(y){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(y){tn(y)?(this.value=this._pendingValue=y.value,y.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=y}},Ro={provide:ft,useExisting:(0,C.Gpc)(()=>hn)},Ut=(()=>Promise.resolve())();let hn=(()=>{class x extends ft{constructor(v,T,se,Ee,sn,xn){super(),this._changeDetectorRef=sn,this.callSetDisabledState=xn,this.control=new un,this._registered=!1,this.update=new C.vpe,this._parent=v,this._setValidators(T),this._setAsyncValidators(se),this.valueAccessor=function vr(x,y){if(!y)return null;let v,T,se;return Array.isArray(y),y.forEach(Ee=>{Ee.constructor===De?v=Ee:function ra(x){return Object.getPrototypeOf(x.constructor)===ee}(Ee)?T=Ee:se=Ee}),se||T||v||null}(0,Ee)}ngOnChanges(v){if(this._checkForErrors(),!this._registered||"name"in v){if(this._registered&&(this._checkName(),this.formDirective)){const T=v.name.previousValue;this.formDirective.removeControl({name:T,path:this._getPath(T)})}this._setUpControl()}"isDisabled"in v&&this._updateDisabled(v),function mr(x,y){if(!x.hasOwnProperty("model"))return!1;const v=x.model;return!!v.isFirstChange()||!Object.is(y,v.currentValue)}(v,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(v){this.viewModel=v,this.update.emit(v)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){z(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(v){Ut.then(()=>{this.control.setValue(v,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(v){const T=v.isDisabled.currentValue,se=0!==T&&(0,C.D6c)(T);Ut.then(()=>{se&&!this.control.disabled?this.control.disable():!se&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(v){return this._parent?function I(x,y){return[...y.path,x]}(v,this._parent):[v]}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(At,9),C.Y36(we,10),C.Y36(Ae,10),C.Y36(Y,10),C.Y36(C.sBO,8),C.Y36(G,8))},x.\u0275dir=C.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C._Bn([Ro]),C.qOj,C.TTD]}),x})(),Bo=(()=>{class x{}return x.\u0275fac=function(v){return new(v||x)},x.\u0275dir=C.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const Vo={provide:Y,useExisting:(0,C.Gpc)(()=>Zi),multi:!0};let Hi=(()=>{class x{}return x.\u0275fac=function(v){return new(v||x)},x.\u0275mod=C.oAB({type:x}),x.\u0275inj=C.cJS({}),x})(),pn=(()=>{class x{constructor(){this._accessors=[]}add(v,T){this._accessors.push([v,T])}remove(v){for(let T=this._accessors.length-1;T>=0;--T)if(this._accessors[T][1]===v)return void this._accessors.splice(T,1)}select(v){this._accessors.forEach(T=>{this._isSameGroup(T,v)&&T[1]!==v&&T[1].fireUncheck(v.value)})}_isSameGroup(v,T){return!!v[0].control&&v[0]._parent===T._control._parent&&v[1].name===T.name}}return x.\u0275fac=function(v){return new(v||x)},x.\u0275prov=C.Yz7({token:x,factory:x.\u0275fac,providedIn:Hi}),x})(),Zi=(()=>{class x extends ee{constructor(v,T,se,Ee){super(v,T),this._registry=se,this._injector=Ee,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ft),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(v){this._state=v===this.value,this.setProperty("checked",this._state)}registerOnChange(v){this._fn=v,this.onChange=()=>{v(this.value),this._registry.select(this)}}fireUncheck(v){this.writeValue(v)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(pn),C.Y36(C.zs3))},x.\u0275dir=C.lG2({type:x,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(v,T){1&v&&C.NdJ("change",function(){return T.onChange()})("blur",function(){return T.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[C._Bn([Vo]),C.qOj]}),x})();const bn={provide:Y,useExisting:(0,C.Gpc)(()=>qi),multi:!0};function mi(x,y){return null==x?`${y}`:(y&&"object"==typeof y&&(y="Object"),`${x}: ${y}`.slice(0,50))}let qi=(()=>{class x extends ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(v){this._compareWith=v}writeValue(v){this.value=v;const se=mi(this._getOptionId(v),v);this.setProperty("value",se)}registerOnChange(v){this.onChange=T=>{this.value=this._getOptionValue(T),v(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(v){for(const T of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(T),v))return T;return null}_getOptionValue(v){const T=function zn(x){return x.split(":")[0]}(v);return this._optionMap.has(T)?this._optionMap.get(T):v}}return x.\u0275fac=function(){let y;return function(T){return(y||(y=C.n5z(x)))(T||x)}}(),x.\u0275dir=C.lG2({type:x,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(v,T){1&v&&C.NdJ("change",function(Ee){return T.onChange(Ee.target.value)})("blur",function(){return T.onTouched()})},inputs:{compareWith:"compareWith"},features:[C._Bn([bn]),C.qOj]}),x})(),Zn=(()=>{class x{constructor(v,T,se){this._element=v,this._renderer=T,this._select=se,this._select&&(this.id=this._select._registerOption())}set ngValue(v){null!=this._select&&(this._select._optionMap.set(this.id,v),this._setElementValue(mi(this.id,v)),this._select.writeValue(this._select.value))}set value(v){this._setElementValue(v),this._select&&this._select.writeValue(this._select.value)}_setElementValue(v){this._renderer.setProperty(this._element.nativeElement,"value",v)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(qi,9))},x.\u0275dir=C.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})();const ca={provide:Y,useExisting:(0,C.Gpc)(()=>wr),multi:!0};function ci(x,y){return null==x?`${y}`:("string"==typeof y&&(y=`'${y}'`),y&&"object"==typeof y&&(y="Object"),`${x}: ${y}`.slice(0,50))}let wr=(()=>{class x extends ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(v){this._compareWith=v}writeValue(v){let T;if(this.value=v,Array.isArray(v)){const se=v.map(Ee=>this._getOptionId(Ee));T=(Ee,sn)=>{Ee._setSelected(se.indexOf(sn.toString())>-1)}}else T=(se,Ee)=>{se._setSelected(!1)};this._optionMap.forEach(T)}registerOnChange(v){this.onChange=T=>{const se=[],Ee=T.selectedOptions;if(void 0!==Ee){const sn=Ee;for(let xn=0;xn<sn.length;xn++){const Or=this._getOptionValue(sn[xn].value);se.push(Or)}}else{const sn=T.options;for(let xn=0;xn<sn.length;xn++){const Sr=sn[xn];if(Sr.selected){const Or=this._getOptionValue(Sr.value);se.push(Or)}}}this.value=se,v(se)}}_registerOption(v){const T=(this._idCounter++).toString();return this._optionMap.set(T,v),T}_getOptionId(v){for(const T of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(T)._value,v))return T;return null}_getOptionValue(v){const T=function la(x){return x.split(":")[0]}(v);return this._optionMap.has(T)?this._optionMap.get(T)._value:v}}return x.\u0275fac=function(){let y;return function(T){return(y||(y=C.n5z(x)))(T||x)}}(),x.\u0275dir=C.lG2({type:x,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(v,T){1&v&&C.NdJ("change",function(Ee){return T.onChange(Ee.target)})("blur",function(){return T.onTouched()})},inputs:{compareWith:"compareWith"},features:[C._Bn([ca]),C.qOj]}),x})(),da=(()=>{class x{constructor(v,T,se){this._element=v,this._renderer=T,this._select=se,this._select&&(this.id=this._select._registerOption(this))}set ngValue(v){null!=this._select&&(this._value=v,this._setElementValue(ci(this.id,v)),this._select.writeValue(this._select.value))}set value(v){this._select?(this._value=v,this._setElementValue(ci(this.id,v)),this._select.writeValue(this._select.value)):this._setElementValue(v)}_setElementValue(v){this._renderer.setProperty(this._element.nativeElement,"value",v)}_setSelected(v){this._renderer.setProperty(this._element.nativeElement,"selected",v)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return x.\u0275fac=function(v){return new(v||x)(C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(wr,9))},x.\u0275dir=C.lG2({type:x,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),x})(),Mr=(()=>{class x{}return x.\u0275fac=function(v){return new(v||x)},x.\u0275mod=C.oAB({type:x}),x.\u0275inj=C.cJS({imports:[Hi]}),x})(),os=(()=>{class x{static withConfig(v){return{ngModule:x,providers:[{provide:G,useValue:v.callSetDisabledState??R}]}}}return x.\u0275fac=function(v){return new(v||x)},x.\u0275mod=C.oAB({type:x}),x.\u0275inj=C.cJS({imports:[Mr]}),x})()},1481:(qe,_e,k)=>{k.d(_e,{H7:()=>Qt,b2:()=>Lt,q6:()=>ut});var C=k(6895),D=k(3071);class e extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends e{static makeCurrent(){(0,C.HT)(new H)}onAndCancel(R,I,z){return R.addEventListener(I,z,!1),()=>{R.removeEventListener(I,z,!1)}}dispatchEvent(R,I){R.dispatchEvent(I)}remove(R){R.parentNode&&R.parentNode.removeChild(R)}createElement(R,I){return(I=I||this.getDefaultDocument()).createElement(R)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(R){return R.nodeType===Node.ELEMENT_NODE}isShadowRoot(R){return R instanceof DocumentFragment}getGlobalEventTarget(R,I){return"window"===I?window:"document"===I?R:"body"===I?R.body:null}getBaseHref(R){const I=function Q(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==I?null:function Y(G){ee=ee||document.createElement("a"),ee.setAttribute("href",G);const R=ee.pathname;return"/"===R.charAt(0)?R:`/${R}`}(I)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(R){return(0,C.Mx)(document.cookie,R)}}let ee,W=null;const K=new D.OlP("TRANSITION_ID"),te=[{provide:D.ip1,useFactory:function L(G,R,I){return()=>{I.get(D.CZH).donePromise.then(()=>{const z=(0,C.q)(),he=R.querySelectorAll(`style[ng-transition="${G}"]`);for(let Ue=0;Ue<he.length;Ue++)z.remove(he[Ue])})}},deps:[K,C.K0,D.zs3],multi:!0}];let ye=(()=>{class G{build(){return new XMLHttpRequest}}return G.\u0275fac=function(I){return new(I||G)},G.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac}),G})();const De=new D.OlP("EventManagerPlugins");let Pe=(()=>{class G{constructor(I,z){this._zone=z,this._eventNameToPlugin=new Map,I.forEach(he=>he.manager=this),this._plugins=I.slice().reverse()}addEventListener(I,z,he){return this._findPluginFor(z).addEventListener(I,z,he)}addGlobalEventListener(I,z,he){return this._findPluginFor(z).addGlobalEventListener(I,z,he)}getZone(){return this._zone}_findPluginFor(I){const z=this._eventNameToPlugin.get(I);if(z)return z;const he=this._plugins;for(let Ue=0;Ue<he.length;Ue++){const et=he[Ue];if(et.supports(I))return this._eventNameToPlugin.set(I,et),et}throw new Error(`No event manager plugin found for event ${I}`)}}return G.\u0275fac=function(I){return new(I||G)(D.LFG(De),D.LFG(D.R0b))},G.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac}),G})();class fe{constructor(R){this._doc=R}addGlobalEventListener(R,I,z){const he=(0,C.q)().getGlobalEventTarget(this._doc,R);if(!he)throw new Error(`Unsupported event target ${he} for event ${I}`);return this.addEventListener(he,I,z)}}let je=(()=>{class G{constructor(){this._stylesSet=new Set}addStyles(I){const z=new Set;I.forEach(he=>{this._stylesSet.has(he)||(this._stylesSet.add(he),z.add(he))}),this.onStylesAdded(z)}onStylesAdded(I){}getAllStyles(){return Array.from(this._stylesSet)}}return G.\u0275fac=function(I){return new(I||G)},G.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac}),G})(),we=(()=>{class G extends je{constructor(I){super(),this._doc=I,this._hostNodes=new Map,this._hostNodes.set(I.head,[])}_addStylesToHost(I,z,he){I.forEach(Ue=>{const et=this._doc.createElement("style");et.textContent=Ue,he.push(z.appendChild(et))})}addHost(I){const z=[];this._addStylesToHost(this._stylesSet,I,z),this._hostNodes.set(I,z)}removeHost(I){const z=this._hostNodes.get(I);z&&z.forEach(Ae),this._hostNodes.delete(I)}onStylesAdded(I){this._hostNodes.forEach((z,he)=>{this._addStylesToHost(I,he,z)})}ngOnDestroy(){this._hostNodes.forEach(I=>I.forEach(Ae))}}return G.\u0275fac=function(I){return new(I||G)(D.LFG(C.K0))},G.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac}),G})();function Ae(G){(0,C.q)().remove(G)}const Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bt=/%COMP%/g;function pe(G,R){return R.flat(100).map(I=>I.replace(bt,G))}function ie(G){return R=>{if("__ngUnwrap__"===R)return G;!1===G(R)&&(R.preventDefault(),R.returnValue=!1)}}let Ne=(()=>{class G{constructor(I,z,he){this.eventManager=I,this.sharedStylesHost=z,this.appId=he,this.rendererByCompId=new Map,this.defaultRenderer=new ne(I)}createRenderer(I,z){if(!I||!z)return this.defaultRenderer;switch(z.encapsulation){case D.ifc.Emulated:{let he=this.rendererByCompId.get(z.id);return he||(he=new xi(this.eventManager,this.sharedStylesHost,z,this.appId),this.rendererByCompId.set(z.id,he)),he.applyToHost(I),he}case D.ifc.ShadowDom:return new qn(this.eventManager,this.sharedStylesHost,I,z);default:if(!this.rendererByCompId.has(z.id)){const he=pe(z.id,z.styles);this.sharedStylesHost.addStyles(he),this.rendererByCompId.set(z.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return G.\u0275fac=function(I){return new(I||G)(D.LFG(Pe),D.LFG(we),D.LFG(D.AFp))},G.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac}),G})();class ne{constructor(R){this.eventManager=R,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(R,I){return I?document.createElementNS(Ze[I]||I,R):document.createElement(R)}createComment(R){return document.createComment(R)}createText(R){return document.createTextNode(R)}appendChild(R,I){(En(R)?R.content:R).appendChild(I)}insertBefore(R,I,z){R&&(En(R)?R.content:R).insertBefore(I,z)}removeChild(R,I){R&&R.removeChild(I)}selectRootElement(R,I){let z="string"==typeof R?document.querySelector(R):R;if(!z)throw new Error(`The selector "${R}" did not match any elements`);return I||(z.textContent=""),z}parentNode(R){return R.parentNode}nextSibling(R){return R.nextSibling}setAttribute(R,I,z,he){if(he){I=he+":"+I;const Ue=Ze[he];Ue?R.setAttributeNS(Ue,I,z):R.setAttribute(I,z)}else R.setAttribute(I,z)}removeAttribute(R,I,z){if(z){const he=Ze[z];he?R.removeAttributeNS(he,I):R.removeAttribute(`${z}:${I}`)}else R.removeAttribute(I)}addClass(R,I){R.classList.add(I)}removeClass(R,I){R.classList.remove(I)}setStyle(R,I,z,he){he&(D.JOm.DashCase|D.JOm.Important)?R.style.setProperty(I,z,he&D.JOm.Important?"important":""):R.style[I]=z}removeStyle(R,I,z){z&D.JOm.DashCase?R.style.removeProperty(I):R.style[I]=""}setProperty(R,I,z){R[I]=z}setValue(R,I){R.nodeValue=I}listen(R,I,z){return"string"==typeof R?this.eventManager.addGlobalEventListener(R,I,ie(z)):this.eventManager.addEventListener(R,I,ie(z))}}function En(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class xi extends ne{constructor(R,I,z,he){super(R),this.component=z;const Ue=pe(he+"-"+z.id,z.styles);I.addStyles(Ue),this.contentAttr=function q(G){return"_ngcontent-%COMP%".replace(bt,G)}(he+"-"+z.id),this.hostAttr=function J(G){return"_nghost-%COMP%".replace(bt,G)}(he+"-"+z.id)}applyToHost(R){super.setAttribute(R,this.hostAttr,"")}createElement(R,I){const z=super.createElement(R,I);return super.setAttribute(z,this.contentAttr,""),z}}class qn extends ne{constructor(R,I,z,he){super(R),this.sharedStylesHost=I,this.hostEl=z,this.shadowRoot=z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ue=pe(he.id,he.styles);for(let et=0;et<Ue.length;et++){const vt=document.createElement("style");vt.textContent=Ue[et],this.shadowRoot.appendChild(vt)}}nodeOrShadowRoot(R){return R===this.hostEl?this.shadowRoot:R}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(R,I){return super.appendChild(this.nodeOrShadowRoot(R),I)}insertBefore(R,I,z){return super.insertBefore(this.nodeOrShadowRoot(R),I,z)}removeChild(R,I){return super.removeChild(this.nodeOrShadowRoot(R),I)}parentNode(R){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(R)))}}let jt=(()=>{class G extends fe{constructor(I){super(I)}supports(I){return!0}addEventListener(I,z,he){return I.addEventListener(z,he,!1),()=>this.removeEventListener(I,z,he)}removeEventListener(I,z,he){return I.removeEventListener(z,he)}}return G.\u0275fac=function(I){return new(I||G)(D.LFG(C.K0))},G.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac}),G})();const ge=["alt","control","meta","shift"],Je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let ce=(()=>{class G extends fe{constructor(I){super(I)}supports(I){return null!=G.parseEventName(I)}addEventListener(I,z,he){const Ue=G.parseEventName(z),et=G.eventCallback(Ue.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(I,Ue.domEventName,et))}static parseEventName(I){const z=I.toLowerCase().split("."),he=z.shift();if(0===z.length||"keydown"!==he&&"keyup"!==he)return null;const Ue=G._normalizeKey(z.pop());let et="",vt=z.indexOf("code");if(vt>-1&&(z.splice(vt,1),et="code."),ge.forEach(Wr=>{const Vn=z.indexOf(Wr);Vn>-1&&(z.splice(Vn,1),et+=Wr+".")}),et+=Ue,0!=z.length||0===Ue.length)return null;const en={};return en.domEventName=he,en.fullKey=et,en}static matchEventFullKeyCode(I,z){let he=Je[I.key]||I.key,Ue="";return z.indexOf("code.")>-1&&(he=I.code,Ue="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),ge.forEach(et=>{et!==he&&(0,B[et])(I)&&(Ue+=et+".")}),Ue+=he,Ue===z)}static eventCallback(I,z,he){return Ue=>{G.matchEventFullKeyCode(Ue,I)&&he.runGuarded(()=>z(Ue))}}static _normalizeKey(I){return"esc"===I?"escape":I}}return G.\u0275fac=function(I){return new(I||G)(D.LFG(C.K0))},G.\u0275prov=D.Yz7({token:G,factory:G.\u0275fac}),G})();const ut=(0,D.eFA)(D._c5,"browser",[{provide:D.Lbi,useValue:C.bD},{provide:D.g9A,useValue:function Mn(){H.makeCurrent()},multi:!0},{provide:C.K0,useFactory:function At(){return(0,D.RDi)(document),document},deps:[]}]),pr=new D.OlP(""),zr=[{provide:D.rWj,useClass:class re{addToWindow(R){D.dqk.getAngularTestability=(z,he=!0)=>{const Ue=R.findTestabilityInTree(z,he);if(null==Ue)throw new Error("Could not find testability for element.");return Ue},D.dqk.getAllAngularTestabilities=()=>R.getAllTestabilities(),D.dqk.getAllAngularRootElements=()=>R.getAllRootElements(),D.dqk.frameworkStabilizers||(D.dqk.frameworkStabilizers=[]),D.dqk.frameworkStabilizers.push(z=>{const he=D.dqk.getAllAngularTestabilities();let Ue=he.length,et=!1;const vt=function(en){et=et||en,Ue--,0==Ue&&z(et)};he.forEach(function(en){en.whenStable(vt)})})}findTestabilityInTree(R,I,z){return null==I?null:R.getTestability(I)??(z?(0,C.q)().isShadowRoot(I)?this.findTestabilityInTree(R,I.host,!0):this.findTestabilityInTree(R,I.parentElement,!0):null)}},deps:[]},{provide:D.lri,useClass:D.dDg,deps:[D.R0b,D.eoX,D.rWj]},{provide:D.dDg,useClass:D.dDg,deps:[D.R0b,D.eoX,D.rWj]}],Xt=[{provide:D.zSh,useValue:"root"},{provide:D.qLn,useFactory:function Sn(){return new D.qLn},deps:[]},{provide:De,useClass:jt,multi:!0,deps:[C.K0,D.R0b,D.Lbi]},{provide:De,useClass:ce,multi:!0,deps:[C.K0]},{provide:Ne,useClass:Ne,deps:[Pe,we,D.AFp]},{provide:D.FYo,useExisting:Ne},{provide:je,useExisting:we},{provide:we,useClass:we,deps:[C.K0]},{provide:Pe,useClass:Pe,deps:[De,D.R0b]},{provide:C.JF,useClass:ye,deps:[]},[]];let Lt=(()=>{class G{constructor(I){}static withServerTransition(I){return{ngModule:G,providers:[{provide:D.AFp,useValue:I.appId},{provide:K,useExisting:D.AFp},te]}}}return G.\u0275fac=function(I){return new(I||G)(D.LFG(pr,12))},G.\u0275mod=D.oAB({type:G}),G.\u0275inj=D.cJS({providers:[...Xt,...zr],imports:[C.ez,D.hGG]}),G})();typeof window<"u"&&window;let Qt=(()=>{class G{}return G.\u0275fac=function(I){return new(I||G)},G.\u0275prov=D.Yz7({token:G,factory:function(I){let z=null;return z=I?new(I||G):D.LFG(vn),z},providedIn:"root"}),G})(),vn=(()=>{class G extends Qt{constructor(I){super(),this._doc=I}sanitize(I,z){if(null==z)return null;switch(I){case D.q3G.NONE:return z;case D.q3G.HTML:return(0,D.qzn)(z,"HTML")?(0,D.z3N)(z):(0,D.EiD)(this._doc,String(z)).toString();case D.q3G.STYLE:return(0,D.qzn)(z,"Style")?(0,D.z3N)(z):z;case D.q3G.SCRIPT:if((0,D.qzn)(z,"Script"))return(0,D.z3N)(z);throw new Error("unsafe value used in a script context");case D.q3G.URL:return(0,D.qzn)(z,"URL")?(0,D.z3N)(z):(0,D.mCW)(String(z));case D.q3G.RESOURCE_URL:if((0,D.qzn)(z,"ResourceURL"))return(0,D.z3N)(z);throw new Error(`unsafe value used in a resource URL context (see ${D.JZr})`);default:throw new Error(`Unexpected SecurityContext ${I} (see ${D.JZr})`)}}bypassSecurityTrustHtml(I){return(0,D.JVY)(I)}bypassSecurityTrustStyle(I){return(0,D.L6k)(I)}bypassSecurityTrustScript(I){return(0,D.eBb)(I)}bypassSecurityTrustUrl(I){return(0,D.LAX)(I)}bypassSecurityTrustResourceUrl(I){return(0,D.pB0)(I)}}return G.\u0275fac=function(I){return new(I||G)(D.LFG(C.K0))},G.\u0275prov=D.Yz7({token:G,factory:function(I){let z=null;return z=I?new I:function It(G){return new vn(G.get(C.K0))}(D.LFG(D.zs3)),z},providedIn:"root"}),G})()},4215:(qe,_e,k)=>{k.d(_e,{k2:()=>J,Zw:()=>je,aw:()=>jt,qi:()=>ve,X$:()=>qn,sK:()=>En,gM:()=>ie});var C=k(3071),D=k(1086),e=k(2916);function H(ge){return!!ge&&(ge instanceof e.y||"function"==typeof ge.lift&&"function"==typeof ge.subscribe)}var W=k(567),Q=k(1221),ee=k(5254),Y=k(8896);function K(ge){return new e.y(Je=>{let B;try{B=ge()}catch(Oe){return void Je.error(Oe)}return(B?(0,ee.D)(B):(0,Y.c)()).subscribe(Je)})}var L=k(2986),te=k(6978);function re(ge,Je,B){let ce;return ce=ge&&"object"==typeof ge?ge:{bufferSize:ge,windowTime:Je,refCount:!1,scheduler:B},Oe=>Oe.lift(function ye({bufferSize:ge=Number.POSITIVE_INFINITY,windowTime:Je=Number.POSITIVE_INFINITY,refCount:B,scheduler:ce}){let Oe,nt,Fe=0,Jt=!1,dn=!1;return function(Sn){let At;Fe++,!Oe||Jt?(Jt=!1,Oe=new te.t(ge,Je,ce),At=Oe.subscribe(this),nt=Sn.subscribe({next(ft){Oe.next(ft)},error(ft){Jt=!0,Oe.error(ft)},complete(){dn=!0,nt=void 0,Oe.complete()}}),dn&&(nt=void 0)):At=Oe.subscribe(this),this.add(()=>{Fe--,At.unsubscribe(),At=void 0,nt&&!dn&&B&&0===Fe&&(nt.unsubscribe(),nt=void 0,Oe=void 0)})}}(ce))}var De=k(4850),Pe=k(1406),fe=k(7545);class je{}let we=(()=>{class ge extends je{getTranslation(B){return(0,D.of)({})}}return ge.\u0275fac=function(){let Je;return function(ce){return(Je||(Je=C.n5z(ge)))(ce||ge)}}(),ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class Ae{}let Ze=(()=>{class ge{handle(B){return B.key}}return ge.\u0275fac=function(B){return new(B||ge)},ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();function bt(ge,Je){if(ge===Je)return!0;if(null===ge||null===Je)return!1;if(ge!=ge&&Je!=Je)return!0;let Oe,Fe,nt,B=typeof ge;if(B==typeof Je&&"object"==B){if(!Array.isArray(ge)){if(Array.isArray(Je))return!1;for(Fe in nt=Object.create(null),ge){if(!bt(ge[Fe],Je[Fe]))return!1;nt[Fe]=!0}for(Fe in Je)if(!(Fe in nt)&&typeof Je[Fe]<"u")return!1;return!0}if(!Array.isArray(Je))return!1;if((Oe=ge.length)==Je.length){for(Fe=0;Fe<Oe;Fe++)if(!bt(ge[Fe],Je[Fe]))return!1;return!0}}return!1}function Nt(ge){return typeof ge<"u"&&null!==ge}function Tt(ge){return ge&&"object"==typeof ge&&!Array.isArray(ge)}function xe(ge,Je){let B=Object.assign({},ge);return Tt(ge)&&Tt(Je)&&Object.keys(Je).forEach(ce=>{Tt(Je[ce])?ce in ge?B[ce]=xe(ge[ce],Je[ce]):Object.assign(B,{[ce]:Je[ce]}):Object.assign(B,{[ce]:Je[ce]})}),B}class ve{}let q=(()=>{class ge extends ve{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(B,ce){let Oe;return Oe="string"==typeof B?this.interpolateString(B,ce):"function"==typeof B?this.interpolateFunction(B,ce):B,Oe}getValue(B,ce){let Oe="string"==typeof ce?ce.split("."):[ce];ce="";do{ce+=Oe.shift(),!Nt(B)||!Nt(B[ce])||"object"!=typeof B[ce]&&Oe.length?Oe.length?ce+=".":B=void 0:(B=B[ce],ce="")}while(Oe.length);return B}interpolateFunction(B,ce){return B(ce)}interpolateString(B,ce){return ce?B.replace(this.templateMatcher,(Oe,Fe)=>{let nt=this.getValue(ce,Fe);return Nt(nt)?nt:Oe}):B}}return ge.\u0275fac=function(){let Je;return function(ce){return(Je||(Je=C.n5z(ge)))(ce||ge)}}(),ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class J{}let pe=(()=>{class ge extends J{compile(B,ce){return B}compileTranslations(B,ce){return B}}return ge.\u0275fac=function(){let Je;return function(ce){return(Je||(Je=C.n5z(ge)))(ce||ge)}}(),ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class ie{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new C.vpe,this.onLangChange=new C.vpe,this.onDefaultLangChange=new C.vpe}}const Ne=new C.OlP("USE_STORE"),ne=new C.OlP("USE_DEFAULT_LANG"),Ve=new C.OlP("DEFAULT_LANGUAGE"),ln=new C.OlP("USE_EXTEND");let En=(()=>{class ge{constructor(B,ce,Oe,Fe,nt,Jt=!0,dn=!1,Mn=!1,Sn){this.store=B,this.currentLoader=ce,this.compiler=Oe,this.parser=Fe,this.missingTranslationHandler=nt,this.useDefaultLang=Jt,this.isolate=dn,this.extend=Mn,this.pending=!1,this._onTranslationChange=new C.vpe,this._onLangChange=new C.vpe,this._onDefaultLangChange=new C.vpe,this._langs=[],this._translations={},this._translationRequests={},Sn&&this.setDefaultLang(Sn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(B){this.isolate?this._defaultLang=B:this.store.defaultLang=B}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(B){this.isolate?this._currentLang=B:this.store.currentLang=B}get langs(){return this.isolate?this._langs:this.store.langs}set langs(B){this.isolate?this._langs=B:this.store.langs=B}get translations(){return this.isolate?this._translations:this.store.translations}set translations(B){this.isolate?this._translations=B:this.store.translations=B}setDefaultLang(B){if(B===this.defaultLang)return;let ce=this.retrieveTranslations(B);typeof ce<"u"?(null==this.defaultLang&&(this.defaultLang=B),ce.pipe((0,L.q)(1)).subscribe(Oe=>{this.changeDefaultLang(B)})):this.changeDefaultLang(B)}getDefaultLang(){return this.defaultLang}use(B){if(B===this.currentLang)return(0,D.of)(this.translations[B]);let ce=this.retrieveTranslations(B);return typeof ce<"u"?(this.currentLang||(this.currentLang=B),ce.pipe((0,L.q)(1)).subscribe(Oe=>{this.changeLang(B)}),ce):(this.changeLang(B),(0,D.of)(this.translations[B]))}retrieveTranslations(B){let ce;return(typeof this.translations[B]>"u"||this.extend)&&(this._translationRequests[B]=this._translationRequests[B]||this.getTranslation(B),ce=this._translationRequests[B]),ce}getTranslation(B){this.pending=!0;const ce=this.currentLoader.getTranslation(B).pipe(re(1),(0,L.q)(1));return this.loadingTranslations=ce.pipe((0,De.U)(Oe=>this.compiler.compileTranslations(Oe,B)),re(1),(0,L.q)(1)),this.loadingTranslations.subscribe({next:Oe=>{this.translations[B]=this.extend&&this.translations[B]?{...Oe,...this.translations[B]}:Oe,this.updateLangs(),this.pending=!1},error:Oe=>{this.pending=!1}}),ce}setTranslation(B,ce,Oe=!1){ce=this.compiler.compileTranslations(ce,B),this.translations[B]=(Oe||this.extend)&&this.translations[B]?xe(this.translations[B],ce):ce,this.updateLangs(),this.onTranslationChange.emit({lang:B,translations:this.translations[B]})}getLangs(){return this.langs}addLangs(B){B.forEach(ce=>{-1===this.langs.indexOf(ce)&&this.langs.push(ce)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(B,ce,Oe){let Fe;if(ce instanceof Array){let nt={},Jt=!1;for(let dn of ce)nt[dn]=this.getParsedResult(B,dn,Oe),H(nt[dn])&&(Jt=!0);if(Jt){const dn=ce.map(Mn=>H(nt[Mn])?nt[Mn]:(0,D.of)(nt[Mn]));return(0,W.D)(dn).pipe((0,De.U)(Mn=>{let Sn={};return Mn.forEach((At,ft)=>{Sn[ce[ft]]=At}),Sn}))}return nt}if(B&&(Fe=this.parser.interpolate(this.parser.getValue(B,ce),Oe)),typeof Fe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Fe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],ce),Oe)),typeof Fe>"u"){let nt={key:ce,translateService:this};typeof Oe<"u"&&(nt.interpolateParams=Oe),Fe=this.missingTranslationHandler.handle(nt)}return typeof Fe<"u"?Fe:ce}get(B,ce){if(!Nt(B)||!B.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Pe.b)(Oe=>H(Oe=this.getParsedResult(Oe,B,ce))?Oe:(0,D.of)(Oe)));{let Oe=this.getParsedResult(this.translations[this.currentLang],B,ce);return H(Oe)?Oe:(0,D.of)(Oe)}}getStreamOnTranslationChange(B,ce){if(!Nt(B)||!B.length)throw new Error('Parameter "key" required');return(0,Q.z)(K(()=>this.get(B,ce)),this.onTranslationChange.pipe((0,fe.w)(Oe=>{const Fe=this.getParsedResult(Oe.translations,B,ce);return"function"==typeof Fe.subscribe?Fe:(0,D.of)(Fe)})))}stream(B,ce){if(!Nt(B)||!B.length)throw new Error('Parameter "key" required');return(0,Q.z)(K(()=>this.get(B,ce)),this.onLangChange.pipe((0,fe.w)(Oe=>{const Fe=this.getParsedResult(Oe.translations,B,ce);return H(Fe)?Fe:(0,D.of)(Fe)})))}instant(B,ce){if(!Nt(B)||!B.length)throw new Error('Parameter "key" required');let Oe=this.getParsedResult(this.translations[this.currentLang],B,ce);if(H(Oe)){if(B instanceof Array){let Fe={};return B.forEach((nt,Jt)=>{Fe[B[Jt]]=B[Jt]}),Fe}return B}return Oe}set(B,ce,Oe=this.currentLang){this.translations[Oe][B]=this.compiler.compile(ce,Oe),this.updateLangs(),this.onTranslationChange.emit({lang:Oe,translations:this.translations[Oe]})}changeLang(B){this.currentLang=B,this.onLangChange.emit({lang:B,translations:this.translations[B]}),null==this.defaultLang&&this.changeDefaultLang(B)}changeDefaultLang(B){this.defaultLang=B,this.onDefaultLangChange.emit({lang:B,translations:this.translations[B]})}reloadLang(B){return this.resetLang(B),this.getTranslation(B)}resetLang(B){this._translationRequests[B]=void 0,this.translations[B]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let B=window.navigator.languages?window.navigator.languages[0]:null;return B=B||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof B>"u"?void 0:(-1!==B.indexOf("-")&&(B=B.split("-")[0]),-1!==B.indexOf("_")&&(B=B.split("_")[0]),B)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let B=window.navigator.languages?window.navigator.languages[0]:null;return B=B||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,B}}return ge.\u0275fac=function(B){return new(B||ge)(C.LFG(ie),C.LFG(je),C.LFG(J),C.LFG(ve),C.LFG(Ae),C.LFG(ne),C.LFG(Ne),C.LFG(ln),C.LFG(Ve))},ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})(),qn=(()=>{class ge{constructor(B,ce){this.translate=B,this._ref=ce,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(B,ce,Oe){let Fe=nt=>{this.value=void 0!==nt?nt:B,this.lastKey=B,this._ref.markForCheck()};if(Oe){let nt=this.translate.getParsedResult(Oe,B,ce);H(nt.subscribe)?nt.subscribe(Fe):Fe(nt)}this.translate.get(B,ce).subscribe(Fe)}transform(B,...ce){if(!B||!B.length)return B;if(bt(B,this.lastKey)&&bt(ce,this.lastParams))return this.value;let Oe;if(Nt(ce[0])&&ce.length)if("string"==typeof ce[0]&&ce[0].length){let Fe=ce[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{Oe=JSON.parse(Fe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ce[0]}`)}}else"object"==typeof ce[0]&&!Array.isArray(ce[0])&&(Oe=ce[0]);return this.lastKey=B,this.lastParams=ce,this.updateValue(B,Oe),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Fe=>{this.lastKey&&Fe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(B,Oe,Fe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Fe=>{this.lastKey&&(this.lastKey=null,this.updateValue(B,Oe,Fe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(B,Oe))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ge.\u0275fac=function(B){return new(B||ge)(C.Y36(En,16),C.Y36(C.sBO,16))},ge.\u0275pipe=C.Yjl({name:"translate",type:ge,pure:!1}),ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})(),jt=(()=>{class ge{static forRoot(B={}){return{ngModule:ge,providers:[B.loader||{provide:je,useClass:we},B.compiler||{provide:J,useClass:pe},B.parser||{provide:ve,useClass:q},B.missingTranslationHandler||{provide:Ae,useClass:Ze},ie,{provide:Ne,useValue:B.isolate},{provide:ne,useValue:B.useDefaultLang},{provide:ln,useValue:B.extend},{provide:Ve,useValue:B.defaultLanguage},En]}}static forChild(B={}){return{ngModule:ge,providers:[B.loader||{provide:je,useClass:we},B.compiler||{provide:J,useClass:pe},B.parser||{provide:ve,useClass:q},B.missingTranslationHandler||{provide:Ae,useClass:Ze},{provide:Ne,useValue:B.isolate},{provide:ne,useValue:B.useDefaultLang},{provide:ln,useValue:B.extend},{provide:Ve,useValue:B.defaultLanguage},En]}}}return ge.\u0275fac=function(B){return new(B||ge)},ge.\u0275mod=C.oAB({type:ge}),ge.\u0275inj=C.cJS({}),ge})()},5861:(qe,_e,k)=>{function C(e,H,W,Q,ee,Y,K){try{var L=e[Y](K),te=L.value}catch(re){return void W(re)}L.done?H(te):Promise.resolve(te).then(Q,ee)}function D(e){return function(){var H=this,W=arguments;return new Promise(function(Q,ee){var Y=e.apply(H,W);function K(te){C(Y,Q,ee,K,L,"next",te)}function L(te){C(Y,Q,ee,K,L,"throw",te)}K(void 0)})}}k.d(_e,{Z:()=>D})}},qe=>{qe(qe.s=3164)}]);